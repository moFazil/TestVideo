"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-client_src_components_Editor_tsx",{

/***/ "(app-client)/./src/store/Store.ts":
/*!****************************!*\
  !*** ./src/store/Store.ts ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Store: function() { return /* binding */ Store; },\n/* harmony export */   isEditorAudioElement: function() { return /* binding */ isEditorAudioElement; },\n/* harmony export */   isEditorImageElement: function() { return /* binding */ isEditorImageElement; },\n/* harmony export */   isEditorVideoElement: function() { return /* binding */ isEditorVideoElement; }\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mobx */ \"(app-client)/./node_modules/mobx/dist/mobx.esm.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"(app-client)/./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils */ \"(app-client)/./src/utils/index.ts\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! animejs */ \"(app-client)/./node_modules/animejs/lib/anime.es.js\");\n/* harmony import */ var _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/fabric-utils */ \"(app-client)/./src/utils/fabric-utils.ts\");\n/* harmony import */ var _ffmpeg_ffmpeg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ffmpeg/ffmpeg */ \"(app-client)/./node_modules/@ffmpeg/ffmpeg/dist/esm/index.js\");\n/* harmony import */ var _ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ffmpeg/util */ \"(app-client)/./node_modules/@ffmpeg/util/dist/esm/index.js\");\n\n\n\n\n\n\n\nclass Store {\n    get currentTimeInMs() {\n        return this.currentKeyFrame * 1000 / this.fps;\n    }\n    setCurrentTimeInMs(time) {\n        this.currentKeyFrame = Math.floor(time / 1000 * this.fps);\n    }\n    setSelectedMenuOption(selectedMenuOption) {\n        this.selectedMenuOption = selectedMenuOption;\n    }\n    setCanvas(canvas) {\n        this.canvas = canvas;\n        if (canvas) {\n            canvas.backgroundColor = this.backgroundColor;\n        }\n    }\n    setBackgroundColor(backgroundColor) {\n        this.backgroundColor = backgroundColor;\n        if (this.canvas) {\n            this.canvas.backgroundColor = backgroundColor;\n        }\n    }\n    setTextColor(TextColor) {\n        this.TextColor = TextColor;\n        if (this.selectedElement) {\n            this.selectedElement = TextColor;\n        }\n    }\n    updateEffect(id, effect) {\n        const index = this.editorElements.findIndex((element)=>element.id === id);\n        const element = this.editorElements[index];\n        if (isEditorVideoElement(element) || isEditorImageElement(element)) {\n            element.properties.effect = effect;\n        }\n        this.refreshElements();\n    }\n    setVideos(videos) {\n        this.videos = videos;\n    }\n    addVideoResource(video) {\n        this.videos = [\n            ...this.videos,\n            video\n        ];\n    }\n    addAudioResource(audio) {\n        this.audios = [\n            ...this.audios,\n            audio\n        ];\n    }\n    addImageResource(image) {\n        this.images = [\n            ...this.images,\n            image\n        ];\n    }\n    addAnimation(animation) {\n        this.animations = [\n            ...this.animations,\n            animation\n        ];\n        this.refreshAnimations();\n    }\n    updateAnimation(id, animation) {\n        const index = this.animations.findIndex((a)=>a.id === id);\n        this.animations[index] = animation;\n        this.refreshAnimations();\n    }\n    refreshAnimations() {\n        animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remove(this.animationTimeLine);\n        this.animationTimeLine = animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].timeline({\n            duration: this.maxTime,\n            autoplay: false\n        });\n        for(let i = 0; i < this.animations.length; i++){\n            var _editorElement;\n            const animation = this.animations[i];\n            const editorElement = this.editorElements.find((element)=>element.id === animation.targetId);\n            const fabricObject = (_editorElement = editorElement) === null || _editorElement === void 0 ? void 0 : _editorElement.fabricObject;\n            if (!editorElement || !fabricObject) {\n                continue;\n            }\n            fabricObject.clipPath = undefined;\n            switch(animation.type){\n                case \"fadeIn\":\n                    {\n                        this.animationTimeLine.add({\n                            opacity: [\n                                0,\n                                1\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.start);\n                        break;\n                    }\n                case \"fadeOut\":\n                    {\n                        this.animationTimeLine.add({\n                            opacity: [\n                                1,\n                                0\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.end - animation.duration);\n                        break;\n                    }\n                case \"slideIn\":\n                    {\n                        var _this_canvas, _this_canvas1;\n                        const direction = animation.properties.direction;\n                        const targetPosition = {\n                            left: editorElement.placement.x,\n                            top: editorElement.placement.y\n                        };\n                        const startPosition = {\n                            left: direction === \"left\" ? -editorElement.placement.width : direction === \"right\" ? (_this_canvas = this.canvas) === null || _this_canvas === void 0 ? void 0 : _this_canvas.width : editorElement.placement.x,\n                            top: direction === \"top\" ? -editorElement.placement.height : direction === \"bottom\" ? (_this_canvas1 = this.canvas) === null || _this_canvas1 === void 0 ? void 0 : _this_canvas1.height : editorElement.placement.y\n                        };\n                        if (animation.properties.useClipPath) {\n                            const clipRectangle = _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__.FabricUitls.getClipMaskRect(editorElement, 50);\n                            fabricObject.set(\"clipPath\", clipRectangle);\n                        }\n                        if (editorElement.type === \"text\" && animation.properties.textType === \"character\") {\n                            var _this_canvas2;\n                            (_this_canvas2 = this.canvas) === null || _this_canvas2 === void 0 ? void 0 : _this_canvas2.remove(...editorElement.properties.splittedTexts);\n                            // @ts-ignore\n                            editorElement.properties.splittedTexts = getTextObjectsPartitionedByCharacters(editorElement.fabricObject, editorElement);\n                            editorElement.properties.splittedTexts.forEach((textObject)=>{\n                                this.canvas.add(textObject);\n                            });\n                            const duration = animation.duration / 2;\n                            const delay = duration / editorElement.properties.splittedTexts.length;\n                            for(let i = 0; i < editorElement.properties.splittedTexts.length; i++){\n                                const splittedText = editorElement.properties.splittedTexts[i];\n                                const offset = {\n                                    left: splittedText.left - editorElement.placement.x,\n                                    top: splittedText.top - editorElement.placement.y\n                                };\n                                this.animationTimeLine.add({\n                                    left: [\n                                        startPosition.left + offset.left,\n                                        targetPosition.left + offset.left\n                                    ],\n                                    top: [\n                                        startPosition.top + offset.top,\n                                        targetPosition.top + offset.top\n                                    ],\n                                    delay: i * delay,\n                                    duration: duration,\n                                    targets: splittedText\n                                }, editorElement.timeFrame.start);\n                            }\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    1,\n                                    0\n                                ],\n                                duration: 1,\n                                targets: fabricObject,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    0,\n                                    1\n                                ],\n                                duration: 1,\n                                targets: fabricObject,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start + animation.duration);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    0,\n                                    1\n                                ],\n                                duration: 1,\n                                targets: editorElement.properties.splittedTexts,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    1,\n                                    0\n                                ],\n                                duration: 1,\n                                targets: editorElement.properties.splittedTexts,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start + animation.duration);\n                        }\n                        this.animationTimeLine.add({\n                            left: [\n                                startPosition.left,\n                                targetPosition.left\n                            ],\n                            top: [\n                                startPosition.top,\n                                targetPosition.top\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.start);\n                        break;\n                    }\n                case \"slideOut\":\n                    {\n                        var _this_canvas3, _this_canvas4;\n                        const direction = animation.properties.direction;\n                        const startPosition = {\n                            left: editorElement.placement.x,\n                            top: editorElement.placement.y\n                        };\n                        const targetPosition = {\n                            left: direction === \"left\" ? -editorElement.placement.width : direction === \"right\" ? (_this_canvas3 = this.canvas) === null || _this_canvas3 === void 0 ? void 0 : _this_canvas3.width : editorElement.placement.x,\n                            top: direction === \"top\" ? -100 - editorElement.placement.height : direction === \"bottom\" ? (_this_canvas4 = this.canvas) === null || _this_canvas4 === void 0 ? void 0 : _this_canvas4.height : editorElement.placement.y\n                        };\n                        if (animation.properties.useClipPath) {\n                            const clipRectangle = _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__.FabricUitls.getClipMaskRect(editorElement, 50);\n                            fabricObject.set(\"clipPath\", clipRectangle);\n                        }\n                        this.animationTimeLine.add({\n                            left: [\n                                startPosition.left,\n                                targetPosition.left\n                            ],\n                            top: [\n                                startPosition.top,\n                                targetPosition.top\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.end - animation.duration);\n                        break;\n                    }\n                case \"breathe\":\n                    {\n                        const itsSlideInAnimation = this.animations.find((a)=>a.targetId === animation.targetId && a.type === \"slideIn\");\n                        const itsSlideOutAnimation = this.animations.find((a)=>a.targetId === animation.targetId && a.type === \"slideOut\");\n                        const timeEndOfSlideIn = itsSlideInAnimation ? editorElement.timeFrame.start + itsSlideInAnimation.duration : editorElement.timeFrame.start;\n                        const timeStartOfSlideOut = itsSlideOutAnimation ? editorElement.timeFrame.end - itsSlideOutAnimation.duration : editorElement.timeFrame.end;\n                        if (timeEndOfSlideIn > timeStartOfSlideOut) {\n                            continue;\n                        }\n                        const duration = timeStartOfSlideOut - timeEndOfSlideIn;\n                        const easeFactor = 4;\n                        const suitableTimeForHeartbeat = 1000 * 60 / 72 * easeFactor;\n                        const upScale = 1.05;\n                        var _fabricObject_scaleX;\n                        const currentScaleX = (_fabricObject_scaleX = fabricObject.scaleX) !== null && _fabricObject_scaleX !== void 0 ? _fabricObject_scaleX : 1;\n                        var _fabricObject_scaleY;\n                        const currentScaleY = (_fabricObject_scaleY = fabricObject.scaleY) !== null && _fabricObject_scaleY !== void 0 ? _fabricObject_scaleY : 1;\n                        const finalScaleX = currentScaleX * upScale;\n                        const finalScaleY = currentScaleY * upScale;\n                        const totalHeartbeats = Math.floor(duration / suitableTimeForHeartbeat);\n                        if (totalHeartbeats < 1) {\n                            continue;\n                        }\n                        const keyframes = [];\n                        for(let i = 0; i < totalHeartbeats; i++){\n                            keyframes.push({\n                                scaleX: finalScaleX,\n                                scaleY: finalScaleY\n                            });\n                            keyframes.push({\n                                scaleX: currentScaleX,\n                                scaleY: currentScaleY\n                            });\n                        }\n                        this.animationTimeLine.add({\n                            duration: duration,\n                            targets: fabricObject,\n                            keyframes,\n                            easing: \"linear\",\n                            loop: true\n                        }, timeEndOfSlideIn);\n                        break;\n                    }\n            }\n        }\n    }\n    removeAnimation(id) {\n        this.animations = this.animations.filter((animation)=>animation.id !== id);\n        this.refreshAnimations();\n    }\n    setSelectedElement(selectedElement) {\n        this.selectedElement = selectedElement;\n        if (this.canvas) {\n            var _selectedElement;\n            if ((_selectedElement = selectedElement) === null || _selectedElement === void 0 ? void 0 : _selectedElement.fabricObject) this.canvas.setActiveObject(selectedElement.fabricObject);\n            else this.canvas.discardActiveObject();\n        }\n    }\n    updateSelectedElement() {\n        var _this_editorElements_find;\n        this.selectedElement = (_this_editorElements_find = this.editorElements.find((element)=>{\n            var _this_selectedElement;\n            return element.id === ((_this_selectedElement = this.selectedElement) === null || _this_selectedElement === void 0 ? void 0 : _this_selectedElement.id);\n        })) !== null && _this_editorElements_find !== void 0 ? _this_editorElements_find : null;\n    }\n    setEditorElements(editorElements) {\n        this.editorElements = editorElements;\n        this.updateSelectedElement();\n        this.refreshElements();\n    // this.refreshAnimations();\n    }\n    updateEditorElement(editorElement) {\n        this.setEditorElements(this.editorElements.map((element)=>element.id === editorElement.id ? editorElement : element));\n    }\n    updateEditorElementTimeFrame(editorElement, timeFrame) {\n        if (timeFrame.start != undefined && timeFrame.start < 0) {\n            timeFrame.start = 0;\n        }\n        if (timeFrame.end != undefined && timeFrame.end > this.maxTime) {\n            timeFrame.end = this.maxTime;\n        }\n        const newEditorElement = {\n            ...editorElement,\n            timeFrame: {\n                ...editorElement.timeFrame,\n                ...timeFrame\n            }\n        };\n        this.updateVideoElements();\n        this.updateAudioElements();\n        this.updateEditorElement(newEditorElement);\n        this.refreshAnimations();\n    }\n    addEditorElement(editorElement) {\n        this.setEditorElements([\n            ...this.editorElements,\n            editorElement\n        ]);\n        this.refreshElements();\n        this.setSelectedElement(this.editorElements[this.editorElements.length - 1]);\n    }\n    removeEditorElement(id) {\n        this.setEditorElements(this.editorElements.filter((editorElement)=>editorElement.id !== id));\n        this.refreshElements();\n    }\n    setMaxTime(maxTime) {\n        this.maxTime = maxTime;\n    }\n    setPlaying(playing) {\n        this.playing = playing;\n        this.updateVideoElements();\n        this.updateAudioElements();\n        if (playing) {\n            this.startedTime = Date.now();\n            this.startedTimePlay = this.currentTimeInMs;\n            requestAnimationFrame(()=>{\n                this.playFrames();\n            });\n        }\n    }\n    playFrames() {\n        if (!this.playing) {\n            return;\n        }\n        const elapsedTime = Date.now() - this.startedTime;\n        const newTime = this.startedTimePlay + elapsedTime;\n        this.updateTimeTo(newTime);\n        if (newTime > this.maxTime) {\n            this.currentKeyFrame = 0;\n            this.setPlaying(false);\n        } else {\n            requestAnimationFrame(()=>{\n                this.playFrames();\n            });\n        }\n    }\n    updateTimeTo(newTime) {\n        this.setCurrentTimeInMs(newTime);\n        this.animationTimeLine.seek(newTime);\n        if (this.canvas) {\n            this.canvas.backgroundColor = this.backgroundColor;\n        }\n        this.editorElements.forEach((e)=>{\n            if (!e.fabricObject) return;\n            const isInside = e.timeFrame.start <= newTime && newTime <= e.timeFrame.end;\n            e.fabricObject.visible = isInside;\n        });\n    }\n    handleSeek(seek) {\n        if (this.playing) {\n            this.setPlaying(false);\n        }\n        this.updateTimeTo(seek);\n        this.updateVideoElements();\n        this.updateAudioElements();\n    }\n    addVideo(index) {\n        const videoElement = document.getElementById(\"video-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(videoElement)) {\n            return;\n        }\n        const videoDurationMs = videoElement.duration * 1000;\n        const aspectRatio = videoElement.videoWidth / videoElement.videoHeight;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(video) \".concat(index + 1),\n            type: \"video\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100 * aspectRatio,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: videoDurationMs\n            },\n            properties: {\n                elementId: \"video-\".concat(id),\n                src: videoElement.src,\n                effect: {\n                    type: \"none\"\n                }\n            }\n        });\n    }\n    addImage(index) {\n        const imageElement = document.getElementById(\"image-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlImageElement)(imageElement)) {\n            return;\n        }\n        const aspectRatio = imageElement.naturalWidth / imageElement.naturalHeight;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(image) \".concat(index + 1),\n            type: \"image\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100 * aspectRatio,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: this.maxTime\n            },\n            properties: {\n                elementId: \"image-\".concat(id),\n                src: imageElement.src,\n                effect: {\n                    type: \"none\"\n                }\n            }\n        });\n    }\n    addAudio(index) {\n        const audioElement = document.getElementById(\"audio-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlAudioElement)(audioElement)) {\n            return;\n        }\n        const audioDurationMs = audioElement.duration * 1000;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(audio) \".concat(index + 1),\n            type: \"audio\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: audioDurationMs\n            },\n            properties: {\n                elementId: \"audio-\".concat(id),\n                src: audioElement.src\n            }\n        });\n    }\n    addText(options) {\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        const index = this.editorElements.length;\n        this.addEditorElement({\n            id,\n            name: \"Text \".concat(index + 1),\n            type: \"text\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: this.maxTime\n            },\n            properties: {\n                text: options.text,\n                fontSize: options.fontSize,\n                fontWeight: options.fontWeight,\n                splittedTexts: []\n            }\n        });\n    }\n    updateVideoElements() {\n        this.editorElements.filter((element)=>element.type === \"video\").forEach((element)=>{\n            const video = document.getElementById(element.properties.elementId);\n            if ((0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(video)) {\n                const videoTime = (this.currentTimeInMs - element.timeFrame.start) / 1000;\n                video.currentTime = videoTime;\n                if (this.playing) {\n                    video.play();\n                } else {\n                    video.pause();\n                }\n            }\n        });\n    }\n    updateAudioElements() {\n        this.editorElements.filter((element)=>element.type === \"audio\").forEach((element)=>{\n            const audio = document.getElementById(element.properties.elementId);\n            if ((0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlAudioElement)(audio)) {\n                const audioTime = (this.currentTimeInMs - element.timeFrame.start) / 1000;\n                audio.currentTime = audioTime;\n                if (this.playing) {\n                    audio.play();\n                } else {\n                    audio.pause();\n                }\n            }\n        });\n    }\n    // saveCanvasToVideo() {\n    //   const video = document.createElement(\"video\");\n    //   const canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n    //   const stream = canvas.captureStream();\n    //   video.srcObject = stream;\n    //   video.play();\n    //   const mediaRecorder = new MediaRecorder(stream);\n    //   const chunks: Blob[] = [];\n    //   mediaRecorder.ondataavailable = function (e) {\n    //     console.log(\"data available\");\n    //     console.log(e.data);\n    //     chunks.push(e.data);\n    //   };\n    //   mediaRecorder.onstop = function (e) {\n    //     const blob = new Blob(chunks, { type: \"video/webm\" });\n    //     const url = URL.createObjectURL(blob);\n    //     const a = document.createElement(\"a\");\n    //     a.href = url;\n    //     a.download = \"video.webm\";\n    //     a.click();\n    //   };\n    //   mediaRecorder.start();\n    //   setTimeout(() => {\n    //     mediaRecorder.stop();\n    //   }, this.maxTime);\n    // }\n    setVideoFormat(format) {\n        this.selectedVideoFormat = format;\n    }\n    saveCanvasToVideoWithAudio() {\n        this.saveCanvasToVideoWithAudioWebmMp4();\n    }\n    saveCanvasToVideoWithAudioWebmMp4() {\n        console.log(\"modified\");\n        let mp4 = this.selectedVideoFormat === \"mp4\";\n        const canvas = document.getElementById(\"canvas\");\n        const stream = canvas.captureStream(30);\n        const audioElements = this.editorElements.filter(isEditorAudioElement);\n        const audioStreams = [];\n        audioElements.forEach((audio)=>{\n            const audioElement = document.getElementById(audio.properties.elementId);\n            let ctx = new AudioContext();\n            let sourceNode = ctx.createMediaElementSource(audioElement);\n            let dest = ctx.createMediaStreamDestination();\n            sourceNode.connect(dest);\n            sourceNode.connect(ctx.destination);\n            audioStreams.push(dest.stream);\n        });\n        audioStreams.forEach((audioStream)=>{\n            stream.addTrack(audioStream.getAudioTracks()[0]);\n        });\n        const video = document.createElement(\"video\");\n        video.srcObject = stream;\n        video.height = 500;\n        video.width = 800;\n        // video.controls = true;\n        // document.body.appendChild(video);\n        video.play().then(()=>{\n            const mediaRecorder = new MediaRecorder(stream);\n            const chunks = [];\n            mediaRecorder.ondataavailable = function(e) {\n                chunks.push(e.data);\n                console.log(\"data available\");\n            };\n            mediaRecorder.onstop = async function(e) {\n                const blob = new Blob(chunks, {\n                    type: \"video/webm\"\n                });\n                if (mp4) {\n                    // lets use ffmpeg to convert webm to mp4\n                    const data = new Uint8Array(await blob.arrayBuffer());\n                    const ffmpeg = new _ffmpeg_ffmpeg__WEBPACK_IMPORTED_MODULE_4__.FFmpeg();\n                    const baseURL = \"https://unpkg.com/@ffmpeg/core@0.12.2/dist/umd\";\n                    await ffmpeg.load({\n                        coreURL: await (0,_ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__.toBlobURL)(\"\".concat(baseURL, \"/ffmpeg-core.js\"), \"text/javascript\"),\n                        wasmURL: await (0,_ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__.toBlobURL)(\"\".concat(baseURL, \"/ffmpeg-core.wasm\"), \"application/wasm\")\n                    });\n                    await ffmpeg.writeFile(\"video.webm\", data);\n                    await ffmpeg.exec([\n                        \"-y\",\n                        \"-i\",\n                        \"video.webm\",\n                        \"-c\",\n                        \"copy\",\n                        \"video.mp4\"\n                    ]);\n                    // await ffmpeg.exec([\"-y\", \"-i\", \"video.webm\", \"-c:v\", \"libx264\", \"video.mp4\"]);\n                    const output = await ffmpeg.readFile(\"video.mp4\");\n                    const outputBlob = new Blob([\n                        output\n                    ], {\n                        type: \"video/mp4\"\n                    });\n                    const outputUrl = URL.createObjectURL(outputBlob);\n                    const a = document.createElement(\"a\");\n                    a.download = \"video.mp4\";\n                    a.href = outputUrl;\n                    a.click();\n                } else {\n                    const url = URL.createObjectURL(blob);\n                    const a = document.createElement(\"a\");\n                    a.href = url;\n                    a.download = \"video.webm\";\n                    a.click();\n                }\n            };\n            mediaRecorder.start();\n            setTimeout(()=>{\n                mediaRecorder.stop();\n            }, this.maxTime);\n            video.remove();\n        });\n    }\n    refreshElements() {\n        const store = this;\n        if (!store.canvas) return;\n        const canvas = store.canvas;\n        store.canvas.remove(...store.canvas.getObjects());\n        for(let index = 0; index < store.editorElements.length; index++){\n            const element = store.editorElements[index];\n            switch(element.type){\n                case \"video\":\n                    {\n                        console.log(\"elementid\", element.properties.elementId);\n                        if (document.getElementById(element.properties.elementId) == null) continue;\n                        const videoElement = document.getElementById(element.properties.elementId);\n                        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(videoElement)) continue;\n                        // const filters = [];\n                        // if (element.properties.effect?.type === \"blackAndWhite\") {\n                        //   filters.push(new fabric.Image.filters.Grayscale());\n                        // }\n                        const videoObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.CoverVideo(videoElement, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            width: element.placement.width,\n                            height: element.placement.height,\n                            scaleX: element.placement.scaleX,\n                            scaleY: element.placement.scaleY,\n                            angle: element.placement.rotation,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            // filters: filters,\n                            // @ts-ignore\n                            customFilter: element.properties.effect.type\n                        });\n                        element.fabricObject = videoObject;\n                        element.properties.imageObject = videoObject;\n                        videoElement.width = 100;\n                        videoElement.height = videoElement.videoHeight * 100 / videoElement.videoWidth;\n                        canvas.add(videoObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != videoObject) return;\n                            const placement = element.placement;\n                            var _target_left, _target_top, _target_angle;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                width: target.width && target.scaleX ? target.width * target.scaleX : placement.width,\n                                height: target.height && target.scaleY ? target.height * target.scaleY : placement.height,\n                                scaleX: 1,\n                                scaleY: 1\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                case \"image\":\n                    {\n                        if (document.getElementById(element.properties.elementId) == null) continue;\n                        const imageElement = document.getElementById(element.properties.elementId);\n                        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlImageElement)(imageElement)) continue;\n                        // const filters = [];\n                        // if (element.properties.effect?.type === \"blackAndWhite\") {\n                        //   filters.push(new fabric.Image.filters.Grayscale());\n                        // }\n                        const imageObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.CoverImage(imageElement, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            angle: element.placement.rotation,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            // filters\n                            // @ts-ignore\n                            customFilter: element.properties.effect.type\n                        });\n                        // imageObject.applyFilters();\n                        element.fabricObject = imageObject;\n                        element.properties.imageObject = imageObject;\n                        const image = {\n                            w: imageElement.naturalWidth,\n                            h: imageElement.naturalHeight\n                        };\n                        imageObject.width = image.w;\n                        imageObject.height = image.h;\n                        imageElement.width = image.w;\n                        imageElement.height = image.h;\n                        imageObject.scaleToHeight(image.w);\n                        imageObject.scaleToWidth(image.h);\n                        const toScale = {\n                            x: element.placement.width / image.w,\n                            y: element.placement.height / image.h\n                        };\n                        imageObject.scaleX = toScale.x * element.placement.scaleX;\n                        imageObject.scaleY = toScale.y * element.placement.scaleY;\n                        canvas.add(imageObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != imageObject) return;\n                            const placement = element.placement;\n                            let fianlScale = 1;\n                            if (target.scaleX && target.scaleX > 0) {\n                                fianlScale = target.scaleX / toScale.x;\n                            }\n                            var _target_left, _target_top, _target_angle;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                scaleX: fianlScale,\n                                scaleY: fianlScale\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                case \"audio\":\n                    {\n                        break;\n                    }\n                case \"text\":\n                    {\n                        const textObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Textbox(element.properties.text, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            scaleX: element.placement.scaleX,\n                            scaleY: element.placement.scaleY,\n                            width: element.placement.width,\n                            height: element.placement.height,\n                            angle: element.placement.rotation,\n                            fontSize: element.properties.fontSize,\n                            fontWeight: element.properties.fontWeight,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            fill: \"#ffffff\"\n                        });\n                        element.fabricObject = textObject;\n                        canvas.add(textObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            var _target;\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != textObject) return;\n                            const placement = element.placement;\n                            var _target_left, _target_top, _target_angle, _target_width, _target_height, _target_scaleX, _target_scaleY;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                width: (_target_width = target.width) !== null && _target_width !== void 0 ? _target_width : placement.width,\n                                height: (_target_height = target.height) !== null && _target_height !== void 0 ? _target_height : placement.height,\n                                scaleX: (_target_scaleX = target.scaleX) !== null && _target_scaleX !== void 0 ? _target_scaleX : placement.scaleX,\n                                scaleY: (_target_scaleY = target.scaleY) !== null && _target_scaleY !== void 0 ? _target_scaleY : placement.scaleY\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement,\n                                properties: {\n                                    ...element.properties,\n                                    // @ts-ignore\n                                    text: (_target = target) === null || _target === void 0 ? void 0 : _target.text\n                                }\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                default:\n                    {\n                        throw new Error(\"Not implemented\");\n                    }\n            }\n            if (element.fabricObject) {\n                element.fabricObject.on(\"selected\", function(e) {\n                    store.setSelectedElement(element);\n                });\n            }\n        }\n        const selectedEditorElement = store.selectedElement;\n        if (selectedEditorElement && selectedEditorElement.fabricObject) {\n            canvas.setActiveObject(selectedEditorElement.fabricObject);\n        }\n        this.refreshAnimations();\n        this.updateTimeTo(this.currentTimeInMs);\n        store.canvas.renderAll();\n    }\n    constructor(){\n        this.possibleVideoFormats = [\n            \"mp4\",\n            \"webm\"\n        ];\n        this.startedTime = 0;\n        this.startedTimePlay = 0;\n        this.canvas = null;\n        this.videos = [];\n        this.images = [];\n        this.audios = [];\n        this.editorElements = [];\n        this.backgroundColor = \"#111111\";\n        this.TextColor = \"#111111\";\n        this.maxTime = 30 * 1000;\n        this.playing = false;\n        this.currentKeyFrame = 0;\n        this.selectedElement = null;\n        this.fps = 60;\n        this.animations = [];\n        this.animationTimeLine = animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].timeline();\n        this.selectedMenuOption = \"Video\";\n        this.selectedVideoFormat = \"mp4\";\n        (0,mobx__WEBPACK_IMPORTED_MODULE_6__.makeAutoObservable)(this);\n    }\n}\nfunction isEditorAudioElement(element) {\n    return element.type === \"audio\";\n}\nfunction isEditorVideoElement(element) {\n    return element.type === \"video\";\n}\nfunction isEditorImageElement(element) {\n    return element.type === \"image\";\n}\nfunction getTextObjectsPartitionedByCharacters(textObject, element) {\n    let copyCharsObjects = [];\n    var _textObject_text;\n    // replace all line endings with blank\n    const characters = ((_textObject_text = textObject.text) !== null && _textObject_text !== void 0 ? _textObject_text : \"\").split(\"\").filter((m)=>m !== \"\\n\");\n    const charObjects = textObject.__charBounds;\n    if (!charObjects) return [];\n    const charObjectFixed = charObjects.map((m, index)=>m.slice(0, m.length - 1).map((m)=>({\n                m,\n                index\n            }))).flat();\n    const lineHeight = textObject.getHeightOfLine(0);\n    for(let i = 0; i < characters.length; i++){\n        if (!charObjectFixed[i]) continue;\n        const { m: charObject, index: lineIndex } = charObjectFixed[i];\n        const char = characters[i];\n        var _textObject_scaleX;\n        const scaleX = (_textObject_scaleX = textObject.scaleX) !== null && _textObject_scaleX !== void 0 ? _textObject_scaleX : 1;\n        var _textObject_scaleY;\n        const scaleY = (_textObject_scaleY = textObject.scaleY) !== null && _textObject_scaleY !== void 0 ? _textObject_scaleY : 1;\n        const charTextObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Text(char, {\n            left: charObject.left * scaleX + element.placement.x,\n            scaleX: scaleX,\n            scaleY: scaleY,\n            top: lineIndex * lineHeight * scaleY + element.placement.y,\n            fontSize: textObject.fontSize,\n            fontWeight: textObject.fontWeight,\n            fill: \"#fff\"\n        });\n        copyCharsObjects.push(charTextObject);\n    }\n    return copyCharsObjects;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxNQUFNLEdBQUcsR0FBRzhELEdBQUcsQ0FBQzRJLENBQUFBLElBQU07Z0JBQUVBO2dCQUFHek87WUFBTSxLQUFLOE8sSUFBSTtJQUM3RyxNQUFNQyxhQUFhL0ssV0FBV2dMLGVBQWUsQ0FBQztJQUM5QyxJQUFLLElBQUlsTixJQUFJLEdBQUdBLElBQUl5TSxXQUFXeE0sTUFBTSxFQUFFRCxJQUFLO1FBQzFDLElBQUksQ0FBQzhNLGVBQWUsQ0FBQzlNLEVBQUUsRUFBRTtRQUN6QixNQUFNLEVBQUUyTSxHQUFHUSxVQUFVLEVBQUVqUCxPQUFPa1AsU0FBUyxFQUFFLEdBQUdOLGVBQWUsQ0FBQzlNLEVBQUU7UUFDOUQsTUFBTXFOLE9BQU9aLFVBQVUsQ0FBQ3pNLEVBQUU7WUFDWGtDO1FBQWYsTUFBTVksU0FBU1osQ0FBQUEscUJBQUFBLFdBQVdZLE1BQU0sY0FBakJaLGdDQUFBQSxxQkFBcUI7WUFDckJBO1FBQWYsTUFBTWMsU0FBU2QsQ0FBQUEscUJBQUFBLFdBQVdjLE1BQU0sY0FBakJkLGdDQUFBQSxxQkFBcUI7UUFDcEMsTUFBTW9MLGlCQUFpQixJQUFJalIsMENBQU1BLENBQUNrUixJQUFJLENBQUNGLE1BQU07WUFDM0NuTSxNQUFNaU0sV0FBV2pNLElBQUksR0FBRzRCLFNBQVV6RSxRQUFROEMsU0FBUyxDQUFDQyxDQUFDO1lBQ3JEMEIsUUFBUUE7WUFDUkUsUUFBUUE7WUFDUjNCLEtBQUsrTCxZQUFZSCxhQUFhakssU0FBVTNFLFFBQVE4QyxTQUFTLENBQUNHLENBQUM7WUFDM0R1RixVQUFVM0UsV0FBVzJFLFFBQVE7WUFDN0JDLFlBQVk1RSxXQUFXNEUsVUFBVTtZQUNqQ29GLE1BQU07UUFDUjtRQUNBTSxpQkFBaUJuSixJQUFJLENBQUNpSztJQUN4QjtJQUNBLE9BQU9kO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3N0b3JlL1N0b3JlLnRzPzg5ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFrZUF1dG9PYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XHJcbmltcG9ydCB7IGZhYnJpYyB9IGZyb20gJ2ZhYnJpYyc7XHJcbmltcG9ydCB7IGdldFVpZCwgaXNIdG1sQXVkaW9FbGVtZW50LCBpc0h0bWxJbWFnZUVsZW1lbnQsIGlzSHRtbFZpZGVvRWxlbWVudCB9IGZyb20gJ0AvdXRpbHMnO1xyXG5pbXBvcnQgYW5pbWUsIHsgZ2V0IH0gZnJvbSAnYW5pbWVqcyc7XHJcbmltcG9ydCB7IE1lbnVPcHRpb24sIEVkaXRvckVsZW1lbnQsIEFuaW1hdGlvbiwgVGltZUZyYW1lLCBWaWRlb0VkaXRvckVsZW1lbnQsIEF1ZGlvRWRpdG9yRWxlbWVudCwgUGxhY2VtZW50LCBJbWFnZUVkaXRvckVsZW1lbnQsIEVmZmVjdCwgVGV4dEVkaXRvckVsZW1lbnQgfSBmcm9tICcuLi90eXBlcyc7XHJcbmltcG9ydCB7IEZhYnJpY1VpdGxzIH0gZnJvbSAnQC91dGlscy9mYWJyaWMtdXRpbHMnO1xyXG5pbXBvcnQgeyBGRm1wZWcgfSBmcm9tICdAZmZtcGVnL2ZmbXBlZyc7XHJcbmltcG9ydCB7IHRvQmxvYlVSTCB9IGZyb20gJ0BmZm1wZWcvdXRpbCc7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RvcmUge1xyXG4gIGNhbnZhczogZmFicmljLkNhbnZhcyB8IG51bGxcclxuXHJcbiAgYmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XHJcbiAgVGV4dENvbG9yIDogc3RyaW5nO1xyXG5cclxuICBzZWxlY3RlZE1lbnVPcHRpb246IE1lbnVPcHRpb247XHJcbiAgYXVkaW9zOiBzdHJpbmdbXVxyXG4gIHZpZGVvczogc3RyaW5nW11cclxuICBpbWFnZXM6IHN0cmluZ1tdXHJcbiAgZWRpdG9yRWxlbWVudHM6IEVkaXRvckVsZW1lbnRbXVxyXG4gIHNlbGVjdGVkRWxlbWVudDogRWRpdG9yRWxlbWVudCB8IGFueTtcclxuXHJcbiAgbWF4VGltZTogbnVtYmVyXHJcbiAgYW5pbWF0aW9uczogQW5pbWF0aW9uW11cclxuICBhbmltYXRpb25UaW1lTGluZTogYW5pbWUuQW5pbWVUaW1lbGluZUluc3RhbmNlO1xyXG4gIHBsYXlpbmc6IGJvb2xlYW47XHJcblxyXG4gIGN1cnJlbnRLZXlGcmFtZTogbnVtYmVyO1xyXG4gIGZwczogbnVtYmVyO1xyXG5cclxuICBwb3NzaWJsZVZpZGVvRm9ybWF0czogc3RyaW5nW10gPSBbJ21wNCcsICd3ZWJtJ107XHJcbiAgc2VsZWN0ZWRWaWRlb0Zvcm1hdDogJ21wNCcgfCAnd2VibSc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xyXG4gICAgdGhpcy52aWRlb3MgPSBbXTtcclxuICAgIHRoaXMuaW1hZ2VzID0gW107XHJcbiAgICB0aGlzLmF1ZGlvcyA9IFtdO1xyXG4gICAgdGhpcy5lZGl0b3JFbGVtZW50cyA9IFtdO1xyXG4gICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAnIzExMTExMSc7XHJcbiAgICB0aGlzLlRleHRDb2xvciA9ICcjMTExMTExJztcclxuICAgIHRoaXMubWF4VGltZSA9IDMwICogMTAwMDtcclxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5jdXJyZW50S2V5RnJhbWUgPSAwO1xyXG4gICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSBudWxsO1xyXG4gICAgdGhpcy5mcHMgPSA2MDtcclxuICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5hbmltYXRpb25UaW1lTGluZSA9IGFuaW1lLnRpbWVsaW5lKCk7XHJcbiAgICB0aGlzLnNlbGVjdGVkTWVudU9wdGlvbiA9ICdWaWRlbyc7XHJcbiAgICB0aGlzLnNlbGVjdGVkVmlkZW9Gb3JtYXQgPSAnbXA0JztcclxuICAgIG1ha2VBdXRvT2JzZXJ2YWJsZSh0aGlzKTtcclxuICB9XHJcblxyXG4gIGdldCBjdXJyZW50VGltZUluTXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50S2V5RnJhbWUgKiAxMDAwIC8gdGhpcy5mcHM7XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50VGltZUluTXModGltZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRLZXlGcmFtZSA9IE1hdGguZmxvb3IodGltZSAvIDEwMDAgKiB0aGlzLmZwcyk7XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZE1lbnVPcHRpb24oc2VsZWN0ZWRNZW51T3B0aW9uOiBNZW51T3B0aW9uKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkTWVudU9wdGlvbiA9IHNlbGVjdGVkTWVudU9wdGlvbjtcclxuICB9XHJcblxyXG4gIHNldENhbnZhcyhjYW52YXM6IGZhYnJpYy5DYW52YXMgfCBudWxsKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgY2FudmFzLmJhY2tncm91bmRDb2xvciA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0QmFja2dyb3VuZENvbG9yKGJhY2tncm91bmRDb2xvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcclxuICAgIGlmICh0aGlzLmNhbnZhcykge1xyXG4gICAgICB0aGlzLmNhbnZhcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNldFRleHRDb2xvcihUZXh0Q29sb3I6IHN0cmluZykge1xyXG4gICAgdGhpcy5UZXh0Q29sb3IgPSBUZXh0Q29sb3I7XHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSBUZXh0Q29sb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB1cGRhdGVFZmZlY3QoaWQ6IHN0cmluZywgZWZmZWN0OiBFZmZlY3QpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lZGl0b3JFbGVtZW50cy5maW5kSW5kZXgoKGVsZW1lbnQpID0+IGVsZW1lbnQuaWQgPT09IGlkKTtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVkaXRvckVsZW1lbnRzW2luZGV4XTtcclxuICAgIGlmIChpc0VkaXRvclZpZGVvRWxlbWVudChlbGVtZW50KSB8fCBpc0VkaXRvckltYWdlRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICBlbGVtZW50LnByb3BlcnRpZXMuZWZmZWN0ID0gZWZmZWN0O1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZWZyZXNoRWxlbWVudHMoKTtcclxuICB9XHJcblxyXG4gIHNldFZpZGVvcyh2aWRlb3M6IHN0cmluZ1tdKSB7XHJcbiAgICB0aGlzLnZpZGVvcyA9IHZpZGVvcztcclxuICB9XHJcblxyXG4gIGFkZFZpZGVvUmVzb3VyY2UodmlkZW86IHN0cmluZykge1xyXG4gICAgdGhpcy52aWRlb3MgPSBbLi4udGhpcy52aWRlb3MsIHZpZGVvXTtcclxuICB9XHJcbiAgYWRkQXVkaW9SZXNvdXJjZShhdWRpbzogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmF1ZGlvcyA9IFsuLi50aGlzLmF1ZGlvcywgYXVkaW9dO1xyXG4gIH1cclxuICBhZGRJbWFnZVJlc291cmNlKGltYWdlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuaW1hZ2VzID0gWy4uLnRoaXMuaW1hZ2VzLCBpbWFnZV07XHJcbiAgfVxyXG5cclxuICBhZGRBbmltYXRpb24oYW5pbWF0aW9uOiBBbmltYXRpb24pIHtcclxuICAgIHRoaXMuYW5pbWF0aW9ucyA9IFsuLi50aGlzLmFuaW1hdGlvbnMsIGFuaW1hdGlvbl07XHJcbiAgICB0aGlzLnJlZnJlc2hBbmltYXRpb25zKCk7XHJcbiAgfVxyXG4gIHVwZGF0ZUFuaW1hdGlvbihpZDogc3RyaW5nLCBhbmltYXRpb246IEFuaW1hdGlvbikge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmFuaW1hdGlvbnMuZmluZEluZGV4KChhKSA9PiBhLmlkID09PSBpZCk7XHJcbiAgICB0aGlzLmFuaW1hdGlvbnNbaW5kZXhdID0gYW5pbWF0aW9uO1xyXG4gICAgdGhpcy5yZWZyZXNoQW5pbWF0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgcmVmcmVzaEFuaW1hdGlvbnMoKSB7XHJcbiAgICBhbmltZS5yZW1vdmUodGhpcy5hbmltYXRpb25UaW1lTGluZSk7XHJcbiAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lID0gYW5pbWUudGltZWxpbmUoe1xyXG4gICAgICBkdXJhdGlvbjogdGhpcy5tYXhUaW1lLFxyXG4gICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICB9KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1tpXTtcclxuICAgICAgY29uc3QgZWRpdG9yRWxlbWVudCA9IHRoaXMuZWRpdG9yRWxlbWVudHMuZmluZCgoZWxlbWVudCkgPT4gZWxlbWVudC5pZCA9PT0gYW5pbWF0aW9uLnRhcmdldElkKTtcclxuICAgICAgY29uc3QgZmFicmljT2JqZWN0ID0gZWRpdG9yRWxlbWVudD8uZmFicmljT2JqZWN0O1xyXG4gICAgICBpZiAoIWVkaXRvckVsZW1lbnQgfHwgIWZhYnJpY09iamVjdCkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGZhYnJpY09iamVjdC5jbGlwUGF0aCA9IHVuZGVmaW5lZDtcclxuICAgICAgc3dpdGNoIChhbmltYXRpb24udHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJmYWRlSW5cIjoge1xyXG4gICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICBvcGFjaXR5OiBbMCwgMV0sXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb24uZHVyYXRpb24sXHJcbiAgICAgICAgICAgIHRhcmdldHM6IGZhYnJpY09iamVjdCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwiZmFkZU91dFwiOiB7XHJcbiAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IFsxLCAwXSxcclxuICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvbi5kdXJhdGlvbixcclxuICAgICAgICAgICAgdGFyZ2V0czogZmFicmljT2JqZWN0LFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuZW5kIC0gYW5pbWF0aW9uLmR1cmF0aW9uKTtcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJzbGlkZUluXCI6IHtcclxuICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGFuaW1hdGlvbi5wcm9wZXJ0aWVzLmRpcmVjdGlvbjtcclxuICAgICAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICB0b3A6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LnksXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiAoZGlyZWN0aW9uID09PSBcImxlZnRcIiA/IC0gZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQud2lkdGggOiBkaXJlY3Rpb24gPT09IFwicmlnaHRcIiA/IHRoaXMuY2FudmFzPy53aWR0aCA6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LngpLFxyXG4gICAgICAgICAgICB0b3A6IChkaXJlY3Rpb24gPT09IFwidG9wXCIgPyAtIGVkaXRvckVsZW1lbnQucGxhY2VtZW50LmhlaWdodCA6IGRpcmVjdGlvbiA9PT0gXCJib3R0b21cIiA/IHRoaXMuY2FudmFzPy5oZWlnaHQgOiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC55KSxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChhbmltYXRpb24ucHJvcGVydGllcy51c2VDbGlwUGF0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBjbGlwUmVjdGFuZ2xlID0gRmFicmljVWl0bHMuZ2V0Q2xpcE1hc2tSZWN0KGVkaXRvckVsZW1lbnQsIDUwKTtcclxuICAgICAgICAgICAgZmFicmljT2JqZWN0LnNldCgnY2xpcFBhdGgnLCBjbGlwUmVjdGFuZ2xlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGVkaXRvckVsZW1lbnQudHlwZSA9PT0gXCJ0ZXh0XCIgJiYgYW5pbWF0aW9uLnByb3BlcnRpZXMudGV4dFR5cGUgPT09IFwiY2hhcmFjdGVyXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXM/LnJlbW92ZSguLi5lZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0cylcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBlZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0cyA9IGdldFRleHRPYmplY3RzUGFydGl0aW9uZWRCeUNoYXJhY3RlcnMoZWRpdG9yRWxlbWVudC5mYWJyaWNPYmplY3QsIGVkaXRvckVsZW1lbnQpO1xyXG4gICAgICAgICAgICBlZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0cy5mb3JFYWNoKCh0ZXh0T2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jYW52YXMhLmFkZCh0ZXh0T2JqZWN0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBhbmltYXRpb24uZHVyYXRpb24gLyAyO1xyXG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IGR1cmF0aW9uIC8gZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc3BsaXR0ZWRUZXh0ID0gZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHNbaV07XHJcbiAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogc3BsaXR0ZWRUZXh0LmxlZnQhIC0gZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgICAgIHRvcDogc3BsaXR0ZWRUZXh0LnRvcCEgLSBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC55XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IFtzdGFydFBvc2l0aW9uLmxlZnQhICsgb2Zmc2V0LmxlZnQsIHRhcmdldFBvc2l0aW9uLmxlZnQgKyBvZmZzZXQubGVmdF0sXHJcbiAgICAgICAgICAgICAgICB0b3A6IFtzdGFydFBvc2l0aW9uLnRvcCEgKyBvZmZzZXQudG9wLCB0YXJnZXRQb3NpdGlvbi50b3AgKyBvZmZzZXQudG9wXSxcclxuICAgICAgICAgICAgICAgIGRlbGF5OiBpICogZGVsYXksXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiBzcGxpdHRlZFRleHQsXHJcbiAgICAgICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiBbMSwgMF0sXHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0czogZmFicmljT2JqZWN0LFxyXG4gICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IFswLCAxXSxcclxuICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgICAgICAgICB0YXJnZXRzOiBmYWJyaWNPYmplY3QsXHJcbiAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQgKyBhbmltYXRpb24uZHVyYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IFswLCAxXSxcclxuICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgICAgICAgICB0YXJnZXRzOiBlZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0cyxcclxuICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiBbMSwgMF0sXHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0czogZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHMsXHJcbiAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQgKyBhbmltYXRpb24uZHVyYXRpb24pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICBsZWZ0OiBbc3RhcnRQb3NpdGlvbi5sZWZ0LCB0YXJnZXRQb3NpdGlvbi5sZWZ0XSxcclxuICAgICAgICAgICAgdG9wOiBbc3RhcnRQb3NpdGlvbi50b3AsIHRhcmdldFBvc2l0aW9uLnRvcF0sXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb24uZHVyYXRpb24sXHJcbiAgICAgICAgICAgIHRhcmdldHM6IGZhYnJpY09iamVjdCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0KTtcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJzbGlkZU91dFwiOiB7XHJcbiAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBhbmltYXRpb24ucHJvcGVydGllcy5kaXJlY3Rpb247XHJcbiAgICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICB0b3A6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LnksXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgbGVmdDogKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgPyAtIGVkaXRvckVsZW1lbnQucGxhY2VtZW50LndpZHRoIDogZGlyZWN0aW9uID09PSBcInJpZ2h0XCIgPyB0aGlzLmNhbnZhcz8ud2lkdGggOiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC54KSxcclxuICAgICAgICAgICAgdG9wOiAoZGlyZWN0aW9uID09PSBcInRvcFwiID8gLTEwMCAtIGVkaXRvckVsZW1lbnQucGxhY2VtZW50LmhlaWdodCA6IGRpcmVjdGlvbiA9PT0gXCJib3R0b21cIiA/IHRoaXMuY2FudmFzPy5oZWlnaHQgOiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC55KSxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChhbmltYXRpb24ucHJvcGVydGllcy51c2VDbGlwUGF0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBjbGlwUmVjdGFuZ2xlID0gRmFicmljVWl0bHMuZ2V0Q2xpcE1hc2tSZWN0KGVkaXRvckVsZW1lbnQsIDUwKTtcclxuICAgICAgICAgICAgZmFicmljT2JqZWN0LnNldCgnY2xpcFBhdGgnLCBjbGlwUmVjdGFuZ2xlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICBsZWZ0OiBbc3RhcnRQb3NpdGlvbi5sZWZ0LCB0YXJnZXRQb3NpdGlvbi5sZWZ0XSxcclxuICAgICAgICAgICAgdG9wOiBbc3RhcnRQb3NpdGlvbi50b3AsIHRhcmdldFBvc2l0aW9uLnRvcF0sXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb24uZHVyYXRpb24sXHJcbiAgICAgICAgICAgIHRhcmdldHM6IGZhYnJpY09iamVjdCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLmVuZCAtIGFuaW1hdGlvbi5kdXJhdGlvbik7XHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwiYnJlYXRoZVwiOiB7XHJcbiAgICAgICAgICBjb25zdCBpdHNTbGlkZUluQW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zLmZpbmQoKGEpID0+IGEudGFyZ2V0SWQgPT09IGFuaW1hdGlvbi50YXJnZXRJZCAmJiAoYS50eXBlID09PSBcInNsaWRlSW5cIikpO1xyXG4gICAgICAgICAgY29uc3QgaXRzU2xpZGVPdXRBbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuZmluZCgoYSkgPT4gYS50YXJnZXRJZCA9PT0gYW5pbWF0aW9uLnRhcmdldElkICYmIChhLnR5cGUgPT09IFwic2xpZGVPdXRcIikpO1xyXG4gICAgICAgICAgY29uc3QgdGltZUVuZE9mU2xpZGVJbiA9IGl0c1NsaWRlSW5BbmltYXRpb24gPyBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCArIGl0c1NsaWRlSW5BbmltYXRpb24uZHVyYXRpb24gOiBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydDtcclxuICAgICAgICAgIGNvbnN0IHRpbWVTdGFydE9mU2xpZGVPdXQgPSBpdHNTbGlkZU91dEFuaW1hdGlvbiA/IGVkaXRvckVsZW1lbnQudGltZUZyYW1lLmVuZCAtIGl0c1NsaWRlT3V0QW5pbWF0aW9uLmR1cmF0aW9uIDogZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuZW5kO1xyXG4gICAgICAgICAgaWYgKHRpbWVFbmRPZlNsaWRlSW4gPiB0aW1lU3RhcnRPZlNsaWRlT3V0KSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc3QgZHVyYXRpb24gPSB0aW1lU3RhcnRPZlNsaWRlT3V0IC0gdGltZUVuZE9mU2xpZGVJbjtcclxuICAgICAgICAgIGNvbnN0IGVhc2VGYWN0b3IgPSA0O1xyXG4gICAgICAgICAgY29uc3Qgc3VpdGFibGVUaW1lRm9ySGVhcnRiZWF0ID0gMTAwMCAqIDYwIC8gNzIgKiBlYXNlRmFjdG9yXHJcbiAgICAgICAgICBjb25zdCB1cFNjYWxlID0gMS4wNTtcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTY2FsZVggPSBmYWJyaWNPYmplY3Quc2NhbGVYID8/IDE7XHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50U2NhbGVZID0gZmFicmljT2JqZWN0LnNjYWxlWSA/PyAxO1xyXG4gICAgICAgICAgY29uc3QgZmluYWxTY2FsZVggPSBjdXJyZW50U2NhbGVYICogdXBTY2FsZTtcclxuICAgICAgICAgIGNvbnN0IGZpbmFsU2NhbGVZID0gY3VycmVudFNjYWxlWSAqIHVwU2NhbGU7XHJcbiAgICAgICAgICBjb25zdCB0b3RhbEhlYXJ0YmVhdHMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gc3VpdGFibGVUaW1lRm9ySGVhcnRiZWF0KTtcclxuICAgICAgICAgIGlmICh0b3RhbEhlYXJ0YmVhdHMgPCAxKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc3Qga2V5ZnJhbWVzID0gW107XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsSGVhcnRiZWF0czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGtleWZyYW1lcy5wdXNoKHsgc2NhbGVYOiBmaW5hbFNjYWxlWCwgc2NhbGVZOiBmaW5hbFNjYWxlWSB9KTtcclxuICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2goeyBzY2FsZVg6IGN1cnJlbnRTY2FsZVgsIHNjYWxlWTogY3VycmVudFNjYWxlWSB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgICAgICAgdGFyZ2V0czogZmFicmljT2JqZWN0LFxyXG4gICAgICAgICAgICBrZXlmcmFtZXMsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICAgIH0sIHRpbWVFbmRPZlNsaWRlSW4pO1xyXG5cclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZW1vdmVBbmltYXRpb24oaWQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5hbmltYXRpb25zID0gdGhpcy5hbmltYXRpb25zLmZpbHRlcihcclxuICAgICAgKGFuaW1hdGlvbikgPT4gYW5pbWF0aW9uLmlkICE9PSBpZFxyXG4gICAgKTtcclxuICAgIHRoaXMucmVmcmVzaEFuaW1hdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHNldFNlbGVjdGVkRWxlbWVudChzZWxlY3RlZEVsZW1lbnQ6IEVkaXRvckVsZW1lbnQgfCBudWxsKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkRWxlbWVudCA9IHNlbGVjdGVkRWxlbWVudDtcclxuICAgIGlmICh0aGlzLmNhbnZhcykge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50Py5mYWJyaWNPYmplY3QpXHJcbiAgICAgICAgdGhpcy5jYW52YXMuc2V0QWN0aXZlT2JqZWN0KHNlbGVjdGVkRWxlbWVudC5mYWJyaWNPYmplY3QpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdGhpcy5jYW52YXMuZGlzY2FyZEFjdGl2ZU9iamVjdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuICB1cGRhdGVTZWxlY3RlZEVsZW1lbnQoKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkRWxlbWVudCA9IHRoaXMuZWRpdG9yRWxlbWVudHMuZmluZCgoZWxlbWVudCkgPT4gZWxlbWVudC5pZCA9PT0gdGhpcy5zZWxlY3RlZEVsZW1lbnQ/LmlkKSA/PyBudWxsO1xyXG4gIH1cclxuXHJcbiAgc2V0RWRpdG9yRWxlbWVudHMoZWRpdG9yRWxlbWVudHM6IEVkaXRvckVsZW1lbnRbXSkge1xyXG4gICAgdGhpcy5lZGl0b3JFbGVtZW50cyA9IGVkaXRvckVsZW1lbnRzO1xyXG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZEVsZW1lbnQoKTtcclxuICAgIHRoaXMucmVmcmVzaEVsZW1lbnRzKCk7XHJcbiAgICAvLyB0aGlzLnJlZnJlc2hBbmltYXRpb25zKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVFZGl0b3JFbGVtZW50KGVkaXRvckVsZW1lbnQ6IEVkaXRvckVsZW1lbnQpIHtcclxuICAgIHRoaXMuc2V0RWRpdG9yRWxlbWVudHModGhpcy5lZGl0b3JFbGVtZW50cy5tYXAoKGVsZW1lbnQpID0+XHJcbiAgICAgIGVsZW1lbnQuaWQgPT09IGVkaXRvckVsZW1lbnQuaWQgPyBlZGl0b3JFbGVtZW50IDogZWxlbWVudFxyXG4gICAgKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVFZGl0b3JFbGVtZW50VGltZUZyYW1lKGVkaXRvckVsZW1lbnQ6IEVkaXRvckVsZW1lbnQsIHRpbWVGcmFtZTogUGFydGlhbDxUaW1lRnJhbWU+KSB7XHJcbiAgICBpZiAodGltZUZyYW1lLnN0YXJ0ICE9IHVuZGVmaW5lZCAmJiB0aW1lRnJhbWUuc3RhcnQgPCAwKSB7XHJcbiAgICAgIHRpbWVGcmFtZS5zdGFydCA9IDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGltZUZyYW1lLmVuZCAhPSB1bmRlZmluZWQgJiYgdGltZUZyYW1lLmVuZCA+IHRoaXMubWF4VGltZSkge1xyXG4gICAgICB0aW1lRnJhbWUuZW5kID0gdGhpcy5tYXhUaW1lO1xyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3RWRpdG9yRWxlbWVudCA9IHtcclxuICAgICAgLi4uZWRpdG9yRWxlbWVudCxcclxuICAgICAgdGltZUZyYW1lOiB7XHJcbiAgICAgICAgLi4uZWRpdG9yRWxlbWVudC50aW1lRnJhbWUsXHJcbiAgICAgICAgLi4udGltZUZyYW1lLFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVZpZGVvRWxlbWVudHMoKTtcclxuICAgIHRoaXMudXBkYXRlQXVkaW9FbGVtZW50cygpO1xyXG4gICAgdGhpcy51cGRhdGVFZGl0b3JFbGVtZW50KG5ld0VkaXRvckVsZW1lbnQpO1xyXG4gICAgdGhpcy5yZWZyZXNoQW5pbWF0aW9ucygpO1xyXG4gIH1cclxuXHJcblxyXG4gIGFkZEVkaXRvckVsZW1lbnQoZWRpdG9yRWxlbWVudDogRWRpdG9yRWxlbWVudCkge1xyXG4gICAgdGhpcy5zZXRFZGl0b3JFbGVtZW50cyhbLi4udGhpcy5lZGl0b3JFbGVtZW50cywgZWRpdG9yRWxlbWVudF0pO1xyXG4gICAgdGhpcy5yZWZyZXNoRWxlbWVudHMoKTtcclxuICAgIHRoaXMuc2V0U2VsZWN0ZWRFbGVtZW50KHRoaXMuZWRpdG9yRWxlbWVudHNbdGhpcy5lZGl0b3JFbGVtZW50cy5sZW5ndGggLSAxXSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVFZGl0b3JFbGVtZW50KGlkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuc2V0RWRpdG9yRWxlbWVudHModGhpcy5lZGl0b3JFbGVtZW50cy5maWx0ZXIoXHJcbiAgICAgIChlZGl0b3JFbGVtZW50KSA9PiBlZGl0b3JFbGVtZW50LmlkICE9PSBpZFxyXG4gICAgKSk7XHJcbiAgICB0aGlzLnJlZnJlc2hFbGVtZW50cygpO1xyXG4gIH1cclxuXHJcbiAgc2V0TWF4VGltZShtYXhUaW1lOiBudW1iZXIpIHtcclxuICAgIHRoaXMubWF4VGltZSA9IG1heFRpbWU7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0UGxheWluZyhwbGF5aW5nOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLnBsYXlpbmcgPSBwbGF5aW5nO1xyXG4gICAgdGhpcy51cGRhdGVWaWRlb0VsZW1lbnRzKCk7XHJcbiAgICB0aGlzLnVwZGF0ZUF1ZGlvRWxlbWVudHMoKTtcclxuICAgIGlmIChwbGF5aW5nKSB7XHJcbiAgICAgIHRoaXMuc3RhcnRlZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICB0aGlzLnN0YXJ0ZWRUaW1lUGxheSA9IHRoaXMuY3VycmVudFRpbWVJbk1zXHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wbGF5RnJhbWVzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnRlZFRpbWUgPSAwO1xyXG4gIHN0YXJ0ZWRUaW1lUGxheSA9IDA7XHJcblxyXG4gIHBsYXlGcmFtZXMoKSB7XHJcbiAgICBpZiAoIXRoaXMucGxheWluZykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IERhdGUubm93KCkgLSB0aGlzLnN0YXJ0ZWRUaW1lO1xyXG4gICAgY29uc3QgbmV3VGltZSA9IHRoaXMuc3RhcnRlZFRpbWVQbGF5ICsgZWxhcHNlZFRpbWU7XHJcbiAgICB0aGlzLnVwZGF0ZVRpbWVUbyhuZXdUaW1lKTtcclxuICAgIGlmIChuZXdUaW1lID4gdGhpcy5tYXhUaW1lKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudEtleUZyYW1lID0gMDtcclxuICAgICAgdGhpcy5zZXRQbGF5aW5nKGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wbGF5RnJhbWVzKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICB1cGRhdGVUaW1lVG8obmV3VGltZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnNldEN1cnJlbnRUaW1lSW5NcyhuZXdUaW1lKTtcclxuICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuc2VlayhuZXdUaW1lKTtcclxuICAgIGlmICh0aGlzLmNhbnZhcykge1xyXG4gICAgICB0aGlzLmNhbnZhcy5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcclxuICAgIH1cclxuICAgIHRoaXMuZWRpdG9yRWxlbWVudHMuZm9yRWFjaChcclxuICAgICAgZSA9PiB7XHJcbiAgICAgICAgaWYgKCFlLmZhYnJpY09iamVjdCkgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGlzSW5zaWRlID0gZS50aW1lRnJhbWUuc3RhcnQgPD0gbmV3VGltZSAmJiBuZXdUaW1lIDw9IGUudGltZUZyYW1lLmVuZDtcclxuICAgICAgICBlLmZhYnJpY09iamVjdC52aXNpYmxlID0gaXNJbnNpZGU7XHJcbiAgICAgIH1cclxuICAgIClcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlZWsoc2VlazogbnVtYmVyKSB7XHJcbiAgICBpZiAodGhpcy5wbGF5aW5nKSB7XHJcbiAgICAgIHRoaXMuc2V0UGxheWluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwZGF0ZVRpbWVUbyhzZWVrKTtcclxuICAgIHRoaXMudXBkYXRlVmlkZW9FbGVtZW50cygpO1xyXG4gICAgdGhpcy51cGRhdGVBdWRpb0VsZW1lbnRzKCk7XHJcbiAgfVxyXG5cclxuICBhZGRWaWRlbyhpbmRleDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdmlkZW8tJHtpbmRleH1gKVxyXG4gICAgaWYgKCFpc0h0bWxWaWRlb0VsZW1lbnQodmlkZW9FbGVtZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCB2aWRlb0R1cmF0aW9uTXMgPSB2aWRlb0VsZW1lbnQuZHVyYXRpb24gKiAxMDAwO1xyXG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSB2aWRlb0VsZW1lbnQudmlkZW9XaWR0aCAvIHZpZGVvRWxlbWVudC52aWRlb0hlaWdodDtcclxuICAgIGNvbnN0IGlkID0gZ2V0VWlkKCk7XHJcbiAgICB0aGlzLmFkZEVkaXRvckVsZW1lbnQoXHJcbiAgICAgIHtcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lOiBgTWVkaWEodmlkZW8pICR7aW5kZXggKyAxfWAsXHJcbiAgICAgICAgdHlwZTogXCJ2aWRlb1wiLFxyXG4gICAgICAgIHBsYWNlbWVudDoge1xyXG4gICAgICAgICAgeDogMCxcclxuICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICB3aWR0aDogMTAwICogYXNwZWN0UmF0aW8sXHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCxcclxuICAgICAgICAgIHJvdGF0aW9uOiAwLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGltZUZyYW1lOiB7XHJcbiAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgIGVuZDogdmlkZW9EdXJhdGlvbk1zLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgICAgZWxlbWVudElkOiBgdmlkZW8tJHtpZH1gLFxyXG4gICAgICAgICAgc3JjOiB2aWRlb0VsZW1lbnQuc3JjLFxyXG4gICAgICAgICAgZWZmZWN0OiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwibm9uZVwiLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYWRkSW1hZ2UoaW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGltYWdlLSR7aW5kZXh9YClcclxuICAgIGlmICghaXNIdG1sSW1hZ2VFbGVtZW50KGltYWdlRWxlbWVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBpbWFnZUVsZW1lbnQubmF0dXJhbFdpZHRoIC8gaW1hZ2VFbGVtZW50Lm5hdHVyYWxIZWlnaHQ7XHJcbiAgICBjb25zdCBpZCA9IGdldFVpZCgpO1xyXG4gICAgdGhpcy5hZGRFZGl0b3JFbGVtZW50KFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZTogYE1lZGlhKGltYWdlKSAke2luZGV4ICsgMX1gLFxyXG4gICAgICAgIHR5cGU6IFwiaW1hZ2VcIixcclxuICAgICAgICBwbGFjZW1lbnQ6IHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgd2lkdGg6IDEwMCAqIGFzcGVjdFJhdGlvLFxyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAsXHJcbiAgICAgICAgICByb3RhdGlvbjogMCxcclxuICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRpbWVGcmFtZToge1xyXG4gICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICBlbmQ6IHRoaXMubWF4VGltZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICAgIGVsZW1lbnRJZDogYGltYWdlLSR7aWR9YCxcclxuICAgICAgICAgIHNyYzogaW1hZ2VFbGVtZW50LnNyYyxcclxuICAgICAgICAgIGVmZmVjdDoge1xyXG4gICAgICAgICAgICB0eXBlOiBcIm5vbmVcIixcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFkZEF1ZGlvKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGF1ZGlvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhdWRpby0ke2luZGV4fWApXHJcbiAgICBpZiAoIWlzSHRtbEF1ZGlvRWxlbWVudChhdWRpb0VsZW1lbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGF1ZGlvRHVyYXRpb25NcyA9IGF1ZGlvRWxlbWVudC5kdXJhdGlvbiAqIDEwMDA7XHJcbiAgICBjb25zdCBpZCA9IGdldFVpZCgpO1xyXG4gICAgdGhpcy5hZGRFZGl0b3JFbGVtZW50KFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZTogYE1lZGlhKGF1ZGlvKSAke2luZGV4ICsgMX1gLFxyXG4gICAgICAgIHR5cGU6IFwiYXVkaW9cIixcclxuICAgICAgICBwbGFjZW1lbnQ6IHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICAgICAgcm90YXRpb246IDAsXHJcbiAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aW1lRnJhbWU6IHtcclxuICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgZW5kOiBhdWRpb0R1cmF0aW9uTXMsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICBlbGVtZW50SWQ6IGBhdWRpby0ke2lkfWAsXHJcbiAgICAgICAgICBzcmM6IGF1ZGlvRWxlbWVudC5zcmMsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgKTtcclxuXHJcbiAgfVxyXG4gIGFkZFRleHQob3B0aW9uczoge1xyXG4gICAgdGV4dDogc3RyaW5nLFxyXG4gICAgZm9udFNpemU6IG51bWJlcixcclxuICAgIGZvbnRXZWlnaHQ6IG51bWJlcixcclxuICB9KSB7XHJcbiAgICBjb25zdCBpZCA9IGdldFVpZCgpO1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmVkaXRvckVsZW1lbnRzLmxlbmd0aDtcclxuICAgIHRoaXMuYWRkRWRpdG9yRWxlbWVudChcclxuICAgICAge1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWU6IGBUZXh0ICR7aW5kZXggKyAxfWAsXHJcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgcGxhY2VtZW50OiB7XHJcbiAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgeTogMCxcclxuICAgICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCxcclxuICAgICAgICAgIHJvdGF0aW9uOiAwLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGltZUZyYW1lOiB7XHJcbiAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgIGVuZDogdGhpcy5tYXhUaW1lLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgICAgdGV4dDogb3B0aW9ucy50ZXh0LFxyXG4gICAgICAgICAgZm9udFNpemU6IG9wdGlvbnMuZm9udFNpemUsXHJcbiAgICAgICAgICBmb250V2VpZ2h0OiBvcHRpb25zLmZvbnRXZWlnaHQsXHJcbiAgICAgICAgICBzcGxpdHRlZFRleHRzOiBbXSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVZpZGVvRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLmVkaXRvckVsZW1lbnRzLmZpbHRlcihcclxuICAgICAgKGVsZW1lbnQpOiBlbGVtZW50IGlzIFZpZGVvRWRpdG9yRWxlbWVudCA9PlxyXG4gICAgICAgIGVsZW1lbnQudHlwZSA9PT0gXCJ2aWRlb1wiXHJcbiAgICApXHJcbiAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LnByb3BlcnRpZXMuZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoaXNIdG1sVmlkZW9FbGVtZW50KHZpZGVvKSkge1xyXG4gICAgICAgICAgY29uc3QgdmlkZW9UaW1lID0gKHRoaXMuY3VycmVudFRpbWVJbk1zIC0gZWxlbWVudC50aW1lRnJhbWUuc3RhcnQpIC8gMTAwMDtcclxuICAgICAgICAgIHZpZGVvLmN1cnJlbnRUaW1lID0gdmlkZW9UaW1lO1xyXG4gICAgICAgICAgaWYgKHRoaXMucGxheWluZykge1xyXG4gICAgICAgICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWRlby5wYXVzZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICB9XHJcbiAgdXBkYXRlQXVkaW9FbGVtZW50cygpIHtcclxuICAgIHRoaXMuZWRpdG9yRWxlbWVudHMuZmlsdGVyKFxyXG4gICAgICAoZWxlbWVudCk6IGVsZW1lbnQgaXMgQXVkaW9FZGl0b3JFbGVtZW50ID0+XHJcbiAgICAgICAgZWxlbWVudC50eXBlID09PSBcImF1ZGlvXCJcclxuICAgIClcclxuICAgICAgLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICBjb25zdCBhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQucHJvcGVydGllcy5lbGVtZW50SWQpO1xyXG4gICAgICAgIGlmIChpc0h0bWxBdWRpb0VsZW1lbnQoYXVkaW8pKSB7XHJcbiAgICAgICAgICBjb25zdCBhdWRpb1RpbWUgPSAodGhpcy5jdXJyZW50VGltZUluTXMgLSBlbGVtZW50LnRpbWVGcmFtZS5zdGFydCkgLyAxMDAwO1xyXG4gICAgICAgICAgYXVkaW8uY3VycmVudFRpbWUgPSBhdWRpb1RpbWU7XHJcbiAgICAgICAgICBpZiAodGhpcy5wbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gIH1cclxuICAvLyBzYXZlQ2FudmFzVG9WaWRlbygpIHtcclxuICAvLyAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xyXG4gIC8vICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgLy8gICBjb25zdCBzdHJlYW0gPSBjYW52YXMuY2FwdHVyZVN0cmVhbSgpO1xyXG4gIC8vICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xyXG4gIC8vICAgdmlkZW8ucGxheSgpO1xyXG4gIC8vICAgY29uc3QgbWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XHJcbiAgLy8gICBjb25zdCBjaHVua3M6IEJsb2JbXSA9IFtdO1xyXG4gIC8vICAgbWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSBmdW5jdGlvbiAoZSkge1xyXG4gIC8vICAgICBjb25zb2xlLmxvZyhcImRhdGEgYXZhaWxhYmxlXCIpO1xyXG4gIC8vICAgICBjb25zb2xlLmxvZyhlLmRhdGEpO1xyXG4gIC8vICAgICBjaHVua3MucHVzaChlLmRhdGEpO1xyXG4gIC8vICAgfTtcclxuICAvLyAgIG1lZGlhUmVjb3JkZXIub25zdG9wID0gZnVuY3Rpb24gKGUpIHtcclxuICAvLyAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKGNodW5rcywgeyB0eXBlOiBcInZpZGVvL3dlYm1cIiB9KTtcclxuICAvLyAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAvLyAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gIC8vICAgICBhLmhyZWYgPSB1cmw7XHJcbiAgLy8gICAgIGEuZG93bmxvYWQgPSBcInZpZGVvLndlYm1cIjtcclxuICAvLyAgICAgYS5jbGljaygpO1xyXG4gIC8vICAgfTtcclxuICAvLyAgIG1lZGlhUmVjb3JkZXIuc3RhcnQoKTtcclxuICAvLyAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gIC8vICAgICBtZWRpYVJlY29yZGVyLnN0b3AoKTtcclxuICAvLyAgIH0sIHRoaXMubWF4VGltZSk7XHJcblxyXG4gIC8vIH1cclxuXHJcbiAgc2V0VmlkZW9Gb3JtYXQoZm9ybWF0OiAnbXA0JyB8ICd3ZWJtJykge1xyXG4gICAgdGhpcy5zZWxlY3RlZFZpZGVvRm9ybWF0ID0gZm9ybWF0O1xyXG4gIH1cclxuXHJcbiAgc2F2ZUNhbnZhc1RvVmlkZW9XaXRoQXVkaW8oKSB7XHJcbiAgICB0aGlzLnNhdmVDYW52YXNUb1ZpZGVvV2l0aEF1ZGlvV2VibU1wNCgpO1xyXG4gIH1cclxuXHJcbiAgc2F2ZUNhbnZhc1RvVmlkZW9XaXRoQXVkaW9XZWJtTXA0KCkge1xyXG4gICAgY29uc29sZS5sb2coJ21vZGlmaWVkJylcclxuICAgIGxldCBtcDQgPSB0aGlzLnNlbGVjdGVkVmlkZW9Gb3JtYXQgPT09ICdtcDQnXHJcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGNvbnN0IHN0cmVhbSA9IGNhbnZhcy5jYXB0dXJlU3RyZWFtKDMwKTtcclxuICAgIGNvbnN0IGF1ZGlvRWxlbWVudHMgPSB0aGlzLmVkaXRvckVsZW1lbnRzLmZpbHRlcihpc0VkaXRvckF1ZGlvRWxlbWVudClcclxuICAgIGNvbnN0IGF1ZGlvU3RyZWFtczogTWVkaWFTdHJlYW1bXSA9IFtdO1xyXG4gICAgYXVkaW9FbGVtZW50cy5mb3JFYWNoKChhdWRpbykgPT4ge1xyXG4gICAgICBjb25zdCBhdWRpb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhdWRpby5wcm9wZXJ0aWVzLmVsZW1lbnRJZCkgYXMgSFRNTEF1ZGlvRWxlbWVudDtcclxuICAgICAgbGV0IGN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgbGV0IHNvdXJjZU5vZGUgPSBjdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKGF1ZGlvRWxlbWVudCk7XHJcbiAgICAgIGxldCBkZXN0ID0gY3R4LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKTtcclxuICAgICAgc291cmNlTm9kZS5jb25uZWN0KGRlc3QpO1xyXG4gICAgICBzb3VyY2VOb2RlLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTtcclxuICAgICAgYXVkaW9TdHJlYW1zLnB1c2goZGVzdC5zdHJlYW0pO1xyXG4gICAgfSk7XHJcbiAgICBhdWRpb1N0cmVhbXMuZm9yRWFjaCgoYXVkaW9TdHJlYW0pID0+IHtcclxuICAgICAgc3RyZWFtLmFkZFRyYWNrKGF1ZGlvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0pO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtcclxuICAgIHZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcclxuICAgIHZpZGVvLmhlaWdodCA9IDUwMDtcclxuICAgIHZpZGVvLndpZHRoID0gODAwO1xyXG4gICAgLy8gdmlkZW8uY29udHJvbHMgPSB0cnVlO1xyXG4gICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2aWRlbyk7XHJcbiAgICB2aWRlby5wbGF5KCkudGhlbigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xyXG4gICAgICBjb25zdCBjaHVua3M6IEJsb2JbXSA9IFtdO1xyXG4gICAgICBtZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY2h1bmtzLnB1c2goZS5kYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImRhdGEgYXZhaWxhYmxlXCIpO1xyXG5cclxuICAgICAgfTtcclxuICAgICAgbWVkaWFSZWNvcmRlci5vbnN0b3AgPSBhc3luYyBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihjaHVua3MsIHsgdHlwZTogXCJ2aWRlby93ZWJtXCIgfSk7XHJcblxyXG4gICAgICAgIGlmIChtcDQpIHtcclxuICAgICAgICAgIC8vIGxldHMgdXNlIGZmbXBlZyB0byBjb252ZXJ0IHdlYm0gdG8gbXA0XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgKGJsb2IpLmFycmF5QnVmZmVyKCkpO1xyXG4gICAgICAgICAgY29uc3QgZmZtcGVnID0gbmV3IEZGbXBlZygpO1xyXG4gICAgICAgICAgY29uc3QgYmFzZVVSTCA9IFwiaHR0cHM6Ly91bnBrZy5jb20vQGZmbXBlZy9jb3JlQDAuMTIuMi9kaXN0L3VtZFwiXHJcbiAgICAgICAgICBhd2FpdCBmZm1wZWcubG9hZCh7XHJcbiAgICAgICAgICAgIGNvcmVVUkw6IGF3YWl0IHRvQmxvYlVSTChgJHtiYXNlVVJMfS9mZm1wZWctY29yZS5qc2AsICd0ZXh0L2phdmFzY3JpcHQnKSxcclxuICAgICAgICAgICAgd2FzbVVSTDogYXdhaXQgdG9CbG9iVVJMKGAke2Jhc2VVUkx9L2ZmbXBlZy1jb3JlLndhc21gLCAnYXBwbGljYXRpb24vd2FzbScpLFxyXG4gICAgICAgICAgICAvLyB3b3JrZXJVUkw6IGF3YWl0IHRvQmxvYlVSTChgJHtiYXNlVVJMfS9mZm1wZWctY29yZS53b3JrZXIuanNgLCAndGV4dC9qYXZhc2NyaXB0JyksXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGF3YWl0IGZmbXBlZy53cml0ZUZpbGUoJ3ZpZGVvLndlYm0nLCBkYXRhKTtcclxuICAgICAgICAgIGF3YWl0IGZmbXBlZy5leGVjKFtcIi15XCIsIFwiLWlcIiwgXCJ2aWRlby53ZWJtXCIsIFwiLWNcIiwgXCJjb3B5XCIsIFwidmlkZW8ubXA0XCJdKTtcclxuICAgICAgICAgIC8vIGF3YWl0IGZmbXBlZy5leGVjKFtcIi15XCIsIFwiLWlcIiwgXCJ2aWRlby53ZWJtXCIsIFwiLWM6dlwiLCBcImxpYngyNjRcIiwgXCJ2aWRlby5tcDRcIl0pO1xyXG5cclxuICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IGZmbXBlZy5yZWFkRmlsZSgndmlkZW8ubXA0Jyk7XHJcbiAgICAgICAgICBjb25zdCBvdXRwdXRCbG9iID0gbmV3IEJsb2IoW291dHB1dF0sIHsgdHlwZTogXCJ2aWRlby9tcDRcIiB9KTtcclxuICAgICAgICAgIGNvbnN0IG91dHB1dFVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwob3V0cHV0QmxvYik7XHJcbiAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgICBhLmRvd25sb2FkID0gXCJ2aWRlby5tcDRcIjtcclxuICAgICAgICAgIGEuaHJlZiA9IG91dHB1dFVybDtcclxuICAgICAgICAgIGEuY2xpY2soKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgICAgICAgICBhLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICBhLmRvd25sb2FkID0gXCJ2aWRlby53ZWJtXCI7XHJcbiAgICAgICAgICBhLmNsaWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBtZWRpYVJlY29yZGVyLnN0YXJ0KCk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIG1lZGlhUmVjb3JkZXIuc3RvcCgpO1xyXG4gICAgICB9LCB0aGlzLm1heFRpbWUpO1xyXG4gICAgICB2aWRlby5yZW1vdmUoKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICByZWZyZXNoRWxlbWVudHMoKSB7XHJcbiAgICBjb25zdCBzdG9yZSA9IHRoaXM7XHJcbiAgICBpZiAoIXN0b3JlLmNhbnZhcykgcmV0dXJuO1xyXG4gICAgY29uc3QgY2FudmFzID0gc3RvcmUuY2FudmFzO1xyXG4gICAgc3RvcmUuY2FudmFzLnJlbW92ZSguLi5zdG9yZS5jYW52YXMuZ2V0T2JqZWN0cygpKTtcclxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzdG9yZS5lZGl0b3JFbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHN0b3JlLmVkaXRvckVsZW1lbnRzW2luZGV4XTtcclxuICAgICAgc3dpdGNoIChlbGVtZW50LnR5cGUpIHtcclxuICAgICAgICBjYXNlIFwidmlkZW9cIjoge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJlbGVtZW50aWRcIiwgZWxlbWVudC5wcm9wZXJ0aWVzLmVsZW1lbnRJZCk7XHJcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5wcm9wZXJ0aWVzLmVsZW1lbnRJZCkgPT0gbnVsbClcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgICAgICAgZWxlbWVudC5wcm9wZXJ0aWVzLmVsZW1lbnRJZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmICghaXNIdG1sVmlkZW9FbGVtZW50KHZpZGVvRWxlbWVudCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgLy8gY29uc3QgZmlsdGVycyA9IFtdO1xyXG4gICAgICAgICAgLy8gaWYgKGVsZW1lbnQucHJvcGVydGllcy5lZmZlY3Q/LnR5cGUgPT09IFwiYmxhY2tBbmRXaGl0ZVwiKSB7XHJcbiAgICAgICAgICAvLyAgIGZpbHRlcnMucHVzaChuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlKCkpO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgY29uc3QgdmlkZW9PYmplY3QgPSBuZXcgZmFicmljLkNvdmVyVmlkZW8odmlkZW9FbGVtZW50LCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQuaWQsXHJcbiAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnQucGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgIHRvcDogZWxlbWVudC5wbGFjZW1lbnQueSxcclxuICAgICAgICAgICAgd2lkdGg6IGVsZW1lbnQucGxhY2VtZW50LndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnQucGxhY2VtZW50LmhlaWdodCxcclxuICAgICAgICAgICAgc2NhbGVYOiBlbGVtZW50LnBsYWNlbWVudC5zY2FsZVgsXHJcbiAgICAgICAgICAgIHNjYWxlWTogZWxlbWVudC5wbGFjZW1lbnQuc2NhbGVZLFxyXG4gICAgICAgICAgICBhbmdsZTogZWxlbWVudC5wbGFjZW1lbnQucm90YXRpb24sXHJcbiAgICAgICAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBsb2NrVW5pU2NhbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gZmlsdGVyczogZmlsdGVycyxcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjdXN0b21GaWx0ZXI6IGVsZW1lbnQucHJvcGVydGllcy5lZmZlY3QudHlwZSxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGVsZW1lbnQuZmFicmljT2JqZWN0ID0gdmlkZW9PYmplY3Q7XHJcbiAgICAgICAgICBlbGVtZW50LnByb3BlcnRpZXMuaW1hZ2VPYmplY3QgPSB2aWRlb09iamVjdDtcclxuICAgICAgICAgIHZpZGVvRWxlbWVudC53aWR0aCA9IDEwMDtcclxuICAgICAgICAgIHZpZGVvRWxlbWVudC5oZWlnaHQgPVxyXG4gICAgICAgICAgICAodmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0ICogMTAwKSAvIHZpZGVvRWxlbWVudC52aWRlb1dpZHRoO1xyXG4gICAgICAgICAgY2FudmFzLmFkZCh2aWRlb09iamVjdCk7XHJcbiAgICAgICAgICBjYW52YXMub24oXCJvYmplY3Q6bW9kaWZpZWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFlLnRhcmdldCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCAhPSB2aWRlb09iamVjdCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgbmV3UGxhY2VtZW50OiBQbGFjZW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgLi4ucGxhY2VtZW50LFxyXG4gICAgICAgICAgICAgIHg6IHRhcmdldC5sZWZ0ID8/IHBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICAgIHk6IHRhcmdldC50b3AgPz8gcGxhY2VtZW50LnksXHJcbiAgICAgICAgICAgICAgcm90YXRpb246IHRhcmdldC5hbmdsZSA/PyBwbGFjZW1lbnQucm90YXRpb24sXHJcbiAgICAgICAgICAgICAgd2lkdGg6XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQud2lkdGggJiYgdGFyZ2V0LnNjYWxlWFxyXG4gICAgICAgICAgICAgICAgICA/IHRhcmdldC53aWR0aCAqIHRhcmdldC5zY2FsZVhcclxuICAgICAgICAgICAgICAgICAgOiBwbGFjZW1lbnQud2lkdGgsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmhlaWdodCAmJiB0YXJnZXQuc2NhbGVZXHJcbiAgICAgICAgICAgICAgICAgID8gdGFyZ2V0LmhlaWdodCAqIHRhcmdldC5zY2FsZVlcclxuICAgICAgICAgICAgICAgICAgOiBwbGFjZW1lbnQuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgLi4uZWxlbWVudCxcclxuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG5ld1BsYWNlbWVudCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc3RvcmUudXBkYXRlRWRpdG9yRWxlbWVudChuZXdFbGVtZW50KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJpbWFnZVwiOiB7XHJcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5wcm9wZXJ0aWVzLmVsZW1lbnRJZCkgPT0gbnVsbClcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgICAgICAgZWxlbWVudC5wcm9wZXJ0aWVzLmVsZW1lbnRJZFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGlmICghaXNIdG1sSW1hZ2VFbGVtZW50KGltYWdlRWxlbWVudCkpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgLy8gY29uc3QgZmlsdGVycyA9IFtdO1xyXG4gICAgICAgICAgLy8gaWYgKGVsZW1lbnQucHJvcGVydGllcy5lZmZlY3Q/LnR5cGUgPT09IFwiYmxhY2tBbmRXaGl0ZVwiKSB7XHJcbiAgICAgICAgICAvLyAgIGZpbHRlcnMucHVzaChuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlKCkpO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgY29uc3QgaW1hZ2VPYmplY3QgPSBuZXcgZmFicmljLkNvdmVySW1hZ2UoaW1hZ2VFbGVtZW50LCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQuaWQsXHJcbiAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnQucGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgIHRvcDogZWxlbWVudC5wbGFjZW1lbnQueSxcclxuICAgICAgICAgICAgYW5nbGU6IGVsZW1lbnQucGxhY2VtZW50LnJvdGF0aW9uLFxyXG4gICAgICAgICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgbG9ja1VuaVNjYWxpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIGZpbHRlcnNcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjdXN0b21GaWx0ZXI6IGVsZW1lbnQucHJvcGVydGllcy5lZmZlY3QudHlwZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8gaW1hZ2VPYmplY3QuYXBwbHlGaWx0ZXJzKCk7XHJcbiAgICAgICAgICBlbGVtZW50LmZhYnJpY09iamVjdCA9IGltYWdlT2JqZWN0O1xyXG4gICAgICAgICAgZWxlbWVudC5wcm9wZXJ0aWVzLmltYWdlT2JqZWN0ID0gaW1hZ2VPYmplY3Q7XHJcbiAgICAgICAgICBjb25zdCBpbWFnZSA9IHtcclxuICAgICAgICAgICAgdzogaW1hZ2VFbGVtZW50Lm5hdHVyYWxXaWR0aCxcclxuICAgICAgICAgICAgaDogaW1hZ2VFbGVtZW50Lm5hdHVyYWxIZWlnaHQsXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGltYWdlT2JqZWN0LndpZHRoID0gaW1hZ2UudztcclxuICAgICAgICAgIGltYWdlT2JqZWN0LmhlaWdodCA9IGltYWdlLmg7XHJcbiAgICAgICAgICBpbWFnZUVsZW1lbnQud2lkdGggPSBpbWFnZS53O1xyXG4gICAgICAgICAgaW1hZ2VFbGVtZW50LmhlaWdodCA9IGltYWdlLmg7XHJcbiAgICAgICAgICBpbWFnZU9iamVjdC5zY2FsZVRvSGVpZ2h0KGltYWdlLncpO1xyXG4gICAgICAgICAgaW1hZ2VPYmplY3Quc2NhbGVUb1dpZHRoKGltYWdlLmgpO1xyXG4gICAgICAgICAgY29uc3QgdG9TY2FsZSA9IHtcclxuICAgICAgICAgICAgeDogZWxlbWVudC5wbGFjZW1lbnQud2lkdGggLyBpbWFnZS53LFxyXG4gICAgICAgICAgICB5OiBlbGVtZW50LnBsYWNlbWVudC5oZWlnaHQgLyBpbWFnZS5oLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGltYWdlT2JqZWN0LnNjYWxlWCA9IHRvU2NhbGUueCAqIGVsZW1lbnQucGxhY2VtZW50LnNjYWxlWDtcclxuICAgICAgICAgIGltYWdlT2JqZWN0LnNjYWxlWSA9IHRvU2NhbGUueSAqIGVsZW1lbnQucGxhY2VtZW50LnNjYWxlWTtcclxuICAgICAgICAgIGNhbnZhcy5hZGQoaW1hZ2VPYmplY3QpO1xyXG4gICAgICAgICAgY2FudmFzLm9uKFwib2JqZWN0Om1vZGlmaWVkXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZS50YXJnZXQpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gaW1hZ2VPYmplY3QpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7XHJcbiAgICAgICAgICAgIGxldCBmaWFubFNjYWxlID0gMTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5zY2FsZVggJiYgdGFyZ2V0LnNjYWxlWCA+IDApIHtcclxuICAgICAgICAgICAgICBmaWFubFNjYWxlID0gdGFyZ2V0LnNjYWxlWCAvIHRvU2NhbGUueDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBuZXdQbGFjZW1lbnQ6IFBsYWNlbWVudCA9IHtcclxuICAgICAgICAgICAgICAuLi5wbGFjZW1lbnQsXHJcbiAgICAgICAgICAgICAgeDogdGFyZ2V0LmxlZnQgPz8gcGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgICAgeTogdGFyZ2V0LnRvcCA/PyBwbGFjZW1lbnQueSxcclxuICAgICAgICAgICAgICByb3RhdGlvbjogdGFyZ2V0LmFuZ2xlID8/IHBsYWNlbWVudC5yb3RhdGlvbixcclxuICAgICAgICAgICAgICBzY2FsZVg6IGZpYW5sU2NhbGUsXHJcbiAgICAgICAgICAgICAgc2NhbGVZOiBmaWFubFNjYWxlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0ge1xyXG4gICAgICAgICAgICAgIC4uLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiBuZXdQbGFjZW1lbnQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZUVkaXRvckVsZW1lbnQobmV3RWxlbWVudCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwiYXVkaW9cIjoge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcclxuICAgICAgICAgIGNvbnN0IHRleHRPYmplY3QgPSBuZXcgZmFicmljLlRleHRib3goZWxlbWVudC5wcm9wZXJ0aWVzLnRleHQsIHtcclxuICAgICAgICAgICAgbmFtZTogZWxlbWVudC5pZCxcclxuICAgICAgICAgICAgbGVmdDogZWxlbWVudC5wbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgdG9wOiBlbGVtZW50LnBsYWNlbWVudC55LFxyXG4gICAgICAgICAgICBzY2FsZVg6IGVsZW1lbnQucGxhY2VtZW50LnNjYWxlWCxcclxuICAgICAgICAgICAgc2NhbGVZOiBlbGVtZW50LnBsYWNlbWVudC5zY2FsZVksXHJcbiAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50LnBsYWNlbWVudC53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBlbGVtZW50LnBsYWNlbWVudC5oZWlnaHQsXHJcbiAgICAgICAgICAgIGFuZ2xlOiBlbGVtZW50LnBsYWNlbWVudC5yb3RhdGlvbixcclxuICAgICAgICAgICAgZm9udFNpemU6IGVsZW1lbnQucHJvcGVydGllcy5mb250U2l6ZSxcclxuICAgICAgICAgICAgZm9udFdlaWdodDogZWxlbWVudC5wcm9wZXJ0aWVzLmZvbnRXZWlnaHQsXHJcbiAgICAgICAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBsb2NrVW5pU2NhbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgZmlsbDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGVsZW1lbnQuZmFicmljT2JqZWN0ID0gdGV4dE9iamVjdDtcclxuICAgICAgICAgIGNhbnZhcy5hZGQodGV4dE9iamVjdCk7XHJcbiAgICAgICAgICBjYW52YXMub24oXCJvYmplY3Q6bW9kaWZpZWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFlLnRhcmdldCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCAhPSB0ZXh0T2JqZWN0KSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQbGFjZW1lbnQ6IFBsYWNlbWVudCA9IHtcclxuICAgICAgICAgICAgICAuLi5wbGFjZW1lbnQsXHJcbiAgICAgICAgICAgICAgeDogdGFyZ2V0LmxlZnQgPz8gcGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgICAgeTogdGFyZ2V0LnRvcCA/PyBwbGFjZW1lbnQueSxcclxuICAgICAgICAgICAgICByb3RhdGlvbjogdGFyZ2V0LmFuZ2xlID8/IHBsYWNlbWVudC5yb3RhdGlvbixcclxuICAgICAgICAgICAgICB3aWR0aDogdGFyZ2V0LndpZHRoID8/IHBsYWNlbWVudC53aWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IHRhcmdldC5oZWlnaHQgPz8gcGxhY2VtZW50LmhlaWdodCxcclxuICAgICAgICAgICAgICBzY2FsZVg6IHRhcmdldC5zY2FsZVggPz8gcGxhY2VtZW50LnNjYWxlWCxcclxuICAgICAgICAgICAgICBzY2FsZVk6IHRhcmdldC5zY2FsZVkgPz8gcGxhY2VtZW50LnNjYWxlWSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IHtcclxuICAgICAgICAgICAgICAuLi5lbGVtZW50LFxyXG4gICAgICAgICAgICAgIHBsYWNlbWVudDogbmV3UGxhY2VtZW50LFxyXG4gICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICAgICAgICAgIC4uLmVsZW1lbnQucHJvcGVydGllcyxcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIHRleHQ6IHRhcmdldD8udGV4dCxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzdG9yZS51cGRhdGVFZGl0b3JFbGVtZW50KG5ld0VsZW1lbnQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoZWxlbWVudC5mYWJyaWNPYmplY3QpIHtcclxuICAgICAgICBlbGVtZW50LmZhYnJpY09iamVjdC5vbihcInNlbGVjdGVkXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICBzdG9yZS5zZXRTZWxlY3RlZEVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHNlbGVjdGVkRWRpdG9yRWxlbWVudCA9IHN0b3JlLnNlbGVjdGVkRWxlbWVudDtcclxuICAgIGlmIChzZWxlY3RlZEVkaXRvckVsZW1lbnQgJiYgc2VsZWN0ZWRFZGl0b3JFbGVtZW50LmZhYnJpY09iamVjdCkge1xyXG4gICAgICBjYW52YXMuc2V0QWN0aXZlT2JqZWN0KHNlbGVjdGVkRWRpdG9yRWxlbWVudC5mYWJyaWNPYmplY3QpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5yZWZyZXNoQW5pbWF0aW9ucygpO1xyXG4gICAgdGhpcy51cGRhdGVUaW1lVG8odGhpcy5jdXJyZW50VGltZUluTXMpO1xyXG4gICAgc3RvcmUuY2FudmFzLnJlbmRlckFsbCgpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFZGl0b3JBdWRpb0VsZW1lbnQoXHJcbiAgZWxlbWVudDogRWRpdG9yRWxlbWVudFxyXG4pOiBlbGVtZW50IGlzIEF1ZGlvRWRpdG9yRWxlbWVudCB7XHJcbiAgcmV0dXJuIGVsZW1lbnQudHlwZSA9PT0gXCJhdWRpb1wiO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VkaXRvclZpZGVvRWxlbWVudChcclxuICBlbGVtZW50OiBFZGl0b3JFbGVtZW50XHJcbik6IGVsZW1lbnQgaXMgVmlkZW9FZGl0b3JFbGVtZW50IHtcclxuICByZXR1cm4gZWxlbWVudC50eXBlID09PSBcInZpZGVvXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VkaXRvckltYWdlRWxlbWVudChcclxuICBlbGVtZW50OiBFZGl0b3JFbGVtZW50XHJcbik6IGVsZW1lbnQgaXMgSW1hZ2VFZGl0b3JFbGVtZW50IHtcclxuICByZXR1cm4gZWxlbWVudC50eXBlID09PSBcImltYWdlXCI7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRUZXh0T2JqZWN0c1BhcnRpdGlvbmVkQnlDaGFyYWN0ZXJzKHRleHRPYmplY3Q6IGZhYnJpYy5UZXh0LCBlbGVtZW50OiBUZXh0RWRpdG9yRWxlbWVudCk6IGZhYnJpYy5UZXh0W10ge1xyXG4gIGxldCBjb3B5Q2hhcnNPYmplY3RzOiBmYWJyaWMuVGV4dFtdID0gW107XHJcbiAgLy8gcmVwbGFjZSBhbGwgbGluZSBlbmRpbmdzIHdpdGggYmxhbmtcclxuICBjb25zdCBjaGFyYWN0ZXJzID0gKHRleHRPYmplY3QudGV4dCA/PyBcIlwiKS5zcGxpdCgnJykuZmlsdGVyKChtKSA9PiBtICE9PSAnXFxuJyk7XHJcbiAgY29uc3QgY2hhck9iamVjdHMgPSB0ZXh0T2JqZWN0Ll9fY2hhckJvdW5kcztcclxuICBpZiAoIWNoYXJPYmplY3RzKSByZXR1cm4gW107XHJcbiAgY29uc3QgY2hhck9iamVjdEZpeGVkID0gY2hhck9iamVjdHMubWFwKChtLCBpbmRleCkgPT4gbS5zbGljZSgwLCBtLmxlbmd0aCAtIDEpLm1hcChtID0+ICh7IG0sIGluZGV4IH0pKSkuZmxhdCgpO1xyXG4gIGNvbnN0IGxpbmVIZWlnaHQgPSB0ZXh0T2JqZWN0LmdldEhlaWdodE9mTGluZSgwKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJhY3RlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmICghY2hhck9iamVjdEZpeGVkW2ldKSBjb250aW51ZTtcclxuICAgIGNvbnN0IHsgbTogY2hhck9iamVjdCwgaW5kZXg6IGxpbmVJbmRleCB9ID0gY2hhck9iamVjdEZpeGVkW2ldO1xyXG4gICAgY29uc3QgY2hhciA9IGNoYXJhY3RlcnNbaV07XHJcbiAgICBjb25zdCBzY2FsZVggPSB0ZXh0T2JqZWN0LnNjYWxlWCA/PyAxO1xyXG4gICAgY29uc3Qgc2NhbGVZID0gdGV4dE9iamVjdC5zY2FsZVkgPz8gMTtcclxuICAgIGNvbnN0IGNoYXJUZXh0T2JqZWN0ID0gbmV3IGZhYnJpYy5UZXh0KGNoYXIsIHtcclxuICAgICAgbGVmdDogY2hhck9iamVjdC5sZWZ0ICogc2NhbGVYICsgKGVsZW1lbnQucGxhY2VtZW50LngpLFxyXG4gICAgICBzY2FsZVg6IHNjYWxlWCxcclxuICAgICAgc2NhbGVZOiBzY2FsZVksXHJcbiAgICAgIHRvcDogbGluZUluZGV4ICogbGluZUhlaWdodCAqIHNjYWxlWSArIChlbGVtZW50LnBsYWNlbWVudC55KSxcclxuICAgICAgZm9udFNpemU6IHRleHRPYmplY3QuZm9udFNpemUsXHJcbiAgICAgIGZvbnRXZWlnaHQ6IHRleHRPYmplY3QuZm9udFdlaWdodCxcclxuICAgICAgZmlsbDogJyNmZmYnLFxyXG4gICAgfSk7XHJcbiAgICBjb3B5Q2hhcnNPYmplY3RzLnB1c2goY2hhclRleHRPYmplY3QpO1xyXG4gIH1cclxuICByZXR1cm4gY29weUNoYXJzT2JqZWN0cztcclxufSJdLCJuYW1lcyI6WyJtYWtlQXV0b09ic2VydmFibGUiLCJmYWJyaWMiLCJnZXRVaWQiLCJpc0h0bWxBdWRpb0VsZW1lbnQiLCJpc0h0bWxJbWFnZUVsZW1lbnQiLCJpc0h0bWxWaWRlb0VsZW1lbnQiLCJhbmltZSIsIkZhYnJpY1VpdGxzIiwiRkZtcGVnIiwidG9CbG9iVVJMIiwiU3RvcmUiLCJjdXJyZW50VGltZUluTXMiLCJjdXJyZW50S2V5RnJhbWUiLCJmcHMiLCJzZXRDdXJyZW50VGltZUluTXMiLCJ0aW1lIiwiTWF0aCIsImZsb29yIiwic2V0U2VsZWN0ZWRNZW51T3B0aW9uIiwic2VsZWN0ZWRNZW51T3B0aW9uIiwic2V0Q2FudmFzIiwiY2FudmFzIiwiYmFja2dyb3VuZENvbG9yIiwic2V0QmFja2dyb3VuZENvbG9yIiwic2V0VGV4dENvbG9yIiwiVGV4dENvbG9yIiwic2VsZWN0ZWRFbGVtZW50IiwidXBkYXRlRWZmZWN0IiwiaWQiLCJlZmZlY3QiLCJpbmRleCIsImVkaXRvckVsZW1lbnRzIiwiZmluZEluZGV4IiwiZWxlbWVudCIsImlzRWRpdG9yVmlkZW9FbGVtZW50IiwiaXNFZGl0b3JJbWFnZUVsZW1lbnQiLCJwcm9wZXJ0aWVzIiwicmVmcmVzaEVsZW1lbnRzIiwic2V0VmlkZW9zIiwidmlkZW9zIiwiYWRkVmlkZW9SZXNvdXJjZSIsInZpZGVvIiwiYWRkQXVkaW9SZXNvdXJjZSIsImF1ZGlvIiwiYXVkaW9zIiwiYWRkSW1hZ2VSZXNvdXJjZSIsImltYWdlIiwiaW1hZ2VzIiwiYWRkQW5pbWF0aW9uIiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9ucyIsInJlZnJlc2hBbmltYXRpb25zIiwidXBkYXRlQW5pbWF0aW9uIiwiYSIsInJlbW92ZSIsImFuaW1hdGlvblRpbWVMaW5lIiwidGltZWxpbmUiLCJkdXJhdGlvbiIsIm1heFRpbWUiLCJhdXRvcGxheSIsImkiLCJsZW5ndGgiLCJlZGl0b3JFbGVtZW50IiwiZmluZCIsInRhcmdldElkIiwiZmFicmljT2JqZWN0IiwiY2xpcFBhdGgiLCJ1bmRlZmluZWQiLCJ0eXBlIiwiYWRkIiwib3BhY2l0eSIsInRhcmdldHMiLCJlYXNpbmciLCJ0aW1lRnJhbWUiLCJzdGFydCIsImVuZCIsImRpcmVjdGlvbiIsInRhcmdldFBvc2l0aW9uIiwibGVmdCIsInBsYWNlbWVudCIsIngiLCJ0b3AiLCJ5Iiwic3RhcnRQb3NpdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwidXNlQ2xpcFBhdGgiLCJjbGlwUmVjdGFuZ2xlIiwiZ2V0Q2xpcE1hc2tSZWN0Iiwic2V0IiwidGV4dFR5cGUiLCJzcGxpdHRlZFRleHRzIiwiZ2V0VGV4dE9iamVjdHNQYXJ0aXRpb25lZEJ5Q2hhcmFjdGVycyIsImZvckVhY2giLCJ0ZXh0T2JqZWN0IiwiZGVsYXkiLCJzcGxpdHRlZFRleHQiLCJvZmZzZXQiLCJpdHNTbGlkZUluQW5pbWF0aW9uIiwiaXRzU2xpZGVPdXRBbmltYXRpb24iLCJ0aW1lRW5kT2ZTbGlkZUluIiwidGltZVN0YXJ0T2ZTbGlkZU91dCIsImVhc2VGYWN0b3IiLCJzdWl0YWJsZVRpbWVGb3JIZWFydGJlYXQiLCJ1cFNjYWxlIiwiY3VycmVudFNjYWxlWCIsInNjYWxlWCIsImN1cnJlbnRTY2FsZVkiLCJzY2FsZVkiLCJmaW5hbFNjYWxlWCIsImZpbmFsU2NhbGVZIiwidG90YWxIZWFydGJlYXRzIiwia2V5ZnJhbWVzIiwicHVzaCIsImxvb3AiLCJyZW1vdmVBbmltYXRpb24iLCJmaWx0ZXIiLCJzZXRTZWxlY3RlZEVsZW1lbnQiLCJzZXRBY3RpdmVPYmplY3QiLCJkaXNjYXJkQWN0aXZlT2JqZWN0IiwidXBkYXRlU2VsZWN0ZWRFbGVtZW50Iiwic2V0RWRpdG9yRWxlbWVudHMiLCJ1cGRhdGVFZGl0b3JFbGVtZW50IiwibWFwIiwidXBkYXRlRWRpdG9yRWxlbWVudFRpbWVGcmFtZSIsIm5ld0VkaXRvckVsZW1lbnQiLCJ1cGRhdGVWaWRlb0VsZW1lbnRzIiwidXBkYXRlQXVkaW9FbGVtZW50cyIsImFkZEVkaXRvckVsZW1lbnQiLCJyZW1vdmVFZGl0b3JFbGVtZW50Iiwic2V0TWF4VGltZSIsInNldFBsYXlpbmciLCJwbGF5aW5nIiwic3RhcnRlZFRpbWUiLCJEYXRlIiwibm93Iiwic3RhcnRlZFRpbWVQbGF5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicGxheUZyYW1lcyIsImVsYXBzZWRUaW1lIiwibmV3VGltZSIsInVwZGF0ZVRpbWVUbyIsInNlZWsiLCJlIiwiaXNJbnNpZGUiLCJ2aXNpYmxlIiwiaGFuZGxlU2VlayIsImFkZFZpZGVvIiwidmlkZW9FbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZpZGVvRHVyYXRpb25NcyIsImFzcGVjdFJhdGlvIiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwibmFtZSIsInJvdGF0aW9uIiwiZWxlbWVudElkIiwic3JjIiwiYWRkSW1hZ2UiLCJpbWFnZUVsZW1lbnQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiYWRkQXVkaW8iLCJhdWRpb0VsZW1lbnQiLCJhdWRpb0R1cmF0aW9uTXMiLCJhZGRUZXh0Iiwib3B0aW9ucyIsInRleHQiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJ2aWRlb1RpbWUiLCJjdXJyZW50VGltZSIsInBsYXkiLCJwYXVzZSIsImF1ZGlvVGltZSIsInNldFZpZGVvRm9ybWF0IiwiZm9ybWF0Iiwic2VsZWN0ZWRWaWRlb0Zvcm1hdCIsInNhdmVDYW52YXNUb1ZpZGVvV2l0aEF1ZGlvIiwic2F2ZUNhbnZhc1RvVmlkZW9XaXRoQXVkaW9XZWJtTXA0IiwiY29uc29sZSIsImxvZyIsIm1wNCIsInN0cmVhbSIsImNhcHR1cmVTdHJlYW0iLCJhdWRpb0VsZW1lbnRzIiwiaXNFZGl0b3JBdWRpb0VsZW1lbnQiLCJhdWRpb1N0cmVhbXMiLCJjdHgiLCJBdWRpb0NvbnRleHQiLCJzb3VyY2VOb2RlIiwiY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIiwiZGVzdCIsImNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24iLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJhdWRpb1N0cmVhbSIsImFkZFRyYWNrIiwiZ2V0QXVkaW9UcmFja3MiLCJjcmVhdGVFbGVtZW50Iiwic3JjT2JqZWN0IiwidGhlbiIsIm1lZGlhUmVjb3JkZXIiLCJNZWRpYVJlY29yZGVyIiwiY2h1bmtzIiwib25kYXRhYXZhaWxhYmxlIiwiZGF0YSIsIm9uc3RvcCIsImJsb2IiLCJCbG9iIiwiVWludDhBcnJheSIsImFycmF5QnVmZmVyIiwiZmZtcGVnIiwiYmFzZVVSTCIsImxvYWQiLCJjb3JlVVJMIiwid2FzbVVSTCIsIndyaXRlRmlsZSIsImV4ZWMiLCJvdXRwdXQiLCJyZWFkRmlsZSIsIm91dHB1dEJsb2IiLCJvdXRwdXRVcmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb3dubG9hZCIsImhyZWYiLCJjbGljayIsInVybCIsInNldFRpbWVvdXQiLCJzdG9wIiwic3RvcmUiLCJnZXRPYmplY3RzIiwidmlkZW9PYmplY3QiLCJDb3ZlclZpZGVvIiwiYW5nbGUiLCJvYmplY3RDYWNoaW5nIiwic2VsZWN0YWJsZSIsImxvY2tVbmlTY2FsaW5nIiwiY3VzdG9tRmlsdGVyIiwiaW1hZ2VPYmplY3QiLCJvbiIsInRhcmdldCIsIm5ld1BsYWNlbWVudCIsIm5ld0VsZW1lbnQiLCJDb3ZlckltYWdlIiwidyIsImgiLCJzY2FsZVRvSGVpZ2h0Iiwic2NhbGVUb1dpZHRoIiwidG9TY2FsZSIsImZpYW5sU2NhbGUiLCJUZXh0Ym94IiwiZmlsbCIsIkVycm9yIiwic2VsZWN0ZWRFZGl0b3JFbGVtZW50IiwicmVuZGVyQWxsIiwiY29uc3RydWN0b3IiLCJwb3NzaWJsZVZpZGVvRm9ybWF0cyIsImNvcHlDaGFyc09iamVjdHMiLCJjaGFyYWN0ZXJzIiwic3BsaXQiLCJtIiwiY2hhck9iamVjdHMiLCJfX2NoYXJCb3VuZHMiLCJjaGFyT2JqZWN0Rml4ZWQiLCJzbGljZSIsImZsYXQiLCJsaW5lSGVpZ2h0IiwiZ2V0SGVpZ2h0T2ZMaW5lIiwiY2hhck9iamVjdCIsImxpbmVJbmRleCIsImNoYXIiLCJjaGFyVGV4dE9iamVjdCIsIlRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-client)/./src/store/Store.ts\n"));

/***/ })

});