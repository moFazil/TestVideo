"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-client_src_components_Editor_tsx",{

/***/ "(app-client)/./src/store/Store.ts":
/*!****************************!*\
  !*** ./src/store/Store.ts ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Store: function() { return /* binding */ Store; },\n/* harmony export */   isEditorAudioElement: function() { return /* binding */ isEditorAudioElement; },\n/* harmony export */   isEditorImageElement: function() { return /* binding */ isEditorImageElement; },\n/* harmony export */   isEditorVideoElement: function() { return /* binding */ isEditorVideoElement; }\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mobx */ \"(app-client)/./node_modules/mobx/dist/mobx.esm.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"(app-client)/./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils */ \"(app-client)/./src/utils/index.ts\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! animejs */ \"(app-client)/./node_modules/animejs/lib/anime.es.js\");\n/* harmony import */ var _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/fabric-utils */ \"(app-client)/./src/utils/fabric-utils.ts\");\n/* harmony import */ var _ffmpeg_ffmpeg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ffmpeg/ffmpeg */ \"(app-client)/./node_modules/@ffmpeg/ffmpeg/dist/esm/index.js\");\n/* harmony import */ var _ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ffmpeg/util */ \"(app-client)/./node_modules/@ffmpeg/util/dist/esm/index.js\");\n\n\n\n\n\n\n\nclass Store {\n    get currentTimeInMs() {\n        return this.currentKeyFrame * 1000 / this.fps;\n    }\n    setCurrentTimeInMs(time) {\n        this.currentKeyFrame = Math.floor(time / 1000 * this.fps);\n    }\n    setSelectedMenuOption(selectedMenuOption) {\n        this.selectedMenuOption = selectedMenuOption;\n    }\n    setCanvas(canvas) {\n        this.canvas = canvas;\n        if (canvas) {\n            canvas.backgroundColor = this.backgroundColor;\n        }\n    }\n    setBackgroundColor(backgroundColor) {\n        this.backgroundColor = backgroundColor;\n        if (this.canvas) {\n            this.canvas.backgroundColor = backgroundColor;\n        }\n    }\n    setTextColor(TextColor) {\n        this.TextColor = TextColor;\n        if (this.selectedElement) {\n            this.se = TextColor;\n        }\n    }\n    updateEffect(id, effect) {\n        const index = this.editorElements.findIndex((element)=>element.id === id);\n        const element = this.editorElements[index];\n        if (isEditorVideoElement(element) || isEditorImageElement(element)) {\n            element.properties.effect = effect;\n        }\n        this.refreshElements();\n    }\n    setVideos(videos) {\n        this.videos = videos;\n    }\n    addVideoResource(video) {\n        this.videos = [\n            ...this.videos,\n            video\n        ];\n    }\n    addAudioResource(audio) {\n        this.audios = [\n            ...this.audios,\n            audio\n        ];\n    }\n    addImageResource(image) {\n        this.images = [\n            ...this.images,\n            image\n        ];\n    }\n    addAnimation(animation) {\n        this.animations = [\n            ...this.animations,\n            animation\n        ];\n        this.refreshAnimations();\n    }\n    updateAnimation(id, animation) {\n        const index = this.animations.findIndex((a)=>a.id === id);\n        this.animations[index] = animation;\n        this.refreshAnimations();\n    }\n    refreshAnimations() {\n        animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remove(this.animationTimeLine);\n        this.animationTimeLine = animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].timeline({\n            duration: this.maxTime,\n            autoplay: false\n        });\n        for(let i = 0; i < this.animations.length; i++){\n            var _editorElement;\n            const animation = this.animations[i];\n            const editorElement = this.editorElements.find((element)=>element.id === animation.targetId);\n            const fabricObject = (_editorElement = editorElement) === null || _editorElement === void 0 ? void 0 : _editorElement.fabricObject;\n            if (!editorElement || !fabricObject) {\n                continue;\n            }\n            fabricObject.clipPath = undefined;\n            switch(animation.type){\n                case \"fadeIn\":\n                    {\n                        this.animationTimeLine.add({\n                            opacity: [\n                                0,\n                                1\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.start);\n                        break;\n                    }\n                case \"fadeOut\":\n                    {\n                        this.animationTimeLine.add({\n                            opacity: [\n                                1,\n                                0\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.end - animation.duration);\n                        break;\n                    }\n                case \"slideIn\":\n                    {\n                        var _this_canvas, _this_canvas1;\n                        const direction = animation.properties.direction;\n                        const targetPosition = {\n                            left: editorElement.placement.x,\n                            top: editorElement.placement.y\n                        };\n                        const startPosition = {\n                            left: direction === \"left\" ? -editorElement.placement.width : direction === \"right\" ? (_this_canvas = this.canvas) === null || _this_canvas === void 0 ? void 0 : _this_canvas.width : editorElement.placement.x,\n                            top: direction === \"top\" ? -editorElement.placement.height : direction === \"bottom\" ? (_this_canvas1 = this.canvas) === null || _this_canvas1 === void 0 ? void 0 : _this_canvas1.height : editorElement.placement.y\n                        };\n                        if (animation.properties.useClipPath) {\n                            const clipRectangle = _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__.FabricUitls.getClipMaskRect(editorElement, 50);\n                            fabricObject.set(\"clipPath\", clipRectangle);\n                        }\n                        if (editorElement.type === \"text\" && animation.properties.textType === \"character\") {\n                            var _this_canvas2;\n                            (_this_canvas2 = this.canvas) === null || _this_canvas2 === void 0 ? void 0 : _this_canvas2.remove(...editorElement.properties.splittedTexts);\n                            // @ts-ignore\n                            editorElement.properties.splittedTexts = getTextObjectsPartitionedByCharacters(editorElement.fabricObject, editorElement);\n                            editorElement.properties.splittedTexts.forEach((textObject)=>{\n                                this.canvas.add(textObject);\n                            });\n                            const duration = animation.duration / 2;\n                            const delay = duration / editorElement.properties.splittedTexts.length;\n                            for(let i = 0; i < editorElement.properties.splittedTexts.length; i++){\n                                const splittedText = editorElement.properties.splittedTexts[i];\n                                const offset = {\n                                    left: splittedText.left - editorElement.placement.x,\n                                    top: splittedText.top - editorElement.placement.y\n                                };\n                                this.animationTimeLine.add({\n                                    left: [\n                                        startPosition.left + offset.left,\n                                        targetPosition.left + offset.left\n                                    ],\n                                    top: [\n                                        startPosition.top + offset.top,\n                                        targetPosition.top + offset.top\n                                    ],\n                                    delay: i * delay,\n                                    duration: duration,\n                                    targets: splittedText\n                                }, editorElement.timeFrame.start);\n                            }\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    1,\n                                    0\n                                ],\n                                duration: 1,\n                                targets: fabricObject,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    0,\n                                    1\n                                ],\n                                duration: 1,\n                                targets: fabricObject,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start + animation.duration);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    0,\n                                    1\n                                ],\n                                duration: 1,\n                                targets: editorElement.properties.splittedTexts,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    1,\n                                    0\n                                ],\n                                duration: 1,\n                                targets: editorElement.properties.splittedTexts,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start + animation.duration);\n                        }\n                        this.animationTimeLine.add({\n                            left: [\n                                startPosition.left,\n                                targetPosition.left\n                            ],\n                            top: [\n                                startPosition.top,\n                                targetPosition.top\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.start);\n                        break;\n                    }\n                case \"slideOut\":\n                    {\n                        var _this_canvas3, _this_canvas4;\n                        const direction = animation.properties.direction;\n                        const startPosition = {\n                            left: editorElement.placement.x,\n                            top: editorElement.placement.y\n                        };\n                        const targetPosition = {\n                            left: direction === \"left\" ? -editorElement.placement.width : direction === \"right\" ? (_this_canvas3 = this.canvas) === null || _this_canvas3 === void 0 ? void 0 : _this_canvas3.width : editorElement.placement.x,\n                            top: direction === \"top\" ? -100 - editorElement.placement.height : direction === \"bottom\" ? (_this_canvas4 = this.canvas) === null || _this_canvas4 === void 0 ? void 0 : _this_canvas4.height : editorElement.placement.y\n                        };\n                        if (animation.properties.useClipPath) {\n                            const clipRectangle = _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__.FabricUitls.getClipMaskRect(editorElement, 50);\n                            fabricObject.set(\"clipPath\", clipRectangle);\n                        }\n                        this.animationTimeLine.add({\n                            left: [\n                                startPosition.left,\n                                targetPosition.left\n                            ],\n                            top: [\n                                startPosition.top,\n                                targetPosition.top\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.end - animation.duration);\n                        break;\n                    }\n                case \"breathe\":\n                    {\n                        const itsSlideInAnimation = this.animations.find((a)=>a.targetId === animation.targetId && a.type === \"slideIn\");\n                        const itsSlideOutAnimation = this.animations.find((a)=>a.targetId === animation.targetId && a.type === \"slideOut\");\n                        const timeEndOfSlideIn = itsSlideInAnimation ? editorElement.timeFrame.start + itsSlideInAnimation.duration : editorElement.timeFrame.start;\n                        const timeStartOfSlideOut = itsSlideOutAnimation ? editorElement.timeFrame.end - itsSlideOutAnimation.duration : editorElement.timeFrame.end;\n                        if (timeEndOfSlideIn > timeStartOfSlideOut) {\n                            continue;\n                        }\n                        const duration = timeStartOfSlideOut - timeEndOfSlideIn;\n                        const easeFactor = 4;\n                        const suitableTimeForHeartbeat = 1000 * 60 / 72 * easeFactor;\n                        const upScale = 1.05;\n                        var _fabricObject_scaleX;\n                        const currentScaleX = (_fabricObject_scaleX = fabricObject.scaleX) !== null && _fabricObject_scaleX !== void 0 ? _fabricObject_scaleX : 1;\n                        var _fabricObject_scaleY;\n                        const currentScaleY = (_fabricObject_scaleY = fabricObject.scaleY) !== null && _fabricObject_scaleY !== void 0 ? _fabricObject_scaleY : 1;\n                        const finalScaleX = currentScaleX * upScale;\n                        const finalScaleY = currentScaleY * upScale;\n                        const totalHeartbeats = Math.floor(duration / suitableTimeForHeartbeat);\n                        if (totalHeartbeats < 1) {\n                            continue;\n                        }\n                        const keyframes = [];\n                        for(let i = 0; i < totalHeartbeats; i++){\n                            keyframes.push({\n                                scaleX: finalScaleX,\n                                scaleY: finalScaleY\n                            });\n                            keyframes.push({\n                                scaleX: currentScaleX,\n                                scaleY: currentScaleY\n                            });\n                        }\n                        this.animationTimeLine.add({\n                            duration: duration,\n                            targets: fabricObject,\n                            keyframes,\n                            easing: \"linear\",\n                            loop: true\n                        }, timeEndOfSlideIn);\n                        break;\n                    }\n            }\n        }\n    }\n    removeAnimation(id) {\n        this.animations = this.animations.filter((animation)=>animation.id !== id);\n        this.refreshAnimations();\n    }\n    setSelectedElement(selectedElement) {\n        this.selectedElement = selectedElement;\n        if (this.canvas) {\n            var _selectedElement;\n            if ((_selectedElement = selectedElement) === null || _selectedElement === void 0 ? void 0 : _selectedElement.fabricObject) this.canvas.setActiveObject(selectedElement.fabricObject);\n            else this.canvas.discardActiveObject();\n        }\n    }\n    updateSelectedElement() {\n        var _this_editorElements_find;\n        this.selectedElement = (_this_editorElements_find = this.editorElements.find((element)=>{\n            var _this_selectedElement;\n            return element.id === ((_this_selectedElement = this.selectedElement) === null || _this_selectedElement === void 0 ? void 0 : _this_selectedElement.id);\n        })) !== null && _this_editorElements_find !== void 0 ? _this_editorElements_find : null;\n    }\n    setEditorElements(editorElements) {\n        this.editorElements = editorElements;\n        this.updateSelectedElement();\n        this.refreshElements();\n    // this.refreshAnimations();\n    }\n    updateEditorElement(editorElement) {\n        this.setEditorElements(this.editorElements.map((element)=>element.id === editorElement.id ? editorElement : element));\n    }\n    updateEditorElementTimeFrame(editorElement, timeFrame) {\n        if (timeFrame.start != undefined && timeFrame.start < 0) {\n            timeFrame.start = 0;\n        }\n        if (timeFrame.end != undefined && timeFrame.end > this.maxTime) {\n            timeFrame.end = this.maxTime;\n        }\n        const newEditorElement = {\n            ...editorElement,\n            timeFrame: {\n                ...editorElement.timeFrame,\n                ...timeFrame\n            }\n        };\n        this.updateVideoElements();\n        this.updateAudioElements();\n        this.updateEditorElement(newEditorElement);\n        this.refreshAnimations();\n    }\n    addEditorElement(editorElement) {\n        this.setEditorElements([\n            ...this.editorElements,\n            editorElement\n        ]);\n        this.refreshElements();\n        this.setSelectedElement(this.editorElements[this.editorElements.length - 1]);\n    }\n    removeEditorElement(id) {\n        this.setEditorElements(this.editorElements.filter((editorElement)=>editorElement.id !== id));\n        this.refreshElements();\n    }\n    setMaxTime(maxTime) {\n        this.maxTime = maxTime;\n    }\n    setPlaying(playing) {\n        this.playing = playing;\n        this.updateVideoElements();\n        this.updateAudioElements();\n        if (playing) {\n            this.startedTime = Date.now();\n            this.startedTimePlay = this.currentTimeInMs;\n            requestAnimationFrame(()=>{\n                this.playFrames();\n            });\n        }\n    }\n    playFrames() {\n        if (!this.playing) {\n            return;\n        }\n        const elapsedTime = Date.now() - this.startedTime;\n        const newTime = this.startedTimePlay + elapsedTime;\n        this.updateTimeTo(newTime);\n        if (newTime > this.maxTime) {\n            this.currentKeyFrame = 0;\n            this.setPlaying(false);\n        } else {\n            requestAnimationFrame(()=>{\n                this.playFrames();\n            });\n        }\n    }\n    updateTimeTo(newTime) {\n        this.setCurrentTimeInMs(newTime);\n        this.animationTimeLine.seek(newTime);\n        if (this.canvas) {\n            this.canvas.backgroundColor = this.backgroundColor;\n        }\n        this.editorElements.forEach((e)=>{\n            if (!e.fabricObject) return;\n            const isInside = e.timeFrame.start <= newTime && newTime <= e.timeFrame.end;\n            e.fabricObject.visible = isInside;\n        });\n    }\n    handleSeek(seek) {\n        if (this.playing) {\n            this.setPlaying(false);\n        }\n        this.updateTimeTo(seek);\n        this.updateVideoElements();\n        this.updateAudioElements();\n    }\n    addVideo(index) {\n        const videoElement = document.getElementById(\"video-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(videoElement)) {\n            return;\n        }\n        const videoDurationMs = videoElement.duration * 1000;\n        const aspectRatio = videoElement.videoWidth / videoElement.videoHeight;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(video) \".concat(index + 1),\n            type: \"video\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100 * aspectRatio,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: videoDurationMs\n            },\n            properties: {\n                elementId: \"video-\".concat(id),\n                src: videoElement.src,\n                effect: {\n                    type: \"none\"\n                }\n            }\n        });\n    }\n    addImage(index) {\n        const imageElement = document.getElementById(\"image-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlImageElement)(imageElement)) {\n            return;\n        }\n        const aspectRatio = imageElement.naturalWidth / imageElement.naturalHeight;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(image) \".concat(index + 1),\n            type: \"image\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100 * aspectRatio,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: this.maxTime\n            },\n            properties: {\n                elementId: \"image-\".concat(id),\n                src: imageElement.src,\n                effect: {\n                    type: \"none\"\n                }\n            }\n        });\n    }\n    addAudio(index) {\n        const audioElement = document.getElementById(\"audio-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlAudioElement)(audioElement)) {\n            return;\n        }\n        const audioDurationMs = audioElement.duration * 1000;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(audio) \".concat(index + 1),\n            type: \"audio\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: audioDurationMs\n            },\n            properties: {\n                elementId: \"audio-\".concat(id),\n                src: audioElement.src\n            }\n        });\n    }\n    addText(options) {\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        const index = this.editorElements.length;\n        this.addEditorElement({\n            id,\n            name: \"Text \".concat(index + 1),\n            type: \"text\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: this.maxTime\n            },\n            properties: {\n                text: options.text,\n                fontSize: options.fontSize,\n                fontWeight: options.fontWeight,\n                splittedTexts: []\n            }\n        });\n    }\n    updateVideoElements() {\n        this.editorElements.filter((element)=>element.type === \"video\").forEach((element)=>{\n            const video = document.getElementById(element.properties.elementId);\n            if ((0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(video)) {\n                const videoTime = (this.currentTimeInMs - element.timeFrame.start) / 1000;\n                video.currentTime = videoTime;\n                if (this.playing) {\n                    video.play();\n                } else {\n                    video.pause();\n                }\n            }\n        });\n    }\n    updateAudioElements() {\n        this.editorElements.filter((element)=>element.type === \"audio\").forEach((element)=>{\n            const audio = document.getElementById(element.properties.elementId);\n            if ((0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlAudioElement)(audio)) {\n                const audioTime = (this.currentTimeInMs - element.timeFrame.start) / 1000;\n                audio.currentTime = audioTime;\n                if (this.playing) {\n                    audio.play();\n                } else {\n                    audio.pause();\n                }\n            }\n        });\n    }\n    // saveCanvasToVideo() {\n    //   const video = document.createElement(\"video\");\n    //   const canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n    //   const stream = canvas.captureStream();\n    //   video.srcObject = stream;\n    //   video.play();\n    //   const mediaRecorder = new MediaRecorder(stream);\n    //   const chunks: Blob[] = [];\n    //   mediaRecorder.ondataavailable = function (e) {\n    //     console.log(\"data available\");\n    //     console.log(e.data);\n    //     chunks.push(e.data);\n    //   };\n    //   mediaRecorder.onstop = function (e) {\n    //     const blob = new Blob(chunks, { type: \"video/webm\" });\n    //     const url = URL.createObjectURL(blob);\n    //     const a = document.createElement(\"a\");\n    //     a.href = url;\n    //     a.download = \"video.webm\";\n    //     a.click();\n    //   };\n    //   mediaRecorder.start();\n    //   setTimeout(() => {\n    //     mediaRecorder.stop();\n    //   }, this.maxTime);\n    // }\n    setVideoFormat(format) {\n        this.selectedVideoFormat = format;\n    }\n    saveCanvasToVideoWithAudio() {\n        this.saveCanvasToVideoWithAudioWebmMp4();\n    }\n    saveCanvasToVideoWithAudioWebmMp4() {\n        console.log(\"modified\");\n        let mp4 = this.selectedVideoFormat === \"mp4\";\n        const canvas = document.getElementById(\"canvas\");\n        const stream = canvas.captureStream(30);\n        const audioElements = this.editorElements.filter(isEditorAudioElement);\n        const audioStreams = [];\n        audioElements.forEach((audio)=>{\n            const audioElement = document.getElementById(audio.properties.elementId);\n            let ctx = new AudioContext();\n            let sourceNode = ctx.createMediaElementSource(audioElement);\n            let dest = ctx.createMediaStreamDestination();\n            sourceNode.connect(dest);\n            sourceNode.connect(ctx.destination);\n            audioStreams.push(dest.stream);\n        });\n        audioStreams.forEach((audioStream)=>{\n            stream.addTrack(audioStream.getAudioTracks()[0]);\n        });\n        const video = document.createElement(\"video\");\n        video.srcObject = stream;\n        video.height = 500;\n        video.width = 800;\n        // video.controls = true;\n        // document.body.appendChild(video);\n        video.play().then(()=>{\n            const mediaRecorder = new MediaRecorder(stream);\n            const chunks = [];\n            mediaRecorder.ondataavailable = function(e) {\n                chunks.push(e.data);\n                console.log(\"data available\");\n            };\n            mediaRecorder.onstop = async function(e) {\n                const blob = new Blob(chunks, {\n                    type: \"video/webm\"\n                });\n                if (mp4) {\n                    // lets use ffmpeg to convert webm to mp4\n                    const data = new Uint8Array(await blob.arrayBuffer());\n                    const ffmpeg = new _ffmpeg_ffmpeg__WEBPACK_IMPORTED_MODULE_4__.FFmpeg();\n                    const baseURL = \"https://unpkg.com/@ffmpeg/core@0.12.2/dist/umd\";\n                    await ffmpeg.load({\n                        coreURL: await (0,_ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__.toBlobURL)(\"\".concat(baseURL, \"/ffmpeg-core.js\"), \"text/javascript\"),\n                        wasmURL: await (0,_ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__.toBlobURL)(\"\".concat(baseURL, \"/ffmpeg-core.wasm\"), \"application/wasm\")\n                    });\n                    await ffmpeg.writeFile(\"video.webm\", data);\n                    await ffmpeg.exec([\n                        \"-y\",\n                        \"-i\",\n                        \"video.webm\",\n                        \"-c\",\n                        \"copy\",\n                        \"video.mp4\"\n                    ]);\n                    // await ffmpeg.exec([\"-y\", \"-i\", \"video.webm\", \"-c:v\", \"libx264\", \"video.mp4\"]);\n                    const output = await ffmpeg.readFile(\"video.mp4\");\n                    const outputBlob = new Blob([\n                        output\n                    ], {\n                        type: \"video/mp4\"\n                    });\n                    const outputUrl = URL.createObjectURL(outputBlob);\n                    const a = document.createElement(\"a\");\n                    a.download = \"video.mp4\";\n                    a.href = outputUrl;\n                    a.click();\n                } else {\n                    const url = URL.createObjectURL(blob);\n                    const a = document.createElement(\"a\");\n                    a.href = url;\n                    a.download = \"video.webm\";\n                    a.click();\n                }\n            };\n            mediaRecorder.start();\n            setTimeout(()=>{\n                mediaRecorder.stop();\n            }, this.maxTime);\n            video.remove();\n        });\n    }\n    refreshElements() {\n        const store = this;\n        if (!store.canvas) return;\n        const canvas = store.canvas;\n        store.canvas.remove(...store.canvas.getObjects());\n        for(let index = 0; index < store.editorElements.length; index++){\n            const element = store.editorElements[index];\n            switch(element.type){\n                case \"video\":\n                    {\n                        console.log(\"elementid\", element.properties.elementId);\n                        if (document.getElementById(element.properties.elementId) == null) continue;\n                        const videoElement = document.getElementById(element.properties.elementId);\n                        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(videoElement)) continue;\n                        // const filters = [];\n                        // if (element.properties.effect?.type === \"blackAndWhite\") {\n                        //   filters.push(new fabric.Image.filters.Grayscale());\n                        // }\n                        const videoObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.CoverVideo(videoElement, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            width: element.placement.width,\n                            height: element.placement.height,\n                            scaleX: element.placement.scaleX,\n                            scaleY: element.placement.scaleY,\n                            angle: element.placement.rotation,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            // filters: filters,\n                            // @ts-ignore\n                            customFilter: element.properties.effect.type\n                        });\n                        element.fabricObject = videoObject;\n                        element.properties.imageObject = videoObject;\n                        videoElement.width = 100;\n                        videoElement.height = videoElement.videoHeight * 100 / videoElement.videoWidth;\n                        canvas.add(videoObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != videoObject) return;\n                            const placement = element.placement;\n                            var _target_left, _target_top, _target_angle;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                width: target.width && target.scaleX ? target.width * target.scaleX : placement.width,\n                                height: target.height && target.scaleY ? target.height * target.scaleY : placement.height,\n                                scaleX: 1,\n                                scaleY: 1\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                case \"image\":\n                    {\n                        if (document.getElementById(element.properties.elementId) == null) continue;\n                        const imageElement = document.getElementById(element.properties.elementId);\n                        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlImageElement)(imageElement)) continue;\n                        // const filters = [];\n                        // if (element.properties.effect?.type === \"blackAndWhite\") {\n                        //   filters.push(new fabric.Image.filters.Grayscale());\n                        // }\n                        const imageObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.CoverImage(imageElement, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            angle: element.placement.rotation,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            // filters\n                            // @ts-ignore\n                            customFilter: element.properties.effect.type\n                        });\n                        // imageObject.applyFilters();\n                        element.fabricObject = imageObject;\n                        element.properties.imageObject = imageObject;\n                        const image = {\n                            w: imageElement.naturalWidth,\n                            h: imageElement.naturalHeight\n                        };\n                        imageObject.width = image.w;\n                        imageObject.height = image.h;\n                        imageElement.width = image.w;\n                        imageElement.height = image.h;\n                        imageObject.scaleToHeight(image.w);\n                        imageObject.scaleToWidth(image.h);\n                        const toScale = {\n                            x: element.placement.width / image.w,\n                            y: element.placement.height / image.h\n                        };\n                        imageObject.scaleX = toScale.x * element.placement.scaleX;\n                        imageObject.scaleY = toScale.y * element.placement.scaleY;\n                        canvas.add(imageObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != imageObject) return;\n                            const placement = element.placement;\n                            let fianlScale = 1;\n                            if (target.scaleX && target.scaleX > 0) {\n                                fianlScale = target.scaleX / toScale.x;\n                            }\n                            var _target_left, _target_top, _target_angle;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                scaleX: fianlScale,\n                                scaleY: fianlScale\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                case \"audio\":\n                    {\n                        break;\n                    }\n                case \"text\":\n                    {\n                        const textObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Textbox(element.properties.text, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            scaleX: element.placement.scaleX,\n                            scaleY: element.placement.scaleY,\n                            width: element.placement.width,\n                            height: element.placement.height,\n                            angle: element.placement.rotation,\n                            fontSize: element.properties.fontSize,\n                            fontWeight: element.properties.fontWeight,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            fill: \"#ffffff\"\n                        });\n                        element.fabricObject = textObject;\n                        canvas.add(textObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            var _target;\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != textObject) return;\n                            const placement = element.placement;\n                            var _target_left, _target_top, _target_angle, _target_width, _target_height, _target_scaleX, _target_scaleY;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                width: (_target_width = target.width) !== null && _target_width !== void 0 ? _target_width : placement.width,\n                                height: (_target_height = target.height) !== null && _target_height !== void 0 ? _target_height : placement.height,\n                                scaleX: (_target_scaleX = target.scaleX) !== null && _target_scaleX !== void 0 ? _target_scaleX : placement.scaleX,\n                                scaleY: (_target_scaleY = target.scaleY) !== null && _target_scaleY !== void 0 ? _target_scaleY : placement.scaleY\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement,\n                                properties: {\n                                    ...element.properties,\n                                    // @ts-ignore\n                                    text: (_target = target) === null || _target === void 0 ? void 0 : _target.text\n                                }\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                default:\n                    {\n                        throw new Error(\"Not implemented\");\n                    }\n            }\n            if (element.fabricObject) {\n                element.fabricObject.on(\"selected\", function(e) {\n                    store.setSelectedElement(element);\n                });\n            }\n        }\n        const selectedEditorElement = store.selectedElement;\n        if (selectedEditorElement && selectedEditorElement.fabricObject) {\n            canvas.setActiveObject(selectedEditorElement.fabricObject);\n        }\n        this.refreshAnimations();\n        this.updateTimeTo(this.currentTimeInMs);\n        store.canvas.renderAll();\n    }\n    constructor(){\n        this.possibleVideoFormats = [\n            \"mp4\",\n            \"webm\"\n        ];\n        this.startedTime = 0;\n        this.startedTimePlay = 0;\n        this.canvas = null;\n        this.videos = [];\n        this.images = [];\n        this.audios = [];\n        this.editorElements = [];\n        this.backgroundColor = \"#111111\";\n        this.TextColor = \"#111111\";\n        this.maxTime = 30 * 1000;\n        this.playing = false;\n        this.currentKeyFrame = 0;\n        this.selectedElement = null;\n        this.fps = 60;\n        this.animations = [];\n        this.animationTimeLine = animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].timeline();\n        this.selectedMenuOption = \"Video\";\n        this.selectedVideoFormat = \"mp4\";\n        (0,mobx__WEBPACK_IMPORTED_MODULE_6__.makeAutoObservable)(this);\n    }\n}\nfunction isEditorAudioElement(element) {\n    return element.type === \"audio\";\n}\nfunction isEditorVideoElement(element) {\n    return element.type === \"video\";\n}\nfunction isEditorImageElement(element) {\n    return element.type === \"image\";\n}\nfunction getTextObjectsPartitionedByCharacters(textObject, element) {\n    let copyCharsObjects = [];\n    var _textObject_text;\n    // replace all line endings with blank\n    const characters = ((_textObject_text = textObject.text) !== null && _textObject_text !== void 0 ? _textObject_text : \"\").split(\"\").filter((m)=>m !== \"\\n\");\n    const charObjects = textObject.__charBounds;\n    if (!charObjects) return [];\n    const charObjectFixed = charObjects.map((m, index)=>m.slice(0, m.length - 1).map((m)=>({\n                m,\n                index\n            }))).flat();\n    const lineHeight = textObject.getHeightOfLine(0);\n    for(let i = 0; i < characters.length; i++){\n        if (!charObjectFixed[i]) continue;\n        const { m: charObject, index: lineIndex } = charObjectFixed[i];\n        const char = characters[i];\n        var _textObject_scaleX;\n        const scaleX = (_textObject_scaleX = textObject.scaleX) !== null && _textObject_scaleX !== void 0 ? _textObject_scaleX : 1;\n        var _textObject_scaleY;\n        const scaleY = (_textObject_scaleY = textObject.scaleY) !== null && _textObject_scaleY !== void 0 ? _textObject_scaleY : 1;\n        const charTextObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Text(char, {\n            left: charObject.left * scaleX + element.placement.x,\n            scaleX: scaleX,\n            scaleY: scaleY,\n            top: lineIndex * lineHeight * scaleY + element.placement.y,\n            fontSize: textObject.fontSize,\n            fontWeight: textObject.fontWeight,\n            fill: \"#fff\"\n        });\n        copyCharsObjects.push(charTextObject);\n    }\n    return copyCharsObjects;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU0sR0FBRyxHQUFHOEQsR0FBRyxDQUFDNEksQ0FBQUEsSUFBTTtnQkFBRUE7Z0JBQUd6TztZQUFNLEtBQUs4TyxJQUFJO0lBQzdHLE1BQU1DLGFBQWEvSyxXQUFXZ0wsZUFBZSxDQUFDO0lBQzlDLElBQUssSUFBSWxOLElBQUksR0FBR0EsSUFBSXlNLFdBQVd4TSxNQUFNLEVBQUVELElBQUs7UUFDMUMsSUFBSSxDQUFDOE0sZUFBZSxDQUFDOU0sRUFBRSxFQUFFO1FBQ3pCLE1BQU0sRUFBRTJNLEdBQUdRLFVBQVUsRUFBRWpQLE9BQU9rUCxTQUFTLEVBQUUsR0FBR04sZUFBZSxDQUFDOU0sRUFBRTtRQUM5RCxNQUFNcU4sT0FBT1osVUFBVSxDQUFDek0sRUFBRTtZQUNYa0M7UUFBZixNQUFNWSxTQUFTWixDQUFBQSxxQkFBQUEsV0FBV1ksTUFBTSxjQUFqQlosZ0NBQUFBLHFCQUFxQjtZQUNyQkE7UUFBZixNQUFNYyxTQUFTZCxDQUFBQSxxQkFBQUEsV0FBV2MsTUFBTSxjQUFqQmQsZ0NBQUFBLHFCQUFxQjtRQUNwQyxNQUFNb0wsaUJBQWlCLElBQUlsUiwwQ0FBTUEsQ0FBQ21SLElBQUksQ0FBQ0YsTUFBTTtZQUMzQ25NLE1BQU1pTSxXQUFXak0sSUFBSSxHQUFHNEIsU0FBVXpFLFFBQVE4QyxTQUFTLENBQUNDLENBQUM7WUFDckQwQixRQUFRQTtZQUNSRSxRQUFRQTtZQUNSM0IsS0FBSytMLFlBQVlILGFBQWFqSyxTQUFVM0UsUUFBUThDLFNBQVMsQ0FBQ0csQ0FBQztZQUMzRHVGLFVBQVUzRSxXQUFXMkUsUUFBUTtZQUM3QkMsWUFBWTVFLFdBQVc0RSxVQUFVO1lBQ2pDb0YsTUFBTTtRQUNSO1FBQ0FNLGlCQUFpQm5KLElBQUksQ0FBQ2lLO0lBQ3hCO0lBQ0EsT0FBT2Q7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvc3RvcmUvU3RvcmUudHM/ODk4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlQXV0b09ic2VydmFibGUgfSBmcm9tICdtb2J4JztcclxuaW1wb3J0IHsgZmFicmljIH0gZnJvbSAnZmFicmljJztcclxuaW1wb3J0IHsgZ2V0VWlkLCBpc0h0bWxBdWRpb0VsZW1lbnQsIGlzSHRtbEltYWdlRWxlbWVudCwgaXNIdG1sVmlkZW9FbGVtZW50IH0gZnJvbSAnQC91dGlscyc7XHJcbmltcG9ydCBhbmltZSwgeyBnZXQgfSBmcm9tICdhbmltZWpzJztcclxuaW1wb3J0IHsgTWVudU9wdGlvbiwgRWRpdG9yRWxlbWVudCwgQW5pbWF0aW9uLCBUaW1lRnJhbWUsIFZpZGVvRWRpdG9yRWxlbWVudCwgQXVkaW9FZGl0b3JFbGVtZW50LCBQbGFjZW1lbnQsIEltYWdlRWRpdG9yRWxlbWVudCwgRWZmZWN0LCBUZXh0RWRpdG9yRWxlbWVudCB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgRmFicmljVWl0bHMgfSBmcm9tICdAL3V0aWxzL2ZhYnJpYy11dGlscyc7XHJcbmltcG9ydCB7IEZGbXBlZyB9IGZyb20gJ0BmZm1wZWcvZmZtcGVnJztcclxuaW1wb3J0IHsgdG9CbG9iVVJMIH0gZnJvbSAnQGZmbXBlZy91dGlsJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yZSB7XHJcbiAgY2FudmFzOiBmYWJyaWMuQ2FudmFzIHwgbnVsbFxyXG5cclxuICBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcclxuICBUZXh0Q29sb3IgOiBzdHJpbmc7XHJcblxyXG4gIHNlbGVjdGVkTWVudU9wdGlvbjogTWVudU9wdGlvbjtcclxuICBhdWRpb3M6IHN0cmluZ1tdXHJcbiAgdmlkZW9zOiBzdHJpbmdbXVxyXG4gIGltYWdlczogc3RyaW5nW11cclxuICBlZGl0b3JFbGVtZW50czogRWRpdG9yRWxlbWVudFtdXHJcbiAgc2VsZWN0ZWRFbGVtZW50OiBFZGl0b3JFbGVtZW50IHwgbnVsbDtcclxuXHJcbiAgbWF4VGltZTogbnVtYmVyXHJcbiAgYW5pbWF0aW9uczogQW5pbWF0aW9uW11cclxuICBhbmltYXRpb25UaW1lTGluZTogYW5pbWUuQW5pbWVUaW1lbGluZUluc3RhbmNlO1xyXG4gIHBsYXlpbmc6IGJvb2xlYW47XHJcblxyXG4gIGN1cnJlbnRLZXlGcmFtZTogbnVtYmVyO1xyXG4gIGZwczogbnVtYmVyO1xyXG5cclxuICBwb3NzaWJsZVZpZGVvRm9ybWF0czogc3RyaW5nW10gPSBbJ21wNCcsICd3ZWJtJ107XHJcbiAgc2VsZWN0ZWRWaWRlb0Zvcm1hdDogJ21wNCcgfCAnd2VibSc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xyXG4gICAgdGhpcy52aWRlb3MgPSBbXTtcclxuICAgIHRoaXMuaW1hZ2VzID0gW107XHJcbiAgICB0aGlzLmF1ZGlvcyA9IFtdO1xyXG4gICAgdGhpcy5lZGl0b3JFbGVtZW50cyA9IFtdO1xyXG4gICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAnIzExMTExMSc7XHJcbiAgICB0aGlzLlRleHRDb2xvciA9ICcjMTExMTExJztcclxuICAgIHRoaXMubWF4VGltZSA9IDMwICogMTAwMDtcclxuICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5jdXJyZW50S2V5RnJhbWUgPSAwO1xyXG4gICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSBudWxsO1xyXG4gICAgdGhpcy5mcHMgPSA2MDtcclxuICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5hbmltYXRpb25UaW1lTGluZSA9IGFuaW1lLnRpbWVsaW5lKCk7XHJcbiAgICB0aGlzLnNlbGVjdGVkTWVudU9wdGlvbiA9ICdWaWRlbyc7XHJcbiAgICB0aGlzLnNlbGVjdGVkVmlkZW9Gb3JtYXQgPSAnbXA0JztcclxuICAgIG1ha2VBdXRvT2JzZXJ2YWJsZSh0aGlzKTtcclxuICB9XHJcblxyXG4gIGdldCBjdXJyZW50VGltZUluTXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50S2V5RnJhbWUgKiAxMDAwIC8gdGhpcy5mcHM7XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50VGltZUluTXModGltZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRLZXlGcmFtZSA9IE1hdGguZmxvb3IodGltZSAvIDEwMDAgKiB0aGlzLmZwcyk7XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZE1lbnVPcHRpb24oc2VsZWN0ZWRNZW51T3B0aW9uOiBNZW51T3B0aW9uKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkTWVudU9wdGlvbiA9IHNlbGVjdGVkTWVudU9wdGlvbjtcclxuICB9XHJcblxyXG4gIHNldENhbnZhcyhjYW52YXM6IGZhYnJpYy5DYW52YXMgfCBudWxsKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgY2FudmFzLmJhY2tncm91bmRDb2xvciA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0QmFja2dyb3VuZENvbG9yKGJhY2tncm91bmRDb2xvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcclxuICAgIGlmICh0aGlzLmNhbnZhcykge1xyXG4gICAgICB0aGlzLmNhbnZhcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNldFRleHRDb2xvcihUZXh0Q29sb3I6IHN0cmluZykge1xyXG4gICAgdGhpcy5UZXh0Q29sb3IgPSBUZXh0Q29sb3I7XHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZEVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5zZSA9IFRleHRDb2xvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHVwZGF0ZUVmZmVjdChpZDogc3RyaW5nLCBlZmZlY3Q6IEVmZmVjdCkge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmVkaXRvckVsZW1lbnRzLmZpbmRJbmRleCgoZWxlbWVudCkgPT4gZWxlbWVudC5pZCA9PT0gaWQpO1xyXG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWRpdG9yRWxlbWVudHNbaW5kZXhdO1xyXG4gICAgaWYgKGlzRWRpdG9yVmlkZW9FbGVtZW50KGVsZW1lbnQpIHx8IGlzRWRpdG9ySW1hZ2VFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgIGVsZW1lbnQucHJvcGVydGllcy5lZmZlY3QgPSBlZmZlY3Q7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlZnJlc2hFbGVtZW50cygpO1xyXG4gIH1cclxuXHJcbiAgc2V0VmlkZW9zKHZpZGVvczogc3RyaW5nW10pIHtcclxuICAgIHRoaXMudmlkZW9zID0gdmlkZW9zO1xyXG4gIH1cclxuXHJcbiAgYWRkVmlkZW9SZXNvdXJjZSh2aWRlbzogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnZpZGVvcyA9IFsuLi50aGlzLnZpZGVvcywgdmlkZW9dO1xyXG4gIH1cclxuICBhZGRBdWRpb1Jlc291cmNlKGF1ZGlvOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuYXVkaW9zID0gWy4uLnRoaXMuYXVkaW9zLCBhdWRpb107XHJcbiAgfVxyXG4gIGFkZEltYWdlUmVzb3VyY2UoaW1hZ2U6IHN0cmluZykge1xyXG4gICAgdGhpcy5pbWFnZXMgPSBbLi4udGhpcy5pbWFnZXMsIGltYWdlXTtcclxuICB9XHJcblxyXG4gIGFkZEFuaW1hdGlvbihhbmltYXRpb246IEFuaW1hdGlvbikge1xyXG4gICAgdGhpcy5hbmltYXRpb25zID0gWy4uLnRoaXMuYW5pbWF0aW9ucywgYW5pbWF0aW9uXTtcclxuICAgIHRoaXMucmVmcmVzaEFuaW1hdGlvbnMoKTtcclxuICB9XHJcbiAgdXBkYXRlQW5pbWF0aW9uKGlkOiBzdHJpbmcsIGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuYW5pbWF0aW9ucy5maW5kSW5kZXgoKGEpID0+IGEuaWQgPT09IGlkKTtcclxuICAgIHRoaXMuYW5pbWF0aW9uc1tpbmRleF0gPSBhbmltYXRpb247XHJcbiAgICB0aGlzLnJlZnJlc2hBbmltYXRpb25zKCk7XHJcbiAgfVxyXG5cclxuICByZWZyZXNoQW5pbWF0aW9ucygpIHtcclxuICAgIGFuaW1lLnJlbW92ZSh0aGlzLmFuaW1hdGlvblRpbWVMaW5lKTtcclxuICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUgPSBhbmltZS50aW1lbGluZSh7XHJcbiAgICAgIGR1cmF0aW9uOiB0aGlzLm1heFRpbWUsXHJcbiAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgIH0pO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgYW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zW2ldO1xyXG4gICAgICBjb25zdCBlZGl0b3JFbGVtZW50ID0gdGhpcy5lZGl0b3JFbGVtZW50cy5maW5kKChlbGVtZW50KSA9PiBlbGVtZW50LmlkID09PSBhbmltYXRpb24udGFyZ2V0SWQpO1xyXG4gICAgICBjb25zdCBmYWJyaWNPYmplY3QgPSBlZGl0b3JFbGVtZW50Py5mYWJyaWNPYmplY3Q7XHJcbiAgICAgIGlmICghZWRpdG9yRWxlbWVudCB8fCAhZmFicmljT2JqZWN0KSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuICAgICAgZmFicmljT2JqZWN0LmNsaXBQYXRoID0gdW5kZWZpbmVkO1xyXG4gICAgICBzd2l0Y2ggKGFuaW1hdGlvbi50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBcImZhZGVJblwiOiB7XHJcbiAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IFswLCAxXSxcclxuICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvbi5kdXJhdGlvbixcclxuICAgICAgICAgICAgdGFyZ2V0czogZmFicmljT2JqZWN0LFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJmYWRlT3V0XCI6IHtcclxuICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgb3BhY2l0eTogWzEsIDBdLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICB0YXJnZXRzOiBmYWJyaWNPYmplY3QsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5lbmQgLSBhbmltYXRpb24uZHVyYXRpb24pO1xyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcInNsaWRlSW5cIjoge1xyXG4gICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gYW5pbWF0aW9uLnByb3BlcnRpZXMuZGlyZWN0aW9uO1xyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIGxlZnQ6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgIHRvcDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueSxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIGxlZnQ6IChkaXJlY3Rpb24gPT09IFwibGVmdFwiID8gLSBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC53aWR0aCA6IGRpcmVjdGlvbiA9PT0gXCJyaWdodFwiID8gdGhpcy5jYW52YXM/LndpZHRoIDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueCksXHJcbiAgICAgICAgICAgIHRvcDogKGRpcmVjdGlvbiA9PT0gXCJ0b3BcIiA/IC0gZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQuaGVpZ2h0IDogZGlyZWN0aW9uID09PSBcImJvdHRvbVwiID8gdGhpcy5jYW52YXM/LmhlaWdodCA6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LnkpLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFuaW1hdGlvbi5wcm9wZXJ0aWVzLnVzZUNsaXBQYXRoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsaXBSZWN0YW5nbGUgPSBGYWJyaWNVaXRscy5nZXRDbGlwTWFza1JlY3QoZWRpdG9yRWxlbWVudCwgNTApO1xyXG4gICAgICAgICAgICBmYWJyaWNPYmplY3Quc2V0KCdjbGlwUGF0aCcsIGNsaXBSZWN0YW5nbGUpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZWRpdG9yRWxlbWVudC50eXBlID09PSBcInRleHRcIiAmJiBhbmltYXRpb24ucHJvcGVydGllcy50ZXh0VHlwZSA9PT0gXCJjaGFyYWN0ZXJcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcz8ucmVtb3ZlKC4uLmVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzKVxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzID0gZ2V0VGV4dE9iamVjdHNQYXJ0aXRpb25lZEJ5Q2hhcmFjdGVycyhlZGl0b3JFbGVtZW50LmZhYnJpY09iamVjdCwgZWRpdG9yRWxlbWVudCk7XHJcbiAgICAgICAgICAgIGVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzLmZvckVhY2goKHRleHRPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmNhbnZhcyEuYWRkKHRleHRPYmplY3QpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGFuaW1hdGlvbi5kdXJhdGlvbiAvIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gZHVyYXRpb24gLyBlZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBjb25zdCBzcGxpdHRlZFRleHQgPSBlZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0c1tpXTtcclxuICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBzcGxpdHRlZFRleHQubGVmdCEgLSBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICAgICAgdG9wOiBzcGxpdHRlZFRleHQudG9wISAtIGVkaXRvckVsZW1lbnQucGxhY2VtZW50LnlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICAgICAgbGVmdDogW3N0YXJ0UG9zaXRpb24ubGVmdCEgKyBvZmZzZXQubGVmdCwgdGFyZ2V0UG9zaXRpb24ubGVmdCArIG9mZnNldC5sZWZ0XSxcclxuICAgICAgICAgICAgICAgIHRvcDogW3N0YXJ0UG9zaXRpb24udG9wISArIG9mZnNldC50b3AsIHRhcmdldFBvc2l0aW9uLnRvcCArIG9mZnNldC50b3BdLFxyXG4gICAgICAgICAgICAgICAgZGVsYXk6IGkgKiBkZWxheSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHNwbGl0dGVkVGV4dCxcclxuICAgICAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IFsxLCAwXSxcclxuICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgICAgICAgICB0YXJnZXRzOiBmYWJyaWNPYmplY3QsXHJcbiAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogWzAsIDFdLFxyXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxyXG4gICAgICAgICAgICAgIHRhcmdldHM6IGZhYnJpY09iamVjdCxcclxuICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCArIGFuaW1hdGlvbi5kdXJhdGlvbik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogWzAsIDFdLFxyXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxyXG4gICAgICAgICAgICAgIHRhcmdldHM6IGVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzLFxyXG4gICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IFsxLCAwXSxcclxuICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcclxuICAgICAgICAgICAgICB0YXJnZXRzOiBlZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0cyxcclxuICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCArIGFuaW1hdGlvbi5kdXJhdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgIGxlZnQ6IFtzdGFydFBvc2l0aW9uLmxlZnQsIHRhcmdldFBvc2l0aW9uLmxlZnRdLFxyXG4gICAgICAgICAgICB0b3A6IFtzdGFydFBvc2l0aW9uLnRvcCwgdGFyZ2V0UG9zaXRpb24udG9wXSxcclxuICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvbi5kdXJhdGlvbixcclxuICAgICAgICAgICAgdGFyZ2V0czogZmFicmljT2JqZWN0LFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQpO1xyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcInNsaWRlT3V0XCI6IHtcclxuICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGFuaW1hdGlvbi5wcm9wZXJ0aWVzLmRpcmVjdGlvbjtcclxuICAgICAgICAgIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIGxlZnQ6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgIHRvcDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueSxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IHRhcmdldFBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICBsZWZ0OiAoZGlyZWN0aW9uID09PSBcImxlZnRcIiA/IC0gZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQud2lkdGggOiBkaXJlY3Rpb24gPT09IFwicmlnaHRcIiA/IHRoaXMuY2FudmFzPy53aWR0aCA6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LngpLFxyXG4gICAgICAgICAgICB0b3A6IChkaXJlY3Rpb24gPT09IFwidG9wXCIgPyAtMTAwIC0gZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQuaGVpZ2h0IDogZGlyZWN0aW9uID09PSBcImJvdHRvbVwiID8gdGhpcy5jYW52YXM/LmhlaWdodCA6IGVkaXRvckVsZW1lbnQucGxhY2VtZW50LnkpLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFuaW1hdGlvbi5wcm9wZXJ0aWVzLnVzZUNsaXBQYXRoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsaXBSZWN0YW5nbGUgPSBGYWJyaWNVaXRscy5nZXRDbGlwTWFza1JlY3QoZWRpdG9yRWxlbWVudCwgNTApO1xyXG4gICAgICAgICAgICBmYWJyaWNPYmplY3Quc2V0KCdjbGlwUGF0aCcsIGNsaXBSZWN0YW5nbGUpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgIGxlZnQ6IFtzdGFydFBvc2l0aW9uLmxlZnQsIHRhcmdldFBvc2l0aW9uLmxlZnRdLFxyXG4gICAgICAgICAgICB0b3A6IFtzdGFydFBvc2l0aW9uLnRvcCwgdGFyZ2V0UG9zaXRpb24udG9wXSxcclxuICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvbi5kdXJhdGlvbixcclxuICAgICAgICAgICAgdGFyZ2V0czogZmFicmljT2JqZWN0LFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuZW5kIC0gYW5pbWF0aW9uLmR1cmF0aW9uKTtcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJicmVhdGhlXCI6IHtcclxuICAgICAgICAgIGNvbnN0IGl0c1NsaWRlSW5BbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnMuZmluZCgoYSkgPT4gYS50YXJnZXRJZCA9PT0gYW5pbWF0aW9uLnRhcmdldElkICYmIChhLnR5cGUgPT09IFwic2xpZGVJblwiKSk7XHJcbiAgICAgICAgICBjb25zdCBpdHNTbGlkZU91dEFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9ucy5maW5kKChhKSA9PiBhLnRhcmdldElkID09PSBhbmltYXRpb24udGFyZ2V0SWQgJiYgKGEudHlwZSA9PT0gXCJzbGlkZU91dFwiKSk7XHJcbiAgICAgICAgICBjb25zdCB0aW1lRW5kT2ZTbGlkZUluID0gaXRzU2xpZGVJbkFuaW1hdGlvbiA/IGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0ICsgaXRzU2xpZGVJbkFuaW1hdGlvbi5kdXJhdGlvbiA6IGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0O1xyXG4gICAgICAgICAgY29uc3QgdGltZVN0YXJ0T2ZTbGlkZU91dCA9IGl0c1NsaWRlT3V0QW5pbWF0aW9uID8gZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuZW5kIC0gaXRzU2xpZGVPdXRBbmltYXRpb24uZHVyYXRpb24gOiBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5lbmQ7XHJcbiAgICAgICAgICBpZiAodGltZUVuZE9mU2xpZGVJbiA+IHRpbWVTdGFydE9mU2xpZGVPdXQpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRpbWVTdGFydE9mU2xpZGVPdXQgLSB0aW1lRW5kT2ZTbGlkZUluO1xyXG4gICAgICAgICAgY29uc3QgZWFzZUZhY3RvciA9IDQ7XHJcbiAgICAgICAgICBjb25zdCBzdWl0YWJsZVRpbWVGb3JIZWFydGJlYXQgPSAxMDAwICogNjAgLyA3MiAqIGVhc2VGYWN0b3JcclxuICAgICAgICAgIGNvbnN0IHVwU2NhbGUgPSAxLjA1O1xyXG4gICAgICAgICAgY29uc3QgY3VycmVudFNjYWxlWCA9IGZhYnJpY09iamVjdC5zY2FsZVggPz8gMTtcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTY2FsZVkgPSBmYWJyaWNPYmplY3Quc2NhbGVZID8/IDE7XHJcbiAgICAgICAgICBjb25zdCBmaW5hbFNjYWxlWCA9IGN1cnJlbnRTY2FsZVggKiB1cFNjYWxlO1xyXG4gICAgICAgICAgY29uc3QgZmluYWxTY2FsZVkgPSBjdXJyZW50U2NhbGVZICogdXBTY2FsZTtcclxuICAgICAgICAgIGNvbnN0IHRvdGFsSGVhcnRiZWF0cyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyBzdWl0YWJsZVRpbWVGb3JIZWFydGJlYXQpO1xyXG4gICAgICAgICAgaWYgKHRvdGFsSGVhcnRiZWF0cyA8IDEpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSBbXTtcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxIZWFydGJlYXRzOyBpKyspIHtcclxuICAgICAgICAgICAga2V5ZnJhbWVzLnB1c2goeyBzY2FsZVg6IGZpbmFsU2NhbGVYLCBzY2FsZVk6IGZpbmFsU2NhbGVZIH0pO1xyXG4gICAgICAgICAgICBrZXlmcmFtZXMucHVzaCh7IHNjYWxlWDogY3VycmVudFNjYWxlWCwgc2NhbGVZOiBjdXJyZW50U2NhbGVZIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICB0YXJnZXRzOiBmYWJyaWNPYmplY3QsXHJcbiAgICAgICAgICAgIGtleWZyYW1lcyxcclxuICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgICAgfSwgdGltZUVuZE9mU2xpZGVJbik7XHJcblxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZUFuaW1hdGlvbihpZDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmFuaW1hdGlvbnMgPSB0aGlzLmFuaW1hdGlvbnMuZmlsdGVyKFxyXG4gICAgICAoYW5pbWF0aW9uKSA9PiBhbmltYXRpb24uaWQgIT09IGlkXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZWZyZXNoQW5pbWF0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgc2V0U2VsZWN0ZWRFbGVtZW50KHNlbGVjdGVkRWxlbWVudDogRWRpdG9yRWxlbWVudCB8IG51bGwpIHtcclxuICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50ID0gc2VsZWN0ZWRFbGVtZW50O1xyXG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XHJcbiAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnQ/LmZhYnJpY09iamVjdClcclxuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBY3RpdmVPYmplY3Qoc2VsZWN0ZWRFbGVtZW50LmZhYnJpY09iamVjdCk7XHJcbiAgICAgIGVsc2VcclxuICAgICAgICB0aGlzLmNhbnZhcy5kaXNjYXJkQWN0aXZlT2JqZWN0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHVwZGF0ZVNlbGVjdGVkRWxlbWVudCgpIHtcclxuICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50ID0gdGhpcy5lZGl0b3JFbGVtZW50cy5maW5kKChlbGVtZW50KSA9PiBlbGVtZW50LmlkID09PSB0aGlzLnNlbGVjdGVkRWxlbWVudD8uaWQpID8/IG51bGw7XHJcbiAgfVxyXG5cclxuICBzZXRFZGl0b3JFbGVtZW50cyhlZGl0b3JFbGVtZW50czogRWRpdG9yRWxlbWVudFtdKSB7XHJcbiAgICB0aGlzLmVkaXRvckVsZW1lbnRzID0gZWRpdG9yRWxlbWVudHM7XHJcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkRWxlbWVudCgpO1xyXG4gICAgdGhpcy5yZWZyZXNoRWxlbWVudHMoKTtcclxuICAgIC8vIHRoaXMucmVmcmVzaEFuaW1hdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUVkaXRvckVsZW1lbnQoZWRpdG9yRWxlbWVudDogRWRpdG9yRWxlbWVudCkge1xyXG4gICAgdGhpcy5zZXRFZGl0b3JFbGVtZW50cyh0aGlzLmVkaXRvckVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT5cclxuICAgICAgZWxlbWVudC5pZCA9PT0gZWRpdG9yRWxlbWVudC5pZCA/IGVkaXRvckVsZW1lbnQgOiBlbGVtZW50XHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUVkaXRvckVsZW1lbnRUaW1lRnJhbWUoZWRpdG9yRWxlbWVudDogRWRpdG9yRWxlbWVudCwgdGltZUZyYW1lOiBQYXJ0aWFsPFRpbWVGcmFtZT4pIHtcclxuICAgIGlmICh0aW1lRnJhbWUuc3RhcnQgIT0gdW5kZWZpbmVkICYmIHRpbWVGcmFtZS5zdGFydCA8IDApIHtcclxuICAgICAgdGltZUZyYW1lLnN0YXJ0ID0gMDtcclxuICAgIH1cclxuICAgIGlmICh0aW1lRnJhbWUuZW5kICE9IHVuZGVmaW5lZCAmJiB0aW1lRnJhbWUuZW5kID4gdGhpcy5tYXhUaW1lKSB7XHJcbiAgICAgIHRpbWVGcmFtZS5lbmQgPSB0aGlzLm1heFRpbWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBuZXdFZGl0b3JFbGVtZW50ID0ge1xyXG4gICAgICAuLi5lZGl0b3JFbGVtZW50LFxyXG4gICAgICB0aW1lRnJhbWU6IHtcclxuICAgICAgICAuLi5lZGl0b3JFbGVtZW50LnRpbWVGcmFtZSxcclxuICAgICAgICAuLi50aW1lRnJhbWUsXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlVmlkZW9FbGVtZW50cygpO1xyXG4gICAgdGhpcy51cGRhdGVBdWRpb0VsZW1lbnRzKCk7XHJcbiAgICB0aGlzLnVwZGF0ZUVkaXRvckVsZW1lbnQobmV3RWRpdG9yRWxlbWVudCk7XHJcbiAgICB0aGlzLnJlZnJlc2hBbmltYXRpb25zKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgYWRkRWRpdG9yRWxlbWVudChlZGl0b3JFbGVtZW50OiBFZGl0b3JFbGVtZW50KSB7XHJcbiAgICB0aGlzLnNldEVkaXRvckVsZW1lbnRzKFsuLi50aGlzLmVkaXRvckVsZW1lbnRzLCBlZGl0b3JFbGVtZW50XSk7XHJcbiAgICB0aGlzLnJlZnJlc2hFbGVtZW50cygpO1xyXG4gICAgdGhpcy5zZXRTZWxlY3RlZEVsZW1lbnQodGhpcy5lZGl0b3JFbGVtZW50c1t0aGlzLmVkaXRvckVsZW1lbnRzLmxlbmd0aCAtIDFdKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUVkaXRvckVsZW1lbnQoaWQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5zZXRFZGl0b3JFbGVtZW50cyh0aGlzLmVkaXRvckVsZW1lbnRzLmZpbHRlcihcclxuICAgICAgKGVkaXRvckVsZW1lbnQpID0+IGVkaXRvckVsZW1lbnQuaWQgIT09IGlkXHJcbiAgICApKTtcclxuICAgIHRoaXMucmVmcmVzaEVsZW1lbnRzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRNYXhUaW1lKG1heFRpbWU6IG51bWJlcikge1xyXG4gICAgdGhpcy5tYXhUaW1lID0gbWF4VGltZTtcclxuICB9XHJcblxyXG5cclxuICBzZXRQbGF5aW5nKHBsYXlpbmc6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMucGxheWluZyA9IHBsYXlpbmc7XHJcbiAgICB0aGlzLnVwZGF0ZVZpZGVvRWxlbWVudHMoKTtcclxuICAgIHRoaXMudXBkYXRlQXVkaW9FbGVtZW50cygpO1xyXG4gICAgaWYgKHBsYXlpbmcpIHtcclxuICAgICAgdGhpcy5zdGFydGVkVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIHRoaXMuc3RhcnRlZFRpbWVQbGF5ID0gdGhpcy5jdXJyZW50VGltZUluTXNcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICB0aGlzLnBsYXlGcmFtZXMoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGFydGVkVGltZSA9IDA7XHJcbiAgc3RhcnRlZFRpbWVQbGF5ID0gMDtcclxuXHJcbiAgcGxheUZyYW1lcygpIHtcclxuICAgIGlmICghdGhpcy5wbGF5aW5nKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRlZFRpbWU7XHJcbiAgICBjb25zdCBuZXdUaW1lID0gdGhpcy5zdGFydGVkVGltZVBsYXkgKyBlbGFwc2VkVGltZTtcclxuICAgIHRoaXMudXBkYXRlVGltZVRvKG5ld1RpbWUpO1xyXG4gICAgaWYgKG5ld1RpbWUgPiB0aGlzLm1heFRpbWUpIHtcclxuICAgICAgdGhpcy5jdXJyZW50S2V5RnJhbWUgPSAwO1xyXG4gICAgICB0aGlzLnNldFBsYXlpbmcoZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICB0aGlzLnBsYXlGcmFtZXMoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHVwZGF0ZVRpbWVUbyhuZXdUaW1lOiBudW1iZXIpIHtcclxuICAgIHRoaXMuc2V0Q3VycmVudFRpbWVJbk1zKG5ld1RpbWUpO1xyXG4gICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5zZWVrKG5ld1RpbWUpO1xyXG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XHJcbiAgICAgIHRoaXMuY2FudmFzLmJhY2tncm91bmRDb2xvciA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgfVxyXG4gICAgdGhpcy5lZGl0b3JFbGVtZW50cy5mb3JFYWNoKFxyXG4gICAgICBlID0+IHtcclxuICAgICAgICBpZiAoIWUuZmFicmljT2JqZWN0KSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgaXNJbnNpZGUgPSBlLnRpbWVGcmFtZS5zdGFydCA8PSBuZXdUaW1lICYmIG5ld1RpbWUgPD0gZS50aW1lRnJhbWUuZW5kO1xyXG4gICAgICAgIGUuZmFicmljT2JqZWN0LnZpc2libGUgPSBpc0luc2lkZTtcclxuICAgICAgfVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VlayhzZWVrOiBudW1iZXIpIHtcclxuICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcclxuICAgICAgdGhpcy5zZXRQbGF5aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlVGltZVRvKHNlZWspO1xyXG4gICAgdGhpcy51cGRhdGVWaWRlb0VsZW1lbnRzKCk7XHJcbiAgICB0aGlzLnVwZGF0ZUF1ZGlvRWxlbWVudHMoKTtcclxuICB9XHJcblxyXG4gIGFkZFZpZGVvKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB2aWRlby0ke2luZGV4fWApXHJcbiAgICBpZiAoIWlzSHRtbFZpZGVvRWxlbWVudCh2aWRlb0VsZW1lbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IHZpZGVvRHVyYXRpb25NcyA9IHZpZGVvRWxlbWVudC5kdXJhdGlvbiAqIDEwMDA7XHJcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IHZpZGVvRWxlbWVudC52aWRlb1dpZHRoIC8gdmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0O1xyXG4gICAgY29uc3QgaWQgPSBnZXRVaWQoKTtcclxuICAgIHRoaXMuYWRkRWRpdG9yRWxlbWVudChcclxuICAgICAge1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWU6IGBNZWRpYSh2aWRlbykgJHtpbmRleCArIDF9YCxcclxuICAgICAgICB0eXBlOiBcInZpZGVvXCIsXHJcbiAgICAgICAgcGxhY2VtZW50OiB7XHJcbiAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgeTogMCxcclxuICAgICAgICAgIHdpZHRoOiAxMDAgKiBhc3BlY3RSYXRpbyxcclxuICAgICAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICAgICAgcm90YXRpb246IDAsXHJcbiAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aW1lRnJhbWU6IHtcclxuICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgZW5kOiB2aWRlb0R1cmF0aW9uTXMsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICBlbGVtZW50SWQ6IGB2aWRlby0ke2lkfWAsXHJcbiAgICAgICAgICBzcmM6IHZpZGVvRWxlbWVudC5zcmMsXHJcbiAgICAgICAgICBlZmZlY3Q6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJub25lXCIsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhZGRJbWFnZShpbmRleDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW1hZ2UtJHtpbmRleH1gKVxyXG4gICAgaWYgKCFpc0h0bWxJbWFnZUVsZW1lbnQoaW1hZ2VFbGVtZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBhc3BlY3RSYXRpbyA9IGltYWdlRWxlbWVudC5uYXR1cmFsV2lkdGggLyBpbWFnZUVsZW1lbnQubmF0dXJhbEhlaWdodDtcclxuICAgIGNvbnN0IGlkID0gZ2V0VWlkKCk7XHJcbiAgICB0aGlzLmFkZEVkaXRvckVsZW1lbnQoXHJcbiAgICAgIHtcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lOiBgTWVkaWEoaW1hZ2UpICR7aW5kZXggKyAxfWAsXHJcbiAgICAgICAgdHlwZTogXCJpbWFnZVwiLFxyXG4gICAgICAgIHBsYWNlbWVudDoge1xyXG4gICAgICAgICAgeDogMCxcclxuICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICB3aWR0aDogMTAwICogYXNwZWN0UmF0aW8sXHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCxcclxuICAgICAgICAgIHJvdGF0aW9uOiAwLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGltZUZyYW1lOiB7XHJcbiAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgIGVuZDogdGhpcy5tYXhUaW1lLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgICAgZWxlbWVudElkOiBgaW1hZ2UtJHtpZH1gLFxyXG4gICAgICAgICAgc3JjOiBpbWFnZUVsZW1lbnQuc3JjLFxyXG4gICAgICAgICAgZWZmZWN0OiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwibm9uZVwiLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYWRkQXVkaW8oaW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgYXVkaW9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGF1ZGlvLSR7aW5kZXh9YClcclxuICAgIGlmICghaXNIdG1sQXVkaW9FbGVtZW50KGF1ZGlvRWxlbWVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYXVkaW9EdXJhdGlvbk1zID0gYXVkaW9FbGVtZW50LmR1cmF0aW9uICogMTAwMDtcclxuICAgIGNvbnN0IGlkID0gZ2V0VWlkKCk7XHJcbiAgICB0aGlzLmFkZEVkaXRvckVsZW1lbnQoXHJcbiAgICAgIHtcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lOiBgTWVkaWEoYXVkaW8pICR7aW5kZXggKyAxfWAsXHJcbiAgICAgICAgdHlwZTogXCJhdWRpb1wiLFxyXG4gICAgICAgIHBsYWNlbWVudDoge1xyXG4gICAgICAgICAgeDogMCxcclxuICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICB3aWR0aDogMTAwLFxyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAsXHJcbiAgICAgICAgICByb3RhdGlvbjogMCxcclxuICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRpbWVGcmFtZToge1xyXG4gICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICBlbmQ6IGF1ZGlvRHVyYXRpb25NcyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICAgIGVsZW1lbnRJZDogYGF1ZGlvLSR7aWR9YCxcclxuICAgICAgICAgIHNyYzogYXVkaW9FbGVtZW50LnNyYyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG5cclxuICB9XHJcbiAgYWRkVGV4dChvcHRpb25zOiB7XHJcbiAgICB0ZXh0OiBzdHJpbmcsXHJcbiAgICBmb250U2l6ZTogbnVtYmVyLFxyXG4gICAgZm9udFdlaWdodDogbnVtYmVyLFxyXG4gIH0pIHtcclxuICAgIGNvbnN0IGlkID0gZ2V0VWlkKCk7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZWRpdG9yRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgdGhpcy5hZGRFZGl0b3JFbGVtZW50KFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZTogYFRleHQgJHtpbmRleCArIDF9YCxcclxuICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICBwbGFjZW1lbnQ6IHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgd2lkdGg6IDEwMCxcclxuICAgICAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICAgICAgcm90YXRpb246IDAsXHJcbiAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aW1lRnJhbWU6IHtcclxuICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgZW5kOiB0aGlzLm1heFRpbWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICB0ZXh0OiBvcHRpb25zLnRleHQsXHJcbiAgICAgICAgICBmb250U2l6ZTogb3B0aW9ucy5mb250U2l6ZSxcclxuICAgICAgICAgIGZvbnRXZWlnaHQ6IG9wdGlvbnMuZm9udFdlaWdodCxcclxuICAgICAgICAgIHNwbGl0dGVkVGV4dHM6IFtdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVmlkZW9FbGVtZW50cygpIHtcclxuICAgIHRoaXMuZWRpdG9yRWxlbWVudHMuZmlsdGVyKFxyXG4gICAgICAoZWxlbWVudCk6IGVsZW1lbnQgaXMgVmlkZW9FZGl0b3JFbGVtZW50ID0+XHJcbiAgICAgICAgZWxlbWVudC50eXBlID09PSBcInZpZGVvXCJcclxuICAgIClcclxuICAgICAgLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQucHJvcGVydGllcy5lbGVtZW50SWQpO1xyXG4gICAgICAgIGlmIChpc0h0bWxWaWRlb0VsZW1lbnQodmlkZW8pKSB7XHJcbiAgICAgICAgICBjb25zdCB2aWRlb1RpbWUgPSAodGhpcy5jdXJyZW50VGltZUluTXMgLSBlbGVtZW50LnRpbWVGcmFtZS5zdGFydCkgLyAxMDAwO1xyXG4gICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSB2aWRlb1RpbWU7XHJcbiAgICAgICAgICBpZiAodGhpcy5wbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHZpZGVvLnBsYXkoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gIH1cclxuICB1cGRhdGVBdWRpb0VsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5lZGl0b3JFbGVtZW50cy5maWx0ZXIoXHJcbiAgICAgIChlbGVtZW50KTogZWxlbWVudCBpcyBBdWRpb0VkaXRvckVsZW1lbnQgPT5cclxuICAgICAgICBlbGVtZW50LnR5cGUgPT09IFwiYXVkaW9cIlxyXG4gICAgKVxyXG4gICAgICAuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5wcm9wZXJ0aWVzLmVsZW1lbnRJZCk7XHJcbiAgICAgICAgaWYgKGlzSHRtbEF1ZGlvRWxlbWVudChhdWRpbykpIHtcclxuICAgICAgICAgIGNvbnN0IGF1ZGlvVGltZSA9ICh0aGlzLmN1cnJlbnRUaW1lSW5NcyAtIGVsZW1lbnQudGltZUZyYW1lLnN0YXJ0KSAvIDEwMDA7XHJcbiAgICAgICAgICBhdWRpby5jdXJyZW50VGltZSA9IGF1ZGlvVGltZTtcclxuICAgICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcclxuICAgICAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXVkaW8ucGF1c2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgfVxyXG4gIC8vIHNhdmVDYW52YXNUb1ZpZGVvKCkge1xyXG4gIC8vICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XHJcbiAgLy8gICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAvLyAgIGNvbnN0IHN0cmVhbSA9IGNhbnZhcy5jYXB0dXJlU3RyZWFtKCk7XHJcbiAgLy8gICB2aWRlby5zcmNPYmplY3QgPSBzdHJlYW07XHJcbiAgLy8gICB2aWRlby5wbGF5KCk7XHJcbiAgLy8gICBjb25zdCBtZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIoc3RyZWFtKTtcclxuICAvLyAgIGNvbnN0IGNodW5rczogQmxvYltdID0gW107XHJcbiAgLy8gICBtZWRpYVJlY29yZGVyLm9uZGF0YWF2YWlsYWJsZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKFwiZGF0YSBhdmFpbGFibGVcIik7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKGUuZGF0YSk7XHJcbiAgLy8gICAgIGNodW5rcy5wdXNoKGUuZGF0YSk7XHJcbiAgLy8gICB9O1xyXG4gIC8vICAgbWVkaWFSZWNvcmRlci5vbnN0b3AgPSBmdW5jdGlvbiAoZSkge1xyXG4gIC8vICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoY2h1bmtzLCB7IHR5cGU6IFwidmlkZW8vd2VibVwiIH0pO1xyXG4gIC8vICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gIC8vICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XHJcbiAgLy8gICAgIGEuaHJlZiA9IHVybDtcclxuICAvLyAgICAgYS5kb3dubG9hZCA9IFwidmlkZW8ud2VibVwiO1xyXG4gIC8vICAgICBhLmNsaWNrKCk7XHJcbiAgLy8gICB9O1xyXG4gIC8vICAgbWVkaWFSZWNvcmRlci5zdGFydCgpO1xyXG4gIC8vICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgLy8gICAgIG1lZGlhUmVjb3JkZXIuc3RvcCgpO1xyXG4gIC8vICAgfSwgdGhpcy5tYXhUaW1lKTtcclxuXHJcbiAgLy8gfVxyXG5cclxuICBzZXRWaWRlb0Zvcm1hdChmb3JtYXQ6ICdtcDQnIHwgJ3dlYm0nKSB7XHJcbiAgICB0aGlzLnNlbGVjdGVkVmlkZW9Gb3JtYXQgPSBmb3JtYXQ7XHJcbiAgfVxyXG5cclxuICBzYXZlQ2FudmFzVG9WaWRlb1dpdGhBdWRpbygpIHtcclxuICAgIHRoaXMuc2F2ZUNhbnZhc1RvVmlkZW9XaXRoQXVkaW9XZWJtTXA0KCk7XHJcbiAgfVxyXG5cclxuICBzYXZlQ2FudmFzVG9WaWRlb1dpdGhBdWRpb1dlYm1NcDQoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnbW9kaWZpZWQnKVxyXG4gICAgbGV0IG1wNCA9IHRoaXMuc2VsZWN0ZWRWaWRlb0Zvcm1hdCA9PT0gJ21wNCdcclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgY29uc3Qgc3RyZWFtID0gY2FudmFzLmNhcHR1cmVTdHJlYW0oMzApO1xyXG4gICAgY29uc3QgYXVkaW9FbGVtZW50cyA9IHRoaXMuZWRpdG9yRWxlbWVudHMuZmlsdGVyKGlzRWRpdG9yQXVkaW9FbGVtZW50KVxyXG4gICAgY29uc3QgYXVkaW9TdHJlYW1zOiBNZWRpYVN0cmVhbVtdID0gW107XHJcbiAgICBhdWRpb0VsZW1lbnRzLmZvckVhY2goKGF1ZGlvKSA9PiB7XHJcbiAgICAgIGNvbnN0IGF1ZGlvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGF1ZGlvLnByb3BlcnRpZXMuZWxlbWVudElkKSBhcyBIVE1MQXVkaW9FbGVtZW50O1xyXG4gICAgICBsZXQgY3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICBsZXQgc291cmNlTm9kZSA9IGN0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoYXVkaW9FbGVtZW50KTtcclxuICAgICAgbGV0IGRlc3QgPSBjdHguY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO1xyXG4gICAgICBzb3VyY2VOb2RlLmNvbm5lY3QoZGVzdCk7XHJcbiAgICAgIHNvdXJjZU5vZGUuY29ubmVjdChjdHguZGVzdGluYXRpb24pO1xyXG4gICAgICBhdWRpb1N0cmVhbXMucHVzaChkZXN0LnN0cmVhbSk7XHJcbiAgICB9KTtcclxuICAgIGF1ZGlvU3RyZWFtcy5mb3JFYWNoKChhdWRpb1N0cmVhbSkgPT4ge1xyXG4gICAgICBzdHJlYW0uYWRkVHJhY2soYXVkaW9TdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xyXG4gICAgdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xyXG4gICAgdmlkZW8uaGVpZ2h0ID0gNTAwO1xyXG4gICAgdmlkZW8ud2lkdGggPSA4MDA7XHJcbiAgICAvLyB2aWRlby5jb250cm9scyA9IHRydWU7XHJcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHZpZGVvKTtcclxuICAgIHZpZGVvLnBsYXkoKS50aGVuKCgpID0+IHtcclxuICAgICAgY29uc3QgbWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XHJcbiAgICAgIGNvbnN0IGNodW5rczogQmxvYltdID0gW107XHJcbiAgICAgIG1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjaHVua3MucHVzaChlLmRhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGF0YSBhdmFpbGFibGVcIik7XHJcblxyXG4gICAgICB9O1xyXG4gICAgICBtZWRpYVJlY29yZGVyLm9uc3RvcCA9IGFzeW5jIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKGNodW5rcywgeyB0eXBlOiBcInZpZGVvL3dlYm1cIiB9KTtcclxuXHJcbiAgICAgICAgaWYgKG1wNCkge1xyXG4gICAgICAgICAgLy8gbGV0cyB1c2UgZmZtcGVnIHRvIGNvbnZlcnQgd2VibSB0byBtcDRcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShhd2FpdCAoYmxvYikuYXJyYXlCdWZmZXIoKSk7XHJcbiAgICAgICAgICBjb25zdCBmZm1wZWcgPSBuZXcgRkZtcGVnKCk7XHJcbiAgICAgICAgICBjb25zdCBiYXNlVVJMID0gXCJodHRwczovL3VucGtnLmNvbS9AZmZtcGVnL2NvcmVAMC4xMi4yL2Rpc3QvdW1kXCJcclxuICAgICAgICAgIGF3YWl0IGZmbXBlZy5sb2FkKHtcclxuICAgICAgICAgICAgY29yZVVSTDogYXdhaXQgdG9CbG9iVVJMKGAke2Jhc2VVUkx9L2ZmbXBlZy1jb3JlLmpzYCwgJ3RleHQvamF2YXNjcmlwdCcpLFxyXG4gICAgICAgICAgICB3YXNtVVJMOiBhd2FpdCB0b0Jsb2JVUkwoYCR7YmFzZVVSTH0vZmZtcGVnLWNvcmUud2FzbWAsICdhcHBsaWNhdGlvbi93YXNtJyksXHJcbiAgICAgICAgICAgIC8vIHdvcmtlclVSTDogYXdhaXQgdG9CbG9iVVJMKGAke2Jhc2VVUkx9L2ZmbXBlZy1jb3JlLndvcmtlci5qc2AsICd0ZXh0L2phdmFzY3JpcHQnKSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYXdhaXQgZmZtcGVnLndyaXRlRmlsZSgndmlkZW8ud2VibScsIGRhdGEpO1xyXG4gICAgICAgICAgYXdhaXQgZmZtcGVnLmV4ZWMoW1wiLXlcIiwgXCItaVwiLCBcInZpZGVvLndlYm1cIiwgXCItY1wiLCBcImNvcHlcIiwgXCJ2aWRlby5tcDRcIl0pO1xyXG4gICAgICAgICAgLy8gYXdhaXQgZmZtcGVnLmV4ZWMoW1wiLXlcIiwgXCItaVwiLCBcInZpZGVvLndlYm1cIiwgXCItYzp2XCIsIFwibGlieDI2NFwiLCBcInZpZGVvLm1wNFwiXSk7XHJcblxyXG4gICAgICAgICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgZmZtcGVnLnJlYWRGaWxlKCd2aWRlby5tcDQnKTtcclxuICAgICAgICAgIGNvbnN0IG91dHB1dEJsb2IgPSBuZXcgQmxvYihbb3V0cHV0XSwgeyB0eXBlOiBcInZpZGVvL21wNFwiIH0pO1xyXG4gICAgICAgICAgY29uc3Qgb3V0cHV0VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChvdXRwdXRCbG9iKTtcclxuICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgIGEuZG93bmxvYWQgPSBcInZpZGVvLm1wNFwiO1xyXG4gICAgICAgICAgYS5ocmVmID0gb3V0cHV0VXJsO1xyXG4gICAgICAgICAgYS5jbGljaygpO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgIGEuaHJlZiA9IHVybDtcclxuICAgICAgICAgIGEuZG93bmxvYWQgPSBcInZpZGVvLndlYm1cIjtcclxuICAgICAgICAgIGEuY2xpY2soKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIG1lZGlhUmVjb3JkZXIuc3RhcnQoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7XHJcbiAgICAgIH0sIHRoaXMubWF4VGltZSk7XHJcbiAgICAgIHZpZGVvLnJlbW92ZSgpO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHJlZnJlc2hFbGVtZW50cygpIHtcclxuICAgIGNvbnN0IHN0b3JlID0gdGhpcztcclxuICAgIGlmICghc3RvcmUuY2FudmFzKSByZXR1cm47XHJcbiAgICBjb25zdCBjYW52YXMgPSBzdG9yZS5jYW52YXM7XHJcbiAgICBzdG9yZS5jYW52YXMucmVtb3ZlKC4uLnN0b3JlLmNhbnZhcy5nZXRPYmplY3RzKCkpO1xyXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHN0b3JlLmVkaXRvckVsZW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gc3RvcmUuZWRpdG9yRWxlbWVudHNbaW5kZXhdO1xyXG4gICAgICBzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJ2aWRlb1wiOiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImVsZW1lbnRpZFwiLCBlbGVtZW50LnByb3BlcnRpZXMuZWxlbWVudElkKTtcclxuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LnByb3BlcnRpZXMuZWxlbWVudElkKSA9PSBudWxsKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICAgICAgICBlbGVtZW50LnByb3BlcnRpZXMuZWxlbWVudElkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgaWYgKCFpc0h0bWxWaWRlb0VsZW1lbnQodmlkZW9FbGVtZW50KSkgY29udGludWU7XHJcbiAgICAgICAgICAvLyBjb25zdCBmaWx0ZXJzID0gW107XHJcbiAgICAgICAgICAvLyBpZiAoZWxlbWVudC5wcm9wZXJ0aWVzLmVmZmVjdD8udHlwZSA9PT0gXCJibGFja0FuZFdoaXRlXCIpIHtcclxuICAgICAgICAgIC8vICAgZmlsdGVycy5wdXNoKG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGUoKSk7XHJcbiAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICBjb25zdCB2aWRlb09iamVjdCA9IG5ldyBmYWJyaWMuQ292ZXJWaWRlbyh2aWRlb0VsZW1lbnQsIHtcclxuICAgICAgICAgICAgbmFtZTogZWxlbWVudC5pZCxcclxuICAgICAgICAgICAgbGVmdDogZWxlbWVudC5wbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgdG9wOiBlbGVtZW50LnBsYWNlbWVudC55LFxyXG4gICAgICAgICAgICB3aWR0aDogZWxlbWVudC5wbGFjZW1lbnQud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5wbGFjZW1lbnQuaGVpZ2h0LFxyXG4gICAgICAgICAgICBzY2FsZVg6IGVsZW1lbnQucGxhY2VtZW50LnNjYWxlWCxcclxuICAgICAgICAgICAgc2NhbGVZOiBlbGVtZW50LnBsYWNlbWVudC5zY2FsZVksXHJcbiAgICAgICAgICAgIGFuZ2xlOiBlbGVtZW50LnBsYWNlbWVudC5yb3RhdGlvbixcclxuICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGxvY2tVbmlTY2FsaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBmaWx0ZXJzOiBmaWx0ZXJzLFxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGN1c3RvbUZpbHRlcjogZWxlbWVudC5wcm9wZXJ0aWVzLmVmZmVjdC50eXBlLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZWxlbWVudC5mYWJyaWNPYmplY3QgPSB2aWRlb09iamVjdDtcclxuICAgICAgICAgIGVsZW1lbnQucHJvcGVydGllcy5pbWFnZU9iamVjdCA9IHZpZGVvT2JqZWN0O1xyXG4gICAgICAgICAgdmlkZW9FbGVtZW50LndpZHRoID0gMTAwO1xyXG4gICAgICAgICAgdmlkZW9FbGVtZW50LmhlaWdodCA9XHJcbiAgICAgICAgICAgICh2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQgKiAxMDApIC8gdmlkZW9FbGVtZW50LnZpZGVvV2lkdGg7XHJcbiAgICAgICAgICBjYW52YXMuYWRkKHZpZGVvT2JqZWN0KTtcclxuICAgICAgICAgIGNhbnZhcy5vbihcIm9iamVjdDptb2RpZmllZFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIWUudGFyZ2V0KSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ICE9IHZpZGVvT2JqZWN0KSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQbGFjZW1lbnQ6IFBsYWNlbWVudCA9IHtcclxuICAgICAgICAgICAgICAuLi5wbGFjZW1lbnQsXHJcbiAgICAgICAgICAgICAgeDogdGFyZ2V0LmxlZnQgPz8gcGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgICAgeTogdGFyZ2V0LnRvcCA/PyBwbGFjZW1lbnQueSxcclxuICAgICAgICAgICAgICByb3RhdGlvbjogdGFyZ2V0LmFuZ2xlID8/IHBsYWNlbWVudC5yb3RhdGlvbixcclxuICAgICAgICAgICAgICB3aWR0aDpcclxuICAgICAgICAgICAgICAgIHRhcmdldC53aWR0aCAmJiB0YXJnZXQuc2NhbGVYXHJcbiAgICAgICAgICAgICAgICAgID8gdGFyZ2V0LndpZHRoICogdGFyZ2V0LnNjYWxlWFxyXG4gICAgICAgICAgICAgICAgICA6IHBsYWNlbWVudC53aWR0aCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuaGVpZ2h0ICYmIHRhcmdldC5zY2FsZVlcclxuICAgICAgICAgICAgICAgICAgPyB0YXJnZXQuaGVpZ2h0ICogdGFyZ2V0LnNjYWxlWVxyXG4gICAgICAgICAgICAgICAgICA6IHBsYWNlbWVudC5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IHtcclxuICAgICAgICAgICAgICAuLi5lbGVtZW50LFxyXG4gICAgICAgICAgICAgIHBsYWNlbWVudDogbmV3UGxhY2VtZW50LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzdG9yZS51cGRhdGVFZGl0b3JFbGVtZW50KG5ld0VsZW1lbnQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcImltYWdlXCI6IHtcclxuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LnByb3BlcnRpZXMuZWxlbWVudElkKSA9PSBudWxsKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICAgICAgICBlbGVtZW50LnByb3BlcnRpZXMuZWxlbWVudElkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgaWYgKCFpc0h0bWxJbWFnZUVsZW1lbnQoaW1hZ2VFbGVtZW50KSkgY29udGludWU7XHJcbiAgICAgICAgICAvLyBjb25zdCBmaWx0ZXJzID0gW107XHJcbiAgICAgICAgICAvLyBpZiAoZWxlbWVudC5wcm9wZXJ0aWVzLmVmZmVjdD8udHlwZSA9PT0gXCJibGFja0FuZFdoaXRlXCIpIHtcclxuICAgICAgICAgIC8vICAgZmlsdGVycy5wdXNoKG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGUoKSk7XHJcbiAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICBjb25zdCBpbWFnZU9iamVjdCA9IG5ldyBmYWJyaWMuQ292ZXJJbWFnZShpbWFnZUVsZW1lbnQsIHtcclxuICAgICAgICAgICAgbmFtZTogZWxlbWVudC5pZCxcclxuICAgICAgICAgICAgbGVmdDogZWxlbWVudC5wbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgdG9wOiBlbGVtZW50LnBsYWNlbWVudC55LFxyXG4gICAgICAgICAgICBhbmdsZTogZWxlbWVudC5wbGFjZW1lbnQucm90YXRpb24sXHJcbiAgICAgICAgICAgIG9iamVjdENhY2hpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3RhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBsb2NrVW5pU2NhbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gZmlsdGVyc1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIGN1c3RvbUZpbHRlcjogZWxlbWVudC5wcm9wZXJ0aWVzLmVmZmVjdC50eXBlLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAvLyBpbWFnZU9iamVjdC5hcHBseUZpbHRlcnMoKTtcclxuICAgICAgICAgIGVsZW1lbnQuZmFicmljT2JqZWN0ID0gaW1hZ2VPYmplY3Q7XHJcbiAgICAgICAgICBlbGVtZW50LnByb3BlcnRpZXMuaW1hZ2VPYmplY3QgPSBpbWFnZU9iamVjdDtcclxuICAgICAgICAgIGNvbnN0IGltYWdlID0ge1xyXG4gICAgICAgICAgICB3OiBpbWFnZUVsZW1lbnQubmF0dXJhbFdpZHRoLFxyXG4gICAgICAgICAgICBoOiBpbWFnZUVsZW1lbnQubmF0dXJhbEhlaWdodCxcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaW1hZ2VPYmplY3Qud2lkdGggPSBpbWFnZS53O1xyXG4gICAgICAgICAgaW1hZ2VPYmplY3QuaGVpZ2h0ID0gaW1hZ2UuaDtcclxuICAgICAgICAgIGltYWdlRWxlbWVudC53aWR0aCA9IGltYWdlLnc7XHJcbiAgICAgICAgICBpbWFnZUVsZW1lbnQuaGVpZ2h0ID0gaW1hZ2UuaDtcclxuICAgICAgICAgIGltYWdlT2JqZWN0LnNjYWxlVG9IZWlnaHQoaW1hZ2Uudyk7XHJcbiAgICAgICAgICBpbWFnZU9iamVjdC5zY2FsZVRvV2lkdGgoaW1hZ2UuaCk7XHJcbiAgICAgICAgICBjb25zdCB0b1NjYWxlID0ge1xyXG4gICAgICAgICAgICB4OiBlbGVtZW50LnBsYWNlbWVudC53aWR0aCAvIGltYWdlLncsXHJcbiAgICAgICAgICAgIHk6IGVsZW1lbnQucGxhY2VtZW50LmhlaWdodCAvIGltYWdlLmgsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgaW1hZ2VPYmplY3Quc2NhbGVYID0gdG9TY2FsZS54ICogZWxlbWVudC5wbGFjZW1lbnQuc2NhbGVYO1xyXG4gICAgICAgICAgaW1hZ2VPYmplY3Quc2NhbGVZID0gdG9TY2FsZS55ICogZWxlbWVudC5wbGFjZW1lbnQuc2NhbGVZO1xyXG4gICAgICAgICAgY2FudmFzLmFkZChpbWFnZU9iamVjdCk7XHJcbiAgICAgICAgICBjYW52YXMub24oXCJvYmplY3Q6bW9kaWZpZWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFlLnRhcmdldCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCAhPSBpbWFnZU9iamVjdCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDtcclxuICAgICAgICAgICAgbGV0IGZpYW5sU2NhbGUgPSAxO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnNjYWxlWCAmJiB0YXJnZXQuc2NhbGVYID4gMCkge1xyXG4gICAgICAgICAgICAgIGZpYW5sU2NhbGUgPSB0YXJnZXQuc2NhbGVYIC8gdG9TY2FsZS54O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BsYWNlbWVudDogUGxhY2VtZW50ID0ge1xyXG4gICAgICAgICAgICAgIC4uLnBsYWNlbWVudCxcclxuICAgICAgICAgICAgICB4OiB0YXJnZXQubGVmdCA/PyBwbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgICB5OiB0YXJnZXQudG9wID8/IHBsYWNlbWVudC55LFxyXG4gICAgICAgICAgICAgIHJvdGF0aW9uOiB0YXJnZXQuYW5nbGUgPz8gcGxhY2VtZW50LnJvdGF0aW9uLFxyXG4gICAgICAgICAgICAgIHNjYWxlWDogZmlhbmxTY2FsZSxcclxuICAgICAgICAgICAgICBzY2FsZVk6IGZpYW5sU2NhbGUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgLi4uZWxlbWVudCxcclxuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG5ld1BsYWNlbWVudCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc3RvcmUudXBkYXRlRWRpdG9yRWxlbWVudChuZXdFbGVtZW50KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOiB7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcInRleHRcIjoge1xyXG4gICAgICAgICAgY29uc3QgdGV4dE9iamVjdCA9IG5ldyBmYWJyaWMuVGV4dGJveChlbGVtZW50LnByb3BlcnRpZXMudGV4dCwge1xyXG4gICAgICAgICAgICBuYW1lOiBlbGVtZW50LmlkLFxyXG4gICAgICAgICAgICBsZWZ0OiBlbGVtZW50LnBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICB0b3A6IGVsZW1lbnQucGxhY2VtZW50LnksXHJcbiAgICAgICAgICAgIHNjYWxlWDogZWxlbWVudC5wbGFjZW1lbnQuc2NhbGVYLFxyXG4gICAgICAgICAgICBzY2FsZVk6IGVsZW1lbnQucGxhY2VtZW50LnNjYWxlWSxcclxuICAgICAgICAgICAgd2lkdGg6IGVsZW1lbnQucGxhY2VtZW50LndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnQucGxhY2VtZW50LmhlaWdodCxcclxuICAgICAgICAgICAgYW5nbGU6IGVsZW1lbnQucGxhY2VtZW50LnJvdGF0aW9uLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogZWxlbWVudC5wcm9wZXJ0aWVzLmZvbnRTaXplLFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBlbGVtZW50LnByb3BlcnRpZXMuZm9udFdlaWdodCxcclxuICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGxvY2tVbmlTY2FsaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBmaWxsOiBcIiNmZmZmZmZcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZWxlbWVudC5mYWJyaWNPYmplY3QgPSB0ZXh0T2JqZWN0O1xyXG4gICAgICAgICAgY2FudmFzLmFkZCh0ZXh0T2JqZWN0KTtcclxuICAgICAgICAgIGNhbnZhcy5vbihcIm9iamVjdDptb2RpZmllZFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIWUudGFyZ2V0KSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ICE9IHRleHRPYmplY3QpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BsYWNlbWVudDogUGxhY2VtZW50ID0ge1xyXG4gICAgICAgICAgICAgIC4uLnBsYWNlbWVudCxcclxuICAgICAgICAgICAgICB4OiB0YXJnZXQubGVmdCA/PyBwbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgICB5OiB0YXJnZXQudG9wID8/IHBsYWNlbWVudC55LFxyXG4gICAgICAgICAgICAgIHJvdGF0aW9uOiB0YXJnZXQuYW5nbGUgPz8gcGxhY2VtZW50LnJvdGF0aW9uLFxyXG4gICAgICAgICAgICAgIHdpZHRoOiB0YXJnZXQud2lkdGggPz8gcGxhY2VtZW50LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDogdGFyZ2V0LmhlaWdodCA/PyBwbGFjZW1lbnQuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgIHNjYWxlWDogdGFyZ2V0LnNjYWxlWCA/PyBwbGFjZW1lbnQuc2NhbGVYLFxyXG4gICAgICAgICAgICAgIHNjYWxlWTogdGFyZ2V0LnNjYWxlWSA/PyBwbGFjZW1lbnQuc2NhbGVZLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0ge1xyXG4gICAgICAgICAgICAgIC4uLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiBuZXdQbGFjZW1lbnQsXHJcbiAgICAgICAgICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgICAgICAgICAgLi4uZWxlbWVudC5wcm9wZXJ0aWVzLFxyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgdGV4dDogdGFyZ2V0Py50ZXh0LFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZUVkaXRvckVsZW1lbnQobmV3RWxlbWVudCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChlbGVtZW50LmZhYnJpY09iamVjdCkge1xyXG4gICAgICAgIGVsZW1lbnQuZmFicmljT2JqZWN0Lm9uKFwic2VsZWN0ZWRcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgIHN0b3JlLnNldFNlbGVjdGVkRWxlbWVudChlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3Qgc2VsZWN0ZWRFZGl0b3JFbGVtZW50ID0gc3RvcmUuc2VsZWN0ZWRFbGVtZW50O1xyXG4gICAgaWYgKHNlbGVjdGVkRWRpdG9yRWxlbWVudCAmJiBzZWxlY3RlZEVkaXRvckVsZW1lbnQuZmFicmljT2JqZWN0KSB7XHJcbiAgICAgIGNhbnZhcy5zZXRBY3RpdmVPYmplY3Qoc2VsZWN0ZWRFZGl0b3JFbGVtZW50LmZhYnJpY09iamVjdCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlZnJlc2hBbmltYXRpb25zKCk7XHJcbiAgICB0aGlzLnVwZGF0ZVRpbWVUbyh0aGlzLmN1cnJlbnRUaW1lSW5Ncyk7XHJcbiAgICBzdG9yZS5jYW52YXMucmVuZGVyQWxsKCk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VkaXRvckF1ZGlvRWxlbWVudChcclxuICBlbGVtZW50OiBFZGl0b3JFbGVtZW50XHJcbik6IGVsZW1lbnQgaXMgQXVkaW9FZGl0b3JFbGVtZW50IHtcclxuICByZXR1cm4gZWxlbWVudC50eXBlID09PSBcImF1ZGlvXCI7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWRpdG9yVmlkZW9FbGVtZW50KFxyXG4gIGVsZW1lbnQ6IEVkaXRvckVsZW1lbnRcclxuKTogZWxlbWVudCBpcyBWaWRlb0VkaXRvckVsZW1lbnQge1xyXG4gIHJldHVybiBlbGVtZW50LnR5cGUgPT09IFwidmlkZW9cIjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWRpdG9ySW1hZ2VFbGVtZW50KFxyXG4gIGVsZW1lbnQ6IEVkaXRvckVsZW1lbnRcclxuKTogZWxlbWVudCBpcyBJbWFnZUVkaXRvckVsZW1lbnQge1xyXG4gIHJldHVybiBlbGVtZW50LnR5cGUgPT09IFwiaW1hZ2VcIjtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldFRleHRPYmplY3RzUGFydGl0aW9uZWRCeUNoYXJhY3RlcnModGV4dE9iamVjdDogZmFicmljLlRleHQsIGVsZW1lbnQ6IFRleHRFZGl0b3JFbGVtZW50KTogZmFicmljLlRleHRbXSB7XHJcbiAgbGV0IGNvcHlDaGFyc09iamVjdHM6IGZhYnJpYy5UZXh0W10gPSBbXTtcclxuICAvLyByZXBsYWNlIGFsbCBsaW5lIGVuZGluZ3Mgd2l0aCBibGFua1xyXG4gIGNvbnN0IGNoYXJhY3RlcnMgPSAodGV4dE9iamVjdC50ZXh0ID8/IFwiXCIpLnNwbGl0KCcnKS5maWx0ZXIoKG0pID0+IG0gIT09ICdcXG4nKTtcclxuICBjb25zdCBjaGFyT2JqZWN0cyA9IHRleHRPYmplY3QuX19jaGFyQm91bmRzO1xyXG4gIGlmICghY2hhck9iamVjdHMpIHJldHVybiBbXTtcclxuICBjb25zdCBjaGFyT2JqZWN0Rml4ZWQgPSBjaGFyT2JqZWN0cy5tYXAoKG0sIGluZGV4KSA9PiBtLnNsaWNlKDAsIG0ubGVuZ3RoIC0gMSkubWFwKG0gPT4gKHsgbSwgaW5kZXggfSkpKS5mbGF0KCk7XHJcbiAgY29uc3QgbGluZUhlaWdodCA9IHRleHRPYmplY3QuZ2V0SGVpZ2h0T2ZMaW5lKDApO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKCFjaGFyT2JqZWN0Rml4ZWRbaV0pIGNvbnRpbnVlO1xyXG4gICAgY29uc3QgeyBtOiBjaGFyT2JqZWN0LCBpbmRleDogbGluZUluZGV4IH0gPSBjaGFyT2JqZWN0Rml4ZWRbaV07XHJcbiAgICBjb25zdCBjaGFyID0gY2hhcmFjdGVyc1tpXTtcclxuICAgIGNvbnN0IHNjYWxlWCA9IHRleHRPYmplY3Quc2NhbGVYID8/IDE7XHJcbiAgICBjb25zdCBzY2FsZVkgPSB0ZXh0T2JqZWN0LnNjYWxlWSA/PyAxO1xyXG4gICAgY29uc3QgY2hhclRleHRPYmplY3QgPSBuZXcgZmFicmljLlRleHQoY2hhciwge1xyXG4gICAgICBsZWZ0OiBjaGFyT2JqZWN0LmxlZnQgKiBzY2FsZVggKyAoZWxlbWVudC5wbGFjZW1lbnQueCksXHJcbiAgICAgIHNjYWxlWDogc2NhbGVYLFxyXG4gICAgICBzY2FsZVk6IHNjYWxlWSxcclxuICAgICAgdG9wOiBsaW5lSW5kZXggKiBsaW5lSGVpZ2h0ICogc2NhbGVZICsgKGVsZW1lbnQucGxhY2VtZW50LnkpLFxyXG4gICAgICBmb250U2l6ZTogdGV4dE9iamVjdC5mb250U2l6ZSxcclxuICAgICAgZm9udFdlaWdodDogdGV4dE9iamVjdC5mb250V2VpZ2h0LFxyXG4gICAgICBmaWxsOiAnI2ZmZicsXHJcbiAgICB9KTtcclxuICAgIGNvcHlDaGFyc09iamVjdHMucHVzaChjaGFyVGV4dE9iamVjdCk7XHJcbiAgfVxyXG4gIHJldHVybiBjb3B5Q2hhcnNPYmplY3RzO1xyXG59Il0sIm5hbWVzIjpbIm1ha2VBdXRvT2JzZXJ2YWJsZSIsImZhYnJpYyIsImdldFVpZCIsImlzSHRtbEF1ZGlvRWxlbWVudCIsImlzSHRtbEltYWdlRWxlbWVudCIsImlzSHRtbFZpZGVvRWxlbWVudCIsImFuaW1lIiwiRmFicmljVWl0bHMiLCJGRm1wZWciLCJ0b0Jsb2JVUkwiLCJTdG9yZSIsImN1cnJlbnRUaW1lSW5NcyIsImN1cnJlbnRLZXlGcmFtZSIsImZwcyIsInNldEN1cnJlbnRUaW1lSW5NcyIsInRpbWUiLCJNYXRoIiwiZmxvb3IiLCJzZXRTZWxlY3RlZE1lbnVPcHRpb24iLCJzZWxlY3RlZE1lbnVPcHRpb24iLCJzZXRDYW52YXMiLCJjYW52YXMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJzZXRCYWNrZ3JvdW5kQ29sb3IiLCJzZXRUZXh0Q29sb3IiLCJUZXh0Q29sb3IiLCJzZWxlY3RlZEVsZW1lbnQiLCJzZSIsInVwZGF0ZUVmZmVjdCIsImlkIiwiZWZmZWN0IiwiaW5kZXgiLCJlZGl0b3JFbGVtZW50cyIsImZpbmRJbmRleCIsImVsZW1lbnQiLCJpc0VkaXRvclZpZGVvRWxlbWVudCIsImlzRWRpdG9ySW1hZ2VFbGVtZW50IiwicHJvcGVydGllcyIsInJlZnJlc2hFbGVtZW50cyIsInNldFZpZGVvcyIsInZpZGVvcyIsImFkZFZpZGVvUmVzb3VyY2UiLCJ2aWRlbyIsImFkZEF1ZGlvUmVzb3VyY2UiLCJhdWRpbyIsImF1ZGlvcyIsImFkZEltYWdlUmVzb3VyY2UiLCJpbWFnZSIsImltYWdlcyIsImFkZEFuaW1hdGlvbiIsImFuaW1hdGlvbiIsImFuaW1hdGlvbnMiLCJyZWZyZXNoQW5pbWF0aW9ucyIsInVwZGF0ZUFuaW1hdGlvbiIsImEiLCJyZW1vdmUiLCJhbmltYXRpb25UaW1lTGluZSIsInRpbWVsaW5lIiwiZHVyYXRpb24iLCJtYXhUaW1lIiwiYXV0b3BsYXkiLCJpIiwibGVuZ3RoIiwiZWRpdG9yRWxlbWVudCIsImZpbmQiLCJ0YXJnZXRJZCIsImZhYnJpY09iamVjdCIsImNsaXBQYXRoIiwidW5kZWZpbmVkIiwidHlwZSIsImFkZCIsIm9wYWNpdHkiLCJ0YXJnZXRzIiwiZWFzaW5nIiwidGltZUZyYW1lIiwic3RhcnQiLCJlbmQiLCJkaXJlY3Rpb24iLCJ0YXJnZXRQb3NpdGlvbiIsImxlZnQiLCJwbGFjZW1lbnQiLCJ4IiwidG9wIiwieSIsInN0YXJ0UG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsInVzZUNsaXBQYXRoIiwiY2xpcFJlY3RhbmdsZSIsImdldENsaXBNYXNrUmVjdCIsInNldCIsInRleHRUeXBlIiwic3BsaXR0ZWRUZXh0cyIsImdldFRleHRPYmplY3RzUGFydGl0aW9uZWRCeUNoYXJhY3RlcnMiLCJmb3JFYWNoIiwidGV4dE9iamVjdCIsImRlbGF5Iiwic3BsaXR0ZWRUZXh0Iiwib2Zmc2V0IiwiaXRzU2xpZGVJbkFuaW1hdGlvbiIsIml0c1NsaWRlT3V0QW5pbWF0aW9uIiwidGltZUVuZE9mU2xpZGVJbiIsInRpbWVTdGFydE9mU2xpZGVPdXQiLCJlYXNlRmFjdG9yIiwic3VpdGFibGVUaW1lRm9ySGVhcnRiZWF0IiwidXBTY2FsZSIsImN1cnJlbnRTY2FsZVgiLCJzY2FsZVgiLCJjdXJyZW50U2NhbGVZIiwic2NhbGVZIiwiZmluYWxTY2FsZVgiLCJmaW5hbFNjYWxlWSIsInRvdGFsSGVhcnRiZWF0cyIsImtleWZyYW1lcyIsInB1c2giLCJsb29wIiwicmVtb3ZlQW5pbWF0aW9uIiwiZmlsdGVyIiwic2V0U2VsZWN0ZWRFbGVtZW50Iiwic2V0QWN0aXZlT2JqZWN0IiwiZGlzY2FyZEFjdGl2ZU9iamVjdCIsInVwZGF0ZVNlbGVjdGVkRWxlbWVudCIsInNldEVkaXRvckVsZW1lbnRzIiwidXBkYXRlRWRpdG9yRWxlbWVudCIsIm1hcCIsInVwZGF0ZUVkaXRvckVsZW1lbnRUaW1lRnJhbWUiLCJuZXdFZGl0b3JFbGVtZW50IiwidXBkYXRlVmlkZW9FbGVtZW50cyIsInVwZGF0ZUF1ZGlvRWxlbWVudHMiLCJhZGRFZGl0b3JFbGVtZW50IiwicmVtb3ZlRWRpdG9yRWxlbWVudCIsInNldE1heFRpbWUiLCJzZXRQbGF5aW5nIiwicGxheWluZyIsInN0YXJ0ZWRUaW1lIiwiRGF0ZSIsIm5vdyIsInN0YXJ0ZWRUaW1lUGxheSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBsYXlGcmFtZXMiLCJlbGFwc2VkVGltZSIsIm5ld1RpbWUiLCJ1cGRhdGVUaW1lVG8iLCJzZWVrIiwiZSIsImlzSW5zaWRlIiwidmlzaWJsZSIsImhhbmRsZVNlZWsiLCJhZGRWaWRlbyIsInZpZGVvRWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2aWRlb0R1cmF0aW9uTXMiLCJhc3BlY3RSYXRpbyIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsIm5hbWUiLCJyb3RhdGlvbiIsImVsZW1lbnRJZCIsInNyYyIsImFkZEltYWdlIiwiaW1hZ2VFbGVtZW50IiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImFkZEF1ZGlvIiwiYXVkaW9FbGVtZW50IiwiYXVkaW9EdXJhdGlvbk1zIiwiYWRkVGV4dCIsIm9wdGlvbnMiLCJ0ZXh0IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidmlkZW9UaW1lIiwiY3VycmVudFRpbWUiLCJwbGF5IiwicGF1c2UiLCJhdWRpb1RpbWUiLCJzZXRWaWRlb0Zvcm1hdCIsImZvcm1hdCIsInNlbGVjdGVkVmlkZW9Gb3JtYXQiLCJzYXZlQ2FudmFzVG9WaWRlb1dpdGhBdWRpbyIsInNhdmVDYW52YXNUb1ZpZGVvV2l0aEF1ZGlvV2VibU1wNCIsImNvbnNvbGUiLCJsb2ciLCJtcDQiLCJzdHJlYW0iLCJjYXB0dXJlU3RyZWFtIiwiYXVkaW9FbGVtZW50cyIsImlzRWRpdG9yQXVkaW9FbGVtZW50IiwiYXVkaW9TdHJlYW1zIiwiY3R4IiwiQXVkaW9Db250ZXh0Iiwic291cmNlTm9kZSIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImRlc3QiLCJjcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiYXVkaW9TdHJlYW0iLCJhZGRUcmFjayIsImdldEF1ZGlvVHJhY2tzIiwiY3JlYXRlRWxlbWVudCIsInNyY09iamVjdCIsInRoZW4iLCJtZWRpYVJlY29yZGVyIiwiTWVkaWFSZWNvcmRlciIsImNodW5rcyIsIm9uZGF0YWF2YWlsYWJsZSIsImRhdGEiLCJvbnN0b3AiLCJibG9iIiwiQmxvYiIsIlVpbnQ4QXJyYXkiLCJhcnJheUJ1ZmZlciIsImZmbXBlZyIsImJhc2VVUkwiLCJsb2FkIiwiY29yZVVSTCIsIndhc21VUkwiLCJ3cml0ZUZpbGUiLCJleGVjIiwib3V0cHV0IiwicmVhZEZpbGUiLCJvdXRwdXRCbG9iIiwib3V0cHV0VXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJocmVmIiwiY2xpY2siLCJ1cmwiLCJzZXRUaW1lb3V0Iiwic3RvcCIsInN0b3JlIiwiZ2V0T2JqZWN0cyIsInZpZGVvT2JqZWN0IiwiQ292ZXJWaWRlbyIsImFuZ2xlIiwib2JqZWN0Q2FjaGluZyIsInNlbGVjdGFibGUiLCJsb2NrVW5pU2NhbGluZyIsImN1c3RvbUZpbHRlciIsImltYWdlT2JqZWN0Iiwib24iLCJ0YXJnZXQiLCJuZXdQbGFjZW1lbnQiLCJuZXdFbGVtZW50IiwiQ292ZXJJbWFnZSIsInciLCJoIiwic2NhbGVUb0hlaWdodCIsInNjYWxlVG9XaWR0aCIsInRvU2NhbGUiLCJmaWFubFNjYWxlIiwiVGV4dGJveCIsImZpbGwiLCJFcnJvciIsInNlbGVjdGVkRWRpdG9yRWxlbWVudCIsInJlbmRlckFsbCIsImNvbnN0cnVjdG9yIiwicG9zc2libGVWaWRlb0Zvcm1hdHMiLCJjb3B5Q2hhcnNPYmplY3RzIiwiY2hhcmFjdGVycyIsInNwbGl0IiwibSIsImNoYXJPYmplY3RzIiwiX19jaGFyQm91bmRzIiwiY2hhck9iamVjdEZpeGVkIiwic2xpY2UiLCJmbGF0IiwibGluZUhlaWdodCIsImdldEhlaWdodE9mTGluZSIsImNoYXJPYmplY3QiLCJsaW5lSW5kZXgiLCJjaGFyIiwiY2hhclRleHRPYmplY3QiLCJUZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-client)/./src/store/Store.ts\n"));

/***/ })

});