"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-client_src_components_Editor_tsx",{

/***/ "(app-client)/./src/store/Store.ts":
/*!****************************!*\
  !*** ./src/store/Store.ts ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Store: function() { return /* binding */ Store; },\n/* harmony export */   isEditorAudioElement: function() { return /* binding */ isEditorAudioElement; },\n/* harmony export */   isEditorImageElement: function() { return /* binding */ isEditorImageElement; },\n/* harmony export */   isEditorVideoElement: function() { return /* binding */ isEditorVideoElement; }\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mobx */ \"(app-client)/./node_modules/mobx/dist/mobx.esm.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fabric */ \"(app-client)/./node_modules/fabric/dist/fabric.js\");\n/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils */ \"(app-client)/./src/utils/index.ts\");\n/* harmony import */ var animejs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! animejs */ \"(app-client)/./node_modules/animejs/lib/anime.es.js\");\n/* harmony import */ var _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/utils/fabric-utils */ \"(app-client)/./src/utils/fabric-utils.ts\");\n/* harmony import */ var _ffmpeg_ffmpeg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ffmpeg/ffmpeg */ \"(app-client)/./node_modules/@ffmpeg/ffmpeg/dist/esm/index.js\");\n/* harmony import */ var _ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ffmpeg/util */ \"(app-client)/./node_modules/@ffmpeg/util/dist/esm/index.js\");\n\n\n\n\n\n\n\nclass Store {\n    get currentTimeInMs() {\n        return this.currentKeyFrame * 1000 / this.fps;\n    }\n    setCurrentTimeInMs(time) {\n        this.currentKeyFrame = Math.floor(time / 1000 * this.fps);\n    }\n    setSelectedMenuOption(selectedMenuOption) {\n        this.selectedMenuOption = selectedMenuOption;\n    }\n    setCanvas(canvas) {\n        this.canvas = canvas;\n        if (canvas) {\n            canvas.backgroundColor = this.backgroundColor;\n        }\n    }\n    setBackgroundColor(backgroundColor) {\n        this.backgroundColor = backgroundColor;\n        if (this.canvas) {\n            this.canvas.backgroundColor = backgroundColor;\n        }\n    }\n    setTextColor(TextColor) {\n        this.TextColor = TextColor;\n        if (this.canvas) {\n            this.editorElements = TextColor;\n        }\n    }\n    updateEffect(id, effect) {\n        const index = this.editorElements.findIndex((element)=>element.id === id);\n        const element = this.editorElements[index];\n        if (isEditorVideoElement(element) || isEditorImageElement(element)) {\n            element.properties.effect = effect;\n        }\n        this.refreshElements();\n    }\n    setVideos(videos) {\n        this.videos = videos;\n    }\n    addVideoResource(video) {\n        this.videos = [\n            ...this.videos,\n            video\n        ];\n    }\n    addAudioResource(audio) {\n        this.audios = [\n            ...this.audios,\n            audio\n        ];\n    }\n    addImageResource(image) {\n        this.images = [\n            ...this.images,\n            image\n        ];\n    }\n    addAnimation(animation) {\n        this.animations = [\n            ...this.animations,\n            animation\n        ];\n        this.refreshAnimations();\n    }\n    updateAnimation(id, animation) {\n        const index = this.animations.findIndex((a)=>a.id === id);\n        this.animations[index] = animation;\n        this.refreshAnimations();\n    }\n    refreshAnimations() {\n        animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].remove(this.animationTimeLine);\n        this.animationTimeLine = animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].timeline({\n            duration: this.maxTime,\n            autoplay: false\n        });\n        for(let i = 0; i < this.animations.length; i++){\n            var _editorElement;\n            const animation = this.animations[i];\n            const editorElement = this.editorElements.find((element)=>element.id === animation.targetId);\n            const fabricObject = (_editorElement = editorElement) === null || _editorElement === void 0 ? void 0 : _editorElement.fabricObject;\n            if (!editorElement || !fabricObject) {\n                continue;\n            }\n            fabricObject.clipPath = undefined;\n            switch(animation.type){\n                case \"fadeIn\":\n                    {\n                        this.animationTimeLine.add({\n                            opacity: [\n                                0,\n                                1\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.start);\n                        break;\n                    }\n                case \"fadeOut\":\n                    {\n                        this.animationTimeLine.add({\n                            opacity: [\n                                1,\n                                0\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.end - animation.duration);\n                        break;\n                    }\n                case \"slideIn\":\n                    {\n                        var _this_canvas, _this_canvas1;\n                        const direction = animation.properties.direction;\n                        const targetPosition = {\n                            left: editorElement.placement.x,\n                            top: editorElement.placement.y\n                        };\n                        const startPosition = {\n                            left: direction === \"left\" ? -editorElement.placement.width : direction === \"right\" ? (_this_canvas = this.canvas) === null || _this_canvas === void 0 ? void 0 : _this_canvas.width : editorElement.placement.x,\n                            top: direction === \"top\" ? -editorElement.placement.height : direction === \"bottom\" ? (_this_canvas1 = this.canvas) === null || _this_canvas1 === void 0 ? void 0 : _this_canvas1.height : editorElement.placement.y\n                        };\n                        if (animation.properties.useClipPath) {\n                            const clipRectangle = _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__.FabricUitls.getClipMaskRect(editorElement, 50);\n                            fabricObject.set(\"clipPath\", clipRectangle);\n                        }\n                        if (editorElement.type === \"text\" && animation.properties.textType === \"character\") {\n                            var _this_canvas2;\n                            (_this_canvas2 = this.canvas) === null || _this_canvas2 === void 0 ? void 0 : _this_canvas2.remove(...editorElement.properties.splittedTexts);\n                            // @ts-ignore\n                            editorElement.properties.splittedTexts = getTextObjectsPartitionedByCharacters(editorElement.fabricObject, editorElement);\n                            editorElement.properties.splittedTexts.forEach((textObject)=>{\n                                this.canvas.add(textObject);\n                            });\n                            const duration = animation.duration / 2;\n                            const delay = duration / editorElement.properties.splittedTexts.length;\n                            for(let i = 0; i < editorElement.properties.splittedTexts.length; i++){\n                                const splittedText = editorElement.properties.splittedTexts[i];\n                                const offset = {\n                                    left: splittedText.left - editorElement.placement.x,\n                                    top: splittedText.top - editorElement.placement.y\n                                };\n                                this.animationTimeLine.add({\n                                    left: [\n                                        startPosition.left + offset.left,\n                                        targetPosition.left + offset.left\n                                    ],\n                                    top: [\n                                        startPosition.top + offset.top,\n                                        targetPosition.top + offset.top\n                                    ],\n                                    delay: i * delay,\n                                    duration: duration,\n                                    targets: splittedText\n                                }, editorElement.timeFrame.start);\n                            }\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    1,\n                                    0\n                                ],\n                                duration: 1,\n                                targets: fabricObject,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    0,\n                                    1\n                                ],\n                                duration: 1,\n                                targets: fabricObject,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start + animation.duration);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    0,\n                                    1\n                                ],\n                                duration: 1,\n                                targets: editorElement.properties.splittedTexts,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start);\n                            this.animationTimeLine.add({\n                                opacity: [\n                                    1,\n                                    0\n                                ],\n                                duration: 1,\n                                targets: editorElement.properties.splittedTexts,\n                                easing: \"linear\"\n                            }, editorElement.timeFrame.start + animation.duration);\n                        }\n                        this.animationTimeLine.add({\n                            left: [\n                                startPosition.left,\n                                targetPosition.left\n                            ],\n                            top: [\n                                startPosition.top,\n                                targetPosition.top\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.start);\n                        break;\n                    }\n                case \"slideOut\":\n                    {\n                        var _this_canvas3, _this_canvas4;\n                        const direction = animation.properties.direction;\n                        const startPosition = {\n                            left: editorElement.placement.x,\n                            top: editorElement.placement.y\n                        };\n                        const targetPosition = {\n                            left: direction === \"left\" ? -editorElement.placement.width : direction === \"right\" ? (_this_canvas3 = this.canvas) === null || _this_canvas3 === void 0 ? void 0 : _this_canvas3.width : editorElement.placement.x,\n                            top: direction === \"top\" ? -100 - editorElement.placement.height : direction === \"bottom\" ? (_this_canvas4 = this.canvas) === null || _this_canvas4 === void 0 ? void 0 : _this_canvas4.height : editorElement.placement.y\n                        };\n                        if (animation.properties.useClipPath) {\n                            const clipRectangle = _utils_fabric_utils__WEBPACK_IMPORTED_MODULE_3__.FabricUitls.getClipMaskRect(editorElement, 50);\n                            fabricObject.set(\"clipPath\", clipRectangle);\n                        }\n                        this.animationTimeLine.add({\n                            left: [\n                                startPosition.left,\n                                targetPosition.left\n                            ],\n                            top: [\n                                startPosition.top,\n                                targetPosition.top\n                            ],\n                            duration: animation.duration,\n                            targets: fabricObject,\n                            easing: \"linear\"\n                        }, editorElement.timeFrame.end - animation.duration);\n                        break;\n                    }\n                case \"breathe\":\n                    {\n                        const itsSlideInAnimation = this.animations.find((a)=>a.targetId === animation.targetId && a.type === \"slideIn\");\n                        const itsSlideOutAnimation = this.animations.find((a)=>a.targetId === animation.targetId && a.type === \"slideOut\");\n                        const timeEndOfSlideIn = itsSlideInAnimation ? editorElement.timeFrame.start + itsSlideInAnimation.duration : editorElement.timeFrame.start;\n                        const timeStartOfSlideOut = itsSlideOutAnimation ? editorElement.timeFrame.end - itsSlideOutAnimation.duration : editorElement.timeFrame.end;\n                        if (timeEndOfSlideIn > timeStartOfSlideOut) {\n                            continue;\n                        }\n                        const duration = timeStartOfSlideOut - timeEndOfSlideIn;\n                        const easeFactor = 4;\n                        const suitableTimeForHeartbeat = 1000 * 60 / 72 * easeFactor;\n                        const upScale = 1.05;\n                        var _fabricObject_scaleX;\n                        const currentScaleX = (_fabricObject_scaleX = fabricObject.scaleX) !== null && _fabricObject_scaleX !== void 0 ? _fabricObject_scaleX : 1;\n                        var _fabricObject_scaleY;\n                        const currentScaleY = (_fabricObject_scaleY = fabricObject.scaleY) !== null && _fabricObject_scaleY !== void 0 ? _fabricObject_scaleY : 1;\n                        const finalScaleX = currentScaleX * upScale;\n                        const finalScaleY = currentScaleY * upScale;\n                        const totalHeartbeats = Math.floor(duration / suitableTimeForHeartbeat);\n                        if (totalHeartbeats < 1) {\n                            continue;\n                        }\n                        const keyframes = [];\n                        for(let i = 0; i < totalHeartbeats; i++){\n                            keyframes.push({\n                                scaleX: finalScaleX,\n                                scaleY: finalScaleY\n                            });\n                            keyframes.push({\n                                scaleX: currentScaleX,\n                                scaleY: currentScaleY\n                            });\n                        }\n                        this.animationTimeLine.add({\n                            duration: duration,\n                            targets: fabricObject,\n                            keyframes,\n                            easing: \"linear\",\n                            loop: true\n                        }, timeEndOfSlideIn);\n                        break;\n                    }\n            }\n        }\n    }\n    removeAnimation(id) {\n        this.animations = this.animations.filter((animation)=>animation.id !== id);\n        this.refreshAnimations();\n    }\n    setSelectedElement(selectedElement) {\n        this.selectedElement = selectedElement;\n        if (this.canvas) {\n            var _selectedElement;\n            if ((_selectedElement = selectedElement) === null || _selectedElement === void 0 ? void 0 : _selectedElement.fabricObject) this.canvas.setActiveObject(selectedElement.fabricObject);\n            else this.canvas.discardActiveObject();\n        }\n    }\n    updateSelectedElement() {\n        var _this_editorElements_find;\n        this.selectedElement = (_this_editorElements_find = this.editorElements.find((element)=>{\n            var _this_selectedElement;\n            return element.id === ((_this_selectedElement = this.selectedElement) === null || _this_selectedElement === void 0 ? void 0 : _this_selectedElement.id);\n        })) !== null && _this_editorElements_find !== void 0 ? _this_editorElements_find : null;\n    }\n    setEditorElements(editorElements) {\n        this.editorElements = editorElements;\n        this.updateSelectedElement();\n        this.refreshElements();\n    // this.refreshAnimations();\n    }\n    updateEditorElement(editorElement) {\n        this.setEditorElements(this.editorElements.map((element)=>element.id === editorElement.id ? editorElement : element));\n    }\n    updateEditorElementTimeFrame(editorElement, timeFrame) {\n        if (timeFrame.start != undefined && timeFrame.start < 0) {\n            timeFrame.start = 0;\n        }\n        if (timeFrame.end != undefined && timeFrame.end > this.maxTime) {\n            timeFrame.end = this.maxTime;\n        }\n        const newEditorElement = {\n            ...editorElement,\n            timeFrame: {\n                ...editorElement.timeFrame,\n                ...timeFrame\n            }\n        };\n        this.updateVideoElements();\n        this.updateAudioElements();\n        this.updateEditorElement(newEditorElement);\n        this.refreshAnimations();\n    }\n    addEditorElement(editorElement) {\n        this.setEditorElements([\n            ...this.editorElements,\n            editorElement\n        ]);\n        this.refreshElements();\n        this.setSelectedElement(this.editorElements[this.editorElements.length - 1]);\n    }\n    removeEditorElement(id) {\n        this.setEditorElements(this.editorElements.filter((editorElement)=>editorElement.id !== id));\n        this.refreshElements();\n    }\n    setMaxTime(maxTime) {\n        this.maxTime = maxTime;\n    }\n    setPlaying(playing) {\n        this.playing = playing;\n        this.updateVideoElements();\n        this.updateAudioElements();\n        if (playing) {\n            this.startedTime = Date.now();\n            this.startedTimePlay = this.currentTimeInMs;\n            requestAnimationFrame(()=>{\n                this.playFrames();\n            });\n        }\n    }\n    playFrames() {\n        if (!this.playing) {\n            return;\n        }\n        const elapsedTime = Date.now() - this.startedTime;\n        const newTime = this.startedTimePlay + elapsedTime;\n        this.updateTimeTo(newTime);\n        if (newTime > this.maxTime) {\n            this.currentKeyFrame = 0;\n            this.setPlaying(false);\n        } else {\n            requestAnimationFrame(()=>{\n                this.playFrames();\n            });\n        }\n    }\n    updateTimeTo(newTime) {\n        this.setCurrentTimeInMs(newTime);\n        this.animationTimeLine.seek(newTime);\n        if (this.canvas) {\n            this.canvas.backgroundColor = this.backgroundColor;\n        }\n        this.editorElements.forEach((e)=>{\n            if (!e.fabricObject) return;\n            const isInside = e.timeFrame.start <= newTime && newTime <= e.timeFrame.end;\n            e.fabricObject.visible = isInside;\n        });\n    }\n    handleSeek(seek) {\n        if (this.playing) {\n            this.setPlaying(false);\n        }\n        this.updateTimeTo(seek);\n        this.updateVideoElements();\n        this.updateAudioElements();\n    }\n    addVideo(index) {\n        const videoElement = document.getElementById(\"video-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(videoElement)) {\n            return;\n        }\n        const videoDurationMs = videoElement.duration * 1000;\n        const aspectRatio = videoElement.videoWidth / videoElement.videoHeight;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(video) \".concat(index + 1),\n            type: \"video\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100 * aspectRatio,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: videoDurationMs\n            },\n            properties: {\n                elementId: \"video-\".concat(id),\n                src: videoElement.src,\n                effect: {\n                    type: \"none\"\n                }\n            }\n        });\n    }\n    addImage(index) {\n        const imageElement = document.getElementById(\"image-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlImageElement)(imageElement)) {\n            return;\n        }\n        const aspectRatio = imageElement.naturalWidth / imageElement.naturalHeight;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(image) \".concat(index + 1),\n            type: \"image\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100 * aspectRatio,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: this.maxTime\n            },\n            properties: {\n                elementId: \"image-\".concat(id),\n                src: imageElement.src,\n                effect: {\n                    type: \"none\"\n                }\n            }\n        });\n    }\n    addAudio(index) {\n        const audioElement = document.getElementById(\"audio-\".concat(index));\n        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlAudioElement)(audioElement)) {\n            return;\n        }\n        const audioDurationMs = audioElement.duration * 1000;\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        this.addEditorElement({\n            id,\n            name: \"Media(audio) \".concat(index + 1),\n            type: \"audio\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: audioDurationMs\n            },\n            properties: {\n                elementId: \"audio-\".concat(id),\n                src: audioElement.src\n            }\n        });\n    }\n    addText(options) {\n        const id = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getUid)();\n        const index = this.editorElements.length;\n        this.addEditorElement({\n            id,\n            name: \"Text \".concat(index + 1),\n            type: \"text\",\n            placement: {\n                x: 0,\n                y: 0,\n                width: 100,\n                height: 100,\n                rotation: 0,\n                scaleX: 1,\n                scaleY: 1\n            },\n            timeFrame: {\n                start: 0,\n                end: this.maxTime\n            },\n            properties: {\n                text: options.text,\n                fontSize: options.fontSize,\n                fontWeight: options.fontWeight,\n                splittedTexts: []\n            }\n        });\n    }\n    updateVideoElements() {\n        this.editorElements.filter((element)=>element.type === \"video\").forEach((element)=>{\n            const video = document.getElementById(element.properties.elementId);\n            if ((0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(video)) {\n                const videoTime = (this.currentTimeInMs - element.timeFrame.start) / 1000;\n                video.currentTime = videoTime;\n                if (this.playing) {\n                    video.play();\n                } else {\n                    video.pause();\n                }\n            }\n        });\n    }\n    updateAudioElements() {\n        this.editorElements.filter((element)=>element.type === \"audio\").forEach((element)=>{\n            const audio = document.getElementById(element.properties.elementId);\n            if ((0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlAudioElement)(audio)) {\n                const audioTime = (this.currentTimeInMs - element.timeFrame.start) / 1000;\n                audio.currentTime = audioTime;\n                if (this.playing) {\n                    audio.play();\n                } else {\n                    audio.pause();\n                }\n            }\n        });\n    }\n    // saveCanvasToVideo() {\n    //   const video = document.createElement(\"video\");\n    //   const canvas = document.getElementById(\"canvas\") as HTMLCanvasElement;\n    //   const stream = canvas.captureStream();\n    //   video.srcObject = stream;\n    //   video.play();\n    //   const mediaRecorder = new MediaRecorder(stream);\n    //   const chunks: Blob[] = [];\n    //   mediaRecorder.ondataavailable = function (e) {\n    //     console.log(\"data available\");\n    //     console.log(e.data);\n    //     chunks.push(e.data);\n    //   };\n    //   mediaRecorder.onstop = function (e) {\n    //     const blob = new Blob(chunks, { type: \"video/webm\" });\n    //     const url = URL.createObjectURL(blob);\n    //     const a = document.createElement(\"a\");\n    //     a.href = url;\n    //     a.download = \"video.webm\";\n    //     a.click();\n    //   };\n    //   mediaRecorder.start();\n    //   setTimeout(() => {\n    //     mediaRecorder.stop();\n    //   }, this.maxTime);\n    // }\n    setVideoFormat(format) {\n        this.selectedVideoFormat = format;\n    }\n    saveCanvasToVideoWithAudio() {\n        this.saveCanvasToVideoWithAudioWebmMp4();\n    }\n    saveCanvasToVideoWithAudioWebmMp4() {\n        console.log(\"modified\");\n        let mp4 = this.selectedVideoFormat === \"mp4\";\n        const canvas = document.getElementById(\"canvas\");\n        const stream = canvas.captureStream(30);\n        const audioElements = this.editorElements.filter(isEditorAudioElement);\n        const audioStreams = [];\n        audioElements.forEach((audio)=>{\n            const audioElement = document.getElementById(audio.properties.elementId);\n            let ctx = new AudioContext();\n            let sourceNode = ctx.createMediaElementSource(audioElement);\n            let dest = ctx.createMediaStreamDestination();\n            sourceNode.connect(dest);\n            sourceNode.connect(ctx.destination);\n            audioStreams.push(dest.stream);\n        });\n        audioStreams.forEach((audioStream)=>{\n            stream.addTrack(audioStream.getAudioTracks()[0]);\n        });\n        const video = document.createElement(\"video\");\n        video.srcObject = stream;\n        video.height = 500;\n        video.width = 800;\n        // video.controls = true;\n        // document.body.appendChild(video);\n        video.play().then(()=>{\n            const mediaRecorder = new MediaRecorder(stream);\n            const chunks = [];\n            mediaRecorder.ondataavailable = function(e) {\n                chunks.push(e.data);\n                console.log(\"data available\");\n            };\n            mediaRecorder.onstop = async function(e) {\n                const blob = new Blob(chunks, {\n                    type: \"video/webm\"\n                });\n                if (mp4) {\n                    // lets use ffmpeg to convert webm to mp4\n                    const data = new Uint8Array(await blob.arrayBuffer());\n                    const ffmpeg = new _ffmpeg_ffmpeg__WEBPACK_IMPORTED_MODULE_4__.FFmpeg();\n                    const baseURL = \"https://unpkg.com/@ffmpeg/core@0.12.2/dist/umd\";\n                    await ffmpeg.load({\n                        coreURL: await (0,_ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__.toBlobURL)(\"\".concat(baseURL, \"/ffmpeg-core.js\"), \"text/javascript\"),\n                        wasmURL: await (0,_ffmpeg_util__WEBPACK_IMPORTED_MODULE_5__.toBlobURL)(\"\".concat(baseURL, \"/ffmpeg-core.wasm\"), \"application/wasm\")\n                    });\n                    await ffmpeg.writeFile(\"video.webm\", data);\n                    await ffmpeg.exec([\n                        \"-y\",\n                        \"-i\",\n                        \"video.webm\",\n                        \"-c\",\n                        \"copy\",\n                        \"video.mp4\"\n                    ]);\n                    // await ffmpeg.exec([\"-y\", \"-i\", \"video.webm\", \"-c:v\", \"libx264\", \"video.mp4\"]);\n                    const output = await ffmpeg.readFile(\"video.mp4\");\n                    const outputBlob = new Blob([\n                        output\n                    ], {\n                        type: \"video/mp4\"\n                    });\n                    const outputUrl = URL.createObjectURL(outputBlob);\n                    const a = document.createElement(\"a\");\n                    a.download = \"video.mp4\";\n                    a.href = outputUrl;\n                    a.click();\n                } else {\n                    const url = URL.createObjectURL(blob);\n                    const a = document.createElement(\"a\");\n                    a.href = url;\n                    a.download = \"video.webm\";\n                    a.click();\n                }\n            };\n            mediaRecorder.start();\n            setTimeout(()=>{\n                mediaRecorder.stop();\n            }, this.maxTime);\n            video.remove();\n        });\n    }\n    refreshElements() {\n        const store = this;\n        if (!store.canvas) return;\n        const canvas = store.canvas;\n        store.canvas.remove(...store.canvas.getObjects());\n        for(let index = 0; index < store.editorElements.length; index++){\n            const element = store.editorElements[index];\n            switch(element.type){\n                case \"video\":\n                    {\n                        console.log(\"elementid\", element.properties.elementId);\n                        if (document.getElementById(element.properties.elementId) == null) continue;\n                        const videoElement = document.getElementById(element.properties.elementId);\n                        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlVideoElement)(videoElement)) continue;\n                        // const filters = [];\n                        // if (element.properties.effect?.type === \"blackAndWhite\") {\n                        //   filters.push(new fabric.Image.filters.Grayscale());\n                        // }\n                        const videoObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.CoverVideo(videoElement, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            width: element.placement.width,\n                            height: element.placement.height,\n                            scaleX: element.placement.scaleX,\n                            scaleY: element.placement.scaleY,\n                            angle: element.placement.rotation,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            // filters: filters,\n                            // @ts-ignore\n                            customFilter: element.properties.effect.type\n                        });\n                        element.fabricObject = videoObject;\n                        element.properties.imageObject = videoObject;\n                        videoElement.width = 100;\n                        videoElement.height = videoElement.videoHeight * 100 / videoElement.videoWidth;\n                        canvas.add(videoObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != videoObject) return;\n                            const placement = element.placement;\n                            var _target_left, _target_top, _target_angle;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                width: target.width && target.scaleX ? target.width * target.scaleX : placement.width,\n                                height: target.height && target.scaleY ? target.height * target.scaleY : placement.height,\n                                scaleX: 1,\n                                scaleY: 1\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                case \"image\":\n                    {\n                        if (document.getElementById(element.properties.elementId) == null) continue;\n                        const imageElement = document.getElementById(element.properties.elementId);\n                        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isHtmlImageElement)(imageElement)) continue;\n                        // const filters = [];\n                        // if (element.properties.effect?.type === \"blackAndWhite\") {\n                        //   filters.push(new fabric.Image.filters.Grayscale());\n                        // }\n                        const imageObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.CoverImage(imageElement, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            angle: element.placement.rotation,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            // filters\n                            // @ts-ignore\n                            customFilter: element.properties.effect.type\n                        });\n                        // imageObject.applyFilters();\n                        element.fabricObject = imageObject;\n                        element.properties.imageObject = imageObject;\n                        const image = {\n                            w: imageElement.naturalWidth,\n                            h: imageElement.naturalHeight\n                        };\n                        imageObject.width = image.w;\n                        imageObject.height = image.h;\n                        imageElement.width = image.w;\n                        imageElement.height = image.h;\n                        imageObject.scaleToHeight(image.w);\n                        imageObject.scaleToWidth(image.h);\n                        const toScale = {\n                            x: element.placement.width / image.w,\n                            y: element.placement.height / image.h\n                        };\n                        imageObject.scaleX = toScale.x * element.placement.scaleX;\n                        imageObject.scaleY = toScale.y * element.placement.scaleY;\n                        canvas.add(imageObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != imageObject) return;\n                            const placement = element.placement;\n                            let fianlScale = 1;\n                            if (target.scaleX && target.scaleX > 0) {\n                                fianlScale = target.scaleX / toScale.x;\n                            }\n                            var _target_left, _target_top, _target_angle;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                scaleX: fianlScale,\n                                scaleY: fianlScale\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                case \"audio\":\n                    {\n                        break;\n                    }\n                case \"text\":\n                    {\n                        const textObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Textbox(element.properties.text, {\n                            name: element.id,\n                            left: element.placement.x,\n                            top: element.placement.y,\n                            scaleX: element.placement.scaleX,\n                            scaleY: element.placement.scaleY,\n                            width: element.placement.width,\n                            height: element.placement.height,\n                            angle: element.placement.rotation,\n                            fontSize: element.properties.fontSize,\n                            fontWeight: element.properties.fontWeight,\n                            objectCaching: false,\n                            selectable: true,\n                            lockUniScaling: true,\n                            fill: \"#ffffff\"\n                        });\n                        element.fabricObject = textObject;\n                        canvas.add(textObject);\n                        canvas.on(\"object:modified\", function(e) {\n                            var _target;\n                            if (!e.target) return;\n                            const target = e.target;\n                            if (target != textObject) return;\n                            const placement = element.placement;\n                            var _target_left, _target_top, _target_angle, _target_width, _target_height, _target_scaleX, _target_scaleY;\n                            const newPlacement = {\n                                ...placement,\n                                x: (_target_left = target.left) !== null && _target_left !== void 0 ? _target_left : placement.x,\n                                y: (_target_top = target.top) !== null && _target_top !== void 0 ? _target_top : placement.y,\n                                rotation: (_target_angle = target.angle) !== null && _target_angle !== void 0 ? _target_angle : placement.rotation,\n                                width: (_target_width = target.width) !== null && _target_width !== void 0 ? _target_width : placement.width,\n                                height: (_target_height = target.height) !== null && _target_height !== void 0 ? _target_height : placement.height,\n                                scaleX: (_target_scaleX = target.scaleX) !== null && _target_scaleX !== void 0 ? _target_scaleX : placement.scaleX,\n                                scaleY: (_target_scaleY = target.scaleY) !== null && _target_scaleY !== void 0 ? _target_scaleY : placement.scaleY\n                            };\n                            const newElement = {\n                                ...element,\n                                placement: newPlacement,\n                                properties: {\n                                    ...element.properties,\n                                    // @ts-ignore\n                                    text: (_target = target) === null || _target === void 0 ? void 0 : _target.text\n                                }\n                            };\n                            store.updateEditorElement(newElement);\n                        });\n                        break;\n                    }\n                default:\n                    {\n                        throw new Error(\"Not implemented\");\n                    }\n            }\n            if (element.fabricObject) {\n                element.fabricObject.on(\"selected\", function(e) {\n                    store.setSelectedElement(element);\n                });\n            }\n        }\n        const selectedEditorElement = store.selectedElement;\n        if (selectedEditorElement && selectedEditorElement.fabricObject) {\n            canvas.setActiveObject(selectedEditorElement.fabricObject);\n        }\n        this.refreshAnimations();\n        this.updateTimeTo(this.currentTimeInMs);\n        store.canvas.renderAll();\n    }\n    constructor(){\n        this.possibleVideoFormats = [\n            \"mp4\",\n            \"webm\"\n        ];\n        this.startedTime = 0;\n        this.startedTimePlay = 0;\n        this.canvas = null;\n        this.videos = [];\n        this.images = [];\n        this.audios = [];\n        this.editorElements = [];\n        this.backgroundColor = \"#111111\";\n        this.TextColor = \"#111111\";\n        this.maxTime = 30 * 1000;\n        this.playing = false;\n        this.currentKeyFrame = 0;\n        this.selectedElement = null;\n        this.fps = 60;\n        this.animations = [];\n        this.animationTimeLine = animejs__WEBPACK_IMPORTED_MODULE_2__[\"default\"].timeline();\n        this.selectedMenuOption = \"Video\";\n        this.selectedVideoFormat = \"mp4\";\n        (0,mobx__WEBPACK_IMPORTED_MODULE_6__.makeAutoObservable)(this);\n    }\n}\nfunction isEditorAudioElement(element) {\n    return element.type === \"audio\";\n}\nfunction isEditorVideoElement(element) {\n    return element.type === \"video\";\n}\nfunction isEditorImageElement(element) {\n    return element.type === \"image\";\n}\nfunction getTextObjectsPartitionedByCharacters(textObject, element) {\n    let copyCharsObjects = [];\n    var _textObject_text;\n    // replace all line endings with blank\n    const characters = ((_textObject_text = textObject.text) !== null && _textObject_text !== void 0 ? _textObject_text : \"\").split(\"\").filter((m)=>m !== \"\\n\");\n    const charObjects = textObject.__charBounds;\n    if (!charObjects) return [];\n    const charObjectFixed = charObjects.map((m, index)=>m.slice(0, m.length - 1).map((m)=>({\n                m,\n                index\n            }))).flat();\n    const lineHeight = textObject.getHeightOfLine(0);\n    for(let i = 0; i < characters.length; i++){\n        if (!charObjectFixed[i]) continue;\n        const { m: charObject, index: lineIndex } = charObjectFixed[i];\n        const char = characters[i];\n        var _textObject_scaleX;\n        const scaleX = (_textObject_scaleX = textObject.scaleX) !== null && _textObject_scaleX !== void 0 ? _textObject_scaleX : 1;\n        var _textObject_scaleY;\n        const scaleY = (_textObject_scaleY = textObject.scaleY) !== null && _textObject_scaleY !== void 0 ? _textObject_scaleY : 1;\n        const charTextObject = new fabric__WEBPACK_IMPORTED_MODULE_0__.fabric.Text(char, {\n            left: charObject.left * scaleX + element.placement.x,\n            scaleX: scaleX,\n            scaleY: scaleY,\n            top: lineIndex * lineHeight * scaleY + element.placement.y,\n            fontSize: textObject.fontSize,\n            fontWeight: textObject.fontWeight,\n            fill: \"#fff\"\n        });\n        copyCharsObjects.push(charTextObject);\n    }\n    return copyCharsObjects;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFM00sTUFBTSxHQUFHLEdBQUcrRCxHQUFHLENBQUM0SSxDQUFBQSxJQUFNO2dCQUFFQTtnQkFBR3pPO1lBQU0sS0FBSzhPLElBQUk7SUFDN0csTUFBTUMsYUFBYWhMLFdBQVdpTCxlQUFlLENBQUM7SUFDOUMsSUFBSyxJQUFJbk4sSUFBSSxHQUFHQSxJQUFJME0sV0FBV3pNLE1BQU0sRUFBRUQsSUFBSztRQUMxQyxJQUFJLENBQUMrTSxlQUFlLENBQUMvTSxFQUFFLEVBQUU7UUFDekIsTUFBTSxFQUFFNE0sR0FBR1EsVUFBVSxFQUFFalAsT0FBT2tQLFNBQVMsRUFBRSxHQUFHTixlQUFlLENBQUMvTSxFQUFFO1FBQzlELE1BQU1zTixPQUFPWixVQUFVLENBQUMxTSxFQUFFO1lBQ1hrQztRQUFmLE1BQU1ZLFNBQVNaLENBQUFBLHFCQUFBQSxXQUFXWSxNQUFNLGNBQWpCWixnQ0FBQUEscUJBQXFCO1lBQ3JCQTtRQUFmLE1BQU1jLFNBQVNkLENBQUFBLHFCQUFBQSxXQUFXYyxNQUFNLGNBQWpCZCxnQ0FBQUEscUJBQXFCO1FBQ3BDLE1BQU1xTCxpQkFBaUIsSUFBSWpSLDBDQUFNQSxDQUFDa1IsSUFBSSxDQUFDRixNQUFNO1lBQzNDcE0sTUFBTWtNLFdBQVdsTSxJQUFJLEdBQUc0QixTQUFVekUsUUFBUThDLFNBQVMsQ0FBQ0MsQ0FBQztZQUNyRDBCLFFBQVFBO1lBQ1JFLFFBQVFBO1lBQ1IzQixLQUFLZ00sWUFBWUgsYUFBYWxLLFNBQVUzRSxRQUFROEMsU0FBUyxDQUFDRyxDQUFDO1lBQzNEd0YsVUFBVTVFLFdBQVc0RSxRQUFRO1lBQzdCQyxZQUFZN0UsV0FBVzZFLFVBQVU7WUFDakNvRixNQUFNO1FBQ1I7UUFDQU0saUJBQWlCcEosSUFBSSxDQUFDa0s7SUFDeEI7SUFDQSxPQUFPZDtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9zdG9yZS9TdG9yZS50cz84OTgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1ha2VBdXRvT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xyXG5pbXBvcnQgeyBmYWJyaWMgfSBmcm9tICdmYWJyaWMnO1xyXG5pbXBvcnQgeyBnZXRVaWQsIGlzSHRtbEF1ZGlvRWxlbWVudCwgaXNIdG1sSW1hZ2VFbGVtZW50LCBpc0h0bWxWaWRlb0VsZW1lbnQgfSBmcm9tICdAL3V0aWxzJztcclxuaW1wb3J0IGFuaW1lLCB7IGdldCB9IGZyb20gJ2FuaW1lanMnO1xyXG5pbXBvcnQgeyBNZW51T3B0aW9uLCBFZGl0b3JFbGVtZW50LCBBbmltYXRpb24sIFRpbWVGcmFtZSwgVmlkZW9FZGl0b3JFbGVtZW50LCBBdWRpb0VkaXRvckVsZW1lbnQsIFBsYWNlbWVudCwgSW1hZ2VFZGl0b3JFbGVtZW50LCBFZmZlY3QsIFRleHRFZGl0b3JFbGVtZW50IH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyBGYWJyaWNVaXRscyB9IGZyb20gJ0AvdXRpbHMvZmFicmljLXV0aWxzJztcclxuaW1wb3J0IHsgRkZtcGVnIH0gZnJvbSAnQGZmbXBlZy9mZm1wZWcnO1xyXG5pbXBvcnQgeyB0b0Jsb2JVUkwgfSBmcm9tICdAZmZtcGVnL3V0aWwnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3JlIHtcclxuICBjYW52YXM6IGZhYnJpYy5DYW52YXMgfCBudWxsXHJcblxyXG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xyXG4gIFRleHRDb2xvciA6IHN0cmluZztcclxuXHJcbiAgc2VsZWN0ZWRNZW51T3B0aW9uOiBNZW51T3B0aW9uO1xyXG4gIGF1ZGlvczogc3RyaW5nW11cclxuICB2aWRlb3M6IHN0cmluZ1tdXHJcbiAgaW1hZ2VzOiBzdHJpbmdbXVxyXG4gIGVkaXRvckVsZW1lbnRzOiBFZGl0b3JFbGVtZW50W11cclxuICBzZWxlY3RlZEVsZW1lbnQ6IEVkaXRvckVsZW1lbnQgfCBudWxsO1xyXG5cclxuICBtYXhUaW1lOiBudW1iZXJcclxuICBhbmltYXRpb25zOiBBbmltYXRpb25bXVxyXG4gIGFuaW1hdGlvblRpbWVMaW5lOiBhbmltZS5BbmltZVRpbWVsaW5lSW5zdGFuY2U7XHJcbiAgcGxheWluZzogYm9vbGVhbjtcclxuXHJcbiAgY3VycmVudEtleUZyYW1lOiBudW1iZXI7XHJcbiAgZnBzOiBudW1iZXI7XHJcblxyXG4gIHBvc3NpYmxlVmlkZW9Gb3JtYXRzOiBzdHJpbmdbXSA9IFsnbXA0JywgJ3dlYm0nXTtcclxuICBzZWxlY3RlZFZpZGVvRm9ybWF0OiAnbXA0JyB8ICd3ZWJtJztcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XHJcbiAgICB0aGlzLnZpZGVvcyA9IFtdO1xyXG4gICAgdGhpcy5pbWFnZXMgPSBbXTtcclxuICAgIHRoaXMuYXVkaW9zID0gW107XHJcbiAgICB0aGlzLmVkaXRvckVsZW1lbnRzID0gW107XHJcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICcjMTExMTExJztcclxuICAgIHRoaXMuVGV4dENvbG9yID0gJyMxMTExMTEnO1xyXG4gICAgdGhpcy5tYXhUaW1lID0gMzAgKiAxMDAwO1xyXG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmN1cnJlbnRLZXlGcmFtZSA9IDA7XHJcbiAgICB0aGlzLnNlbGVjdGVkRWxlbWVudCA9IG51bGw7XHJcbiAgICB0aGlzLmZwcyA9IDYwO1xyXG4gICAgdGhpcy5hbmltYXRpb25zID0gW107XHJcbiAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lID0gYW5pbWUudGltZWxpbmUoKTtcclxuICAgIHRoaXMuc2VsZWN0ZWRNZW51T3B0aW9uID0gJ1ZpZGVvJztcclxuICAgIHRoaXMuc2VsZWN0ZWRWaWRlb0Zvcm1hdCA9ICdtcDQnO1xyXG4gICAgbWFrZUF1dG9PYnNlcnZhYmxlKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGN1cnJlbnRUaW1lSW5NcygpIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRLZXlGcmFtZSAqIDEwMDAgLyB0aGlzLmZwcztcclxuICB9XHJcblxyXG4gIHNldEN1cnJlbnRUaW1lSW5Ncyh0aW1lOiBudW1iZXIpIHtcclxuICAgIHRoaXMuY3VycmVudEtleUZyYW1lID0gTWF0aC5mbG9vcih0aW1lIC8gMTAwMCAqIHRoaXMuZnBzKTtcclxuICB9XHJcblxyXG4gIHNldFNlbGVjdGVkTWVudU9wdGlvbihzZWxlY3RlZE1lbnVPcHRpb246IE1lbnVPcHRpb24pIHtcclxuICAgIHRoaXMuc2VsZWN0ZWRNZW51T3B0aW9uID0gc2VsZWN0ZWRNZW51T3B0aW9uO1xyXG4gIH1cclxuXHJcbiAgc2V0Q2FudmFzKGNhbnZhczogZmFicmljLkNhbnZhcyB8IG51bGwpIHtcclxuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgaWYgKGNhbnZhcykge1xyXG4gICAgICBjYW52YXMuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRCYWNrZ3JvdW5kQ29sb3IoYmFja2dyb3VuZENvbG9yOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yO1xyXG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XHJcbiAgICAgIHRoaXMuY2FudmFzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvcjtcclxuICAgIH1cclxuICB9XHJcbiAgc2V0VGV4dENvbG9yKFRleHRDb2xvcjogc3RyaW5nKSB7XHJcbiAgICB0aGlzLlRleHRDb2xvciA9IFRleHRDb2xvcjtcclxuICAgIGlmICh0aGlzLmNhbnZhcykge1xyXG4gICAgICB0aGlzLmVkaXRvckVsZW1lbnRzID0gVGV4dENvbG9yO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlRWZmZWN0KGlkOiBzdHJpbmcsIGVmZmVjdDogRWZmZWN0KSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZWRpdG9yRWxlbWVudHMuZmluZEluZGV4KChlbGVtZW50KSA9PiBlbGVtZW50LmlkID09PSBpZCk7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lZGl0b3JFbGVtZW50c1tpbmRleF07XHJcbiAgICBpZiAoaXNFZGl0b3JWaWRlb0VsZW1lbnQoZWxlbWVudCkgfHwgaXNFZGl0b3JJbWFnZUVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgZWxlbWVudC5wcm9wZXJ0aWVzLmVmZmVjdCA9IGVmZmVjdDtcclxuICAgIH1cclxuICAgIHRoaXMucmVmcmVzaEVsZW1lbnRzKCk7XHJcbiAgfVxyXG5cclxuICBzZXRWaWRlb3ModmlkZW9zOiBzdHJpbmdbXSkge1xyXG4gICAgdGhpcy52aWRlb3MgPSB2aWRlb3M7XHJcbiAgfVxyXG5cclxuICBhZGRWaWRlb1Jlc291cmNlKHZpZGVvOiBzdHJpbmcpIHtcclxuICAgIHRoaXMudmlkZW9zID0gWy4uLnRoaXMudmlkZW9zLCB2aWRlb107XHJcbiAgfVxyXG4gIGFkZEF1ZGlvUmVzb3VyY2UoYXVkaW86IHN0cmluZykge1xyXG4gICAgdGhpcy5hdWRpb3MgPSBbLi4udGhpcy5hdWRpb3MsIGF1ZGlvXTtcclxuICB9XHJcbiAgYWRkSW1hZ2VSZXNvdXJjZShpbWFnZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmltYWdlcyA9IFsuLi50aGlzLmltYWdlcywgaW1hZ2VdO1xyXG4gIH1cclxuXHJcbiAgYWRkQW5pbWF0aW9uKGFuaW1hdGlvbjogQW5pbWF0aW9uKSB7XHJcbiAgICB0aGlzLmFuaW1hdGlvbnMgPSBbLi4udGhpcy5hbmltYXRpb25zLCBhbmltYXRpb25dO1xyXG4gICAgdGhpcy5yZWZyZXNoQW5pbWF0aW9ucygpO1xyXG4gIH1cclxuICB1cGRhdGVBbmltYXRpb24oaWQ6IHN0cmluZywgYW5pbWF0aW9uOiBBbmltYXRpb24pIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5hbmltYXRpb25zLmZpbmRJbmRleCgoYSkgPT4gYS5pZCA9PT0gaWQpO1xyXG4gICAgdGhpcy5hbmltYXRpb25zW2luZGV4XSA9IGFuaW1hdGlvbjtcclxuICAgIHRoaXMucmVmcmVzaEFuaW1hdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHJlZnJlc2hBbmltYXRpb25zKCkge1xyXG4gICAgYW5pbWUucmVtb3ZlKHRoaXMuYW5pbWF0aW9uVGltZUxpbmUpO1xyXG4gICAgdGhpcy5hbmltYXRpb25UaW1lTGluZSA9IGFuaW1lLnRpbWVsaW5lKHtcclxuICAgICAgZHVyYXRpb246IHRoaXMubWF4VGltZSxcclxuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxyXG4gICAgfSk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLmFuaW1hdGlvbnNbaV07XHJcbiAgICAgIGNvbnN0IGVkaXRvckVsZW1lbnQgPSB0aGlzLmVkaXRvckVsZW1lbnRzLmZpbmQoKGVsZW1lbnQpID0+IGVsZW1lbnQuaWQgPT09IGFuaW1hdGlvbi50YXJnZXRJZCk7XHJcbiAgICAgIGNvbnN0IGZhYnJpY09iamVjdCA9IGVkaXRvckVsZW1lbnQ/LmZhYnJpY09iamVjdDtcclxuICAgICAgaWYgKCFlZGl0b3JFbGVtZW50IHx8ICFmYWJyaWNPYmplY3QpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBmYWJyaWNPYmplY3QuY2xpcFBhdGggPSB1bmRlZmluZWQ7XHJcbiAgICAgIHN3aXRjaCAoYW5pbWF0aW9uLnR5cGUpIHtcclxuICAgICAgICBjYXNlIFwiZmFkZUluXCI6IHtcclxuICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgb3BhY2l0eTogWzAsIDFdLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICB0YXJnZXRzOiBmYWJyaWNPYmplY3QsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcImZhZGVPdXRcIjoge1xyXG4gICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICBvcGFjaXR5OiBbMSwgMF0sXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBhbmltYXRpb24uZHVyYXRpb24sXHJcbiAgICAgICAgICAgIHRhcmdldHM6IGZhYnJpY09iamVjdCxcclxuICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLmVuZCAtIGFuaW1hdGlvbi5kdXJhdGlvbik7XHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwic2xpZGVJblwiOiB7XHJcbiAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBhbmltYXRpb24ucHJvcGVydGllcy5kaXJlY3Rpb247XHJcbiAgICAgICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgbGVmdDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgdG9wOiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC55LFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgbGVmdDogKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIgPyAtIGVkaXRvckVsZW1lbnQucGxhY2VtZW50LndpZHRoIDogZGlyZWN0aW9uID09PSBcInJpZ2h0XCIgPyB0aGlzLmNhbnZhcz8ud2lkdGggOiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC54KSxcclxuICAgICAgICAgICAgdG9wOiAoZGlyZWN0aW9uID09PSBcInRvcFwiID8gLSBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC5oZWlnaHQgOiBkaXJlY3Rpb24gPT09IFwiYm90dG9tXCIgPyB0aGlzLmNhbnZhcz8uaGVpZ2h0IDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueSksXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uLnByb3BlcnRpZXMudXNlQ2xpcFBhdGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY2xpcFJlY3RhbmdsZSA9IEZhYnJpY1VpdGxzLmdldENsaXBNYXNrUmVjdChlZGl0b3JFbGVtZW50LCA1MCk7XHJcbiAgICAgICAgICAgIGZhYnJpY09iamVjdC5zZXQoJ2NsaXBQYXRoJywgY2xpcFJlY3RhbmdsZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChlZGl0b3JFbGVtZW50LnR5cGUgPT09IFwidGV4dFwiICYmIGFuaW1hdGlvbi5wcm9wZXJ0aWVzLnRleHRUeXBlID09PSBcImNoYXJhY3RlclwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzPy5yZW1vdmUoLi4uZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHMpXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHMgPSBnZXRUZXh0T2JqZWN0c1BhcnRpdGlvbmVkQnlDaGFyYWN0ZXJzKGVkaXRvckVsZW1lbnQuZmFicmljT2JqZWN0LCBlZGl0b3JFbGVtZW50KTtcclxuICAgICAgICAgICAgZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHMuZm9yRWFjaCgodGV4dE9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuY2FudmFzIS5hZGQodGV4dE9iamVjdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gYW5pbWF0aW9uLmR1cmF0aW9uIC8gMjtcclxuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBkdXJhdGlvbiAvIGVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZGl0b3JFbGVtZW50LnByb3BlcnRpZXMuc3BsaXR0ZWRUZXh0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHNwbGl0dGVkVGV4dCA9IGVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzW2ldO1xyXG4gICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IHNwbGl0dGVkVGV4dC5sZWZ0ISAtIGVkaXRvckVsZW1lbnQucGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgICAgICB0b3A6IHNwbGl0dGVkVGV4dC50b3AhIC0gZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBbc3RhcnRQb3NpdGlvbi5sZWZ0ISArIG9mZnNldC5sZWZ0LCB0YXJnZXRQb3NpdGlvbi5sZWZ0ICsgb2Zmc2V0LmxlZnRdLFxyXG4gICAgICAgICAgICAgICAgdG9wOiBbc3RhcnRQb3NpdGlvbi50b3AhICsgb2Zmc2V0LnRvcCwgdGFyZ2V0UG9zaXRpb24udG9wICsgb2Zmc2V0LnRvcF0sXHJcbiAgICAgICAgICAgICAgICBkZWxheTogaSAqIGRlbGF5LFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogc3BsaXR0ZWRUZXh0LFxyXG4gICAgICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogWzEsIDBdLFxyXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxyXG4gICAgICAgICAgICAgIHRhcmdldHM6IGZhYnJpY09iamVjdCxcclxuICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiBbMCwgMV0sXHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0czogZmFicmljT2JqZWN0LFxyXG4gICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0ICsgYW5pbWF0aW9uLmR1cmF0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiBbMCwgMV0sXHJcbiAgICAgICAgICAgICAgZHVyYXRpb246IDEsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0czogZWRpdG9yRWxlbWVudC5wcm9wZXJ0aWVzLnNwbGl0dGVkVGV4dHMsXHJcbiAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgfSwgZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLmFkZCh7XHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogWzEsIDBdLFxyXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxyXG4gICAgICAgICAgICAgIHRhcmdldHM6IGVkaXRvckVsZW1lbnQucHJvcGVydGllcy5zcGxpdHRlZFRleHRzLFxyXG4gICAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICAgIH0sIGVkaXRvckVsZW1lbnQudGltZUZyYW1lLnN0YXJ0ICsgYW5pbWF0aW9uLmR1cmF0aW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgbGVmdDogW3N0YXJ0UG9zaXRpb24ubGVmdCwgdGFyZ2V0UG9zaXRpb24ubGVmdF0sXHJcbiAgICAgICAgICAgIHRvcDogW3N0YXJ0UG9zaXRpb24udG9wLCB0YXJnZXRQb3NpdGlvbi50b3BdLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICB0YXJnZXRzOiBmYWJyaWNPYmplY3QsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5zdGFydCk7XHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwic2xpZGVPdXRcIjoge1xyXG4gICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gYW5pbWF0aW9uLnByb3BlcnRpZXMuZGlyZWN0aW9uO1xyXG4gICAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgbGVmdDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgdG9wOiBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC55LFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0UG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIGxlZnQ6IChkaXJlY3Rpb24gPT09IFwibGVmdFwiID8gLSBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC53aWR0aCA6IGRpcmVjdGlvbiA9PT0gXCJyaWdodFwiID8gdGhpcy5jYW52YXM/LndpZHRoIDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueCksXHJcbiAgICAgICAgICAgIHRvcDogKGRpcmVjdGlvbiA9PT0gXCJ0b3BcIiA/IC0xMDAgLSBlZGl0b3JFbGVtZW50LnBsYWNlbWVudC5oZWlnaHQgOiBkaXJlY3Rpb24gPT09IFwiYm90dG9tXCIgPyB0aGlzLmNhbnZhcz8uaGVpZ2h0IDogZWRpdG9yRWxlbWVudC5wbGFjZW1lbnQueSksXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uLnByb3BlcnRpZXMudXNlQ2xpcFBhdGgpIHtcclxuICAgICAgICAgICAgY29uc3QgY2xpcFJlY3RhbmdsZSA9IEZhYnJpY1VpdGxzLmdldENsaXBNYXNrUmVjdChlZGl0b3JFbGVtZW50LCA1MCk7XHJcbiAgICAgICAgICAgIGZhYnJpY09iamVjdC5zZXQoJ2NsaXBQYXRoJywgY2xpcFJlY3RhbmdsZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZUxpbmUuYWRkKHtcclxuICAgICAgICAgICAgbGVmdDogW3N0YXJ0UG9zaXRpb24ubGVmdCwgdGFyZ2V0UG9zaXRpb24ubGVmdF0sXHJcbiAgICAgICAgICAgIHRvcDogW3N0YXJ0UG9zaXRpb24udG9wLCB0YXJnZXRQb3NpdGlvbi50b3BdLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICB0YXJnZXRzOiBmYWJyaWNPYmplY3QsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2xpbmVhcicsXHJcbiAgICAgICAgICB9LCBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5lbmQgLSBhbmltYXRpb24uZHVyYXRpb24pO1xyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcImJyZWF0aGVcIjoge1xyXG4gICAgICAgICAgY29uc3QgaXRzU2xpZGVJbkFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9ucy5maW5kKChhKSA9PiBhLnRhcmdldElkID09PSBhbmltYXRpb24udGFyZ2V0SWQgJiYgKGEudHlwZSA9PT0gXCJzbGlkZUluXCIpKTtcclxuICAgICAgICAgIGNvbnN0IGl0c1NsaWRlT3V0QW5pbWF0aW9uID0gdGhpcy5hbmltYXRpb25zLmZpbmQoKGEpID0+IGEudGFyZ2V0SWQgPT09IGFuaW1hdGlvbi50YXJnZXRJZCAmJiAoYS50eXBlID09PSBcInNsaWRlT3V0XCIpKTtcclxuICAgICAgICAgIGNvbnN0IHRpbWVFbmRPZlNsaWRlSW4gPSBpdHNTbGlkZUluQW5pbWF0aW9uID8gZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQgKyBpdHNTbGlkZUluQW5pbWF0aW9uLmR1cmF0aW9uIDogZWRpdG9yRWxlbWVudC50aW1lRnJhbWUuc3RhcnQ7XHJcbiAgICAgICAgICBjb25zdCB0aW1lU3RhcnRPZlNsaWRlT3V0ID0gaXRzU2xpZGVPdXRBbmltYXRpb24gPyBlZGl0b3JFbGVtZW50LnRpbWVGcmFtZS5lbmQgLSBpdHNTbGlkZU91dEFuaW1hdGlvbi5kdXJhdGlvbiA6IGVkaXRvckVsZW1lbnQudGltZUZyYW1lLmVuZDtcclxuICAgICAgICAgIGlmICh0aW1lRW5kT2ZTbGlkZUluID4gdGltZVN0YXJ0T2ZTbGlkZU91dCkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdGltZVN0YXJ0T2ZTbGlkZU91dCAtIHRpbWVFbmRPZlNsaWRlSW47XHJcbiAgICAgICAgICBjb25zdCBlYXNlRmFjdG9yID0gNDtcclxuICAgICAgICAgIGNvbnN0IHN1aXRhYmxlVGltZUZvckhlYXJ0YmVhdCA9IDEwMDAgKiA2MCAvIDcyICogZWFzZUZhY3RvclxyXG4gICAgICAgICAgY29uc3QgdXBTY2FsZSA9IDEuMDU7XHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50U2NhbGVYID0gZmFicmljT2JqZWN0LnNjYWxlWCA/PyAxO1xyXG4gICAgICAgICAgY29uc3QgY3VycmVudFNjYWxlWSA9IGZhYnJpY09iamVjdC5zY2FsZVkgPz8gMTtcclxuICAgICAgICAgIGNvbnN0IGZpbmFsU2NhbGVYID0gY3VycmVudFNjYWxlWCAqIHVwU2NhbGU7XHJcbiAgICAgICAgICBjb25zdCBmaW5hbFNjYWxlWSA9IGN1cnJlbnRTY2FsZVkgKiB1cFNjYWxlO1xyXG4gICAgICAgICAgY29uc3QgdG90YWxIZWFydGJlYXRzID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIHN1aXRhYmxlVGltZUZvckhlYXJ0YmVhdCk7XHJcbiAgICAgICAgICBpZiAodG90YWxIZWFydGJlYXRzIDwgMSkge1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IGtleWZyYW1lcyA9IFtdO1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbEhlYXJ0YmVhdHM7IGkrKykge1xyXG4gICAgICAgICAgICBrZXlmcmFtZXMucHVzaCh7IHNjYWxlWDogZmluYWxTY2FsZVgsIHNjYWxlWTogZmluYWxTY2FsZVkgfSk7XHJcbiAgICAgICAgICAgIGtleWZyYW1lcy5wdXNoKHsgc2NhbGVYOiBjdXJyZW50U2NhbGVYLCBzY2FsZVk6IGN1cnJlbnRTY2FsZVkgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lTGluZS5hZGQoe1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgICAgICAgIHRhcmdldHM6IGZhYnJpY09iamVjdCxcclxuICAgICAgICAgICAga2V5ZnJhbWVzLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICB9LCB0aW1lRW5kT2ZTbGlkZUluKTtcclxuXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQW5pbWF0aW9uKGlkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuYW5pbWF0aW9ucyA9IHRoaXMuYW5pbWF0aW9ucy5maWx0ZXIoXHJcbiAgICAgIChhbmltYXRpb24pID0+IGFuaW1hdGlvbi5pZCAhPT0gaWRcclxuICAgICk7XHJcbiAgICB0aGlzLnJlZnJlc2hBbmltYXRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZEVsZW1lbnQoc2VsZWN0ZWRFbGVtZW50OiBFZGl0b3JFbGVtZW50IHwgbnVsbCkge1xyXG4gICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSBzZWxlY3RlZEVsZW1lbnQ7XHJcbiAgICBpZiAodGhpcy5jYW52YXMpIHtcclxuICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudD8uZmFicmljT2JqZWN0KVxyXG4gICAgICAgIHRoaXMuY2FudmFzLnNldEFjdGl2ZU9iamVjdChzZWxlY3RlZEVsZW1lbnQuZmFicmljT2JqZWN0KTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIHRoaXMuY2FudmFzLmRpc2NhcmRBY3RpdmVPYmplY3QoKTtcclxuICAgIH1cclxuICB9XHJcbiAgdXBkYXRlU2VsZWN0ZWRFbGVtZW50KCkge1xyXG4gICAgdGhpcy5zZWxlY3RlZEVsZW1lbnQgPSB0aGlzLmVkaXRvckVsZW1lbnRzLmZpbmQoKGVsZW1lbnQpID0+IGVsZW1lbnQuaWQgPT09IHRoaXMuc2VsZWN0ZWRFbGVtZW50Py5pZCkgPz8gbnVsbDtcclxuICB9XHJcblxyXG4gIHNldEVkaXRvckVsZW1lbnRzKGVkaXRvckVsZW1lbnRzOiBFZGl0b3JFbGVtZW50W10pIHtcclxuICAgIHRoaXMuZWRpdG9yRWxlbWVudHMgPSBlZGl0b3JFbGVtZW50cztcclxuICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRFbGVtZW50KCk7XHJcbiAgICB0aGlzLnJlZnJlc2hFbGVtZW50cygpO1xyXG4gICAgLy8gdGhpcy5yZWZyZXNoQW5pbWF0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRWRpdG9yRWxlbWVudChlZGl0b3JFbGVtZW50OiBFZGl0b3JFbGVtZW50KSB7XHJcbiAgICB0aGlzLnNldEVkaXRvckVsZW1lbnRzKHRoaXMuZWRpdG9yRWxlbWVudHMubWFwKChlbGVtZW50KSA9PlxyXG4gICAgICBlbGVtZW50LmlkID09PSBlZGl0b3JFbGVtZW50LmlkID8gZWRpdG9yRWxlbWVudCA6IGVsZW1lbnRcclxuICAgICkpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRWRpdG9yRWxlbWVudFRpbWVGcmFtZShlZGl0b3JFbGVtZW50OiBFZGl0b3JFbGVtZW50LCB0aW1lRnJhbWU6IFBhcnRpYWw8VGltZUZyYW1lPikge1xyXG4gICAgaWYgKHRpbWVGcmFtZS5zdGFydCAhPSB1bmRlZmluZWQgJiYgdGltZUZyYW1lLnN0YXJ0IDwgMCkge1xyXG4gICAgICB0aW1lRnJhbWUuc3RhcnQgPSAwO1xyXG4gICAgfVxyXG4gICAgaWYgKHRpbWVGcmFtZS5lbmQgIT0gdW5kZWZpbmVkICYmIHRpbWVGcmFtZS5lbmQgPiB0aGlzLm1heFRpbWUpIHtcclxuICAgICAgdGltZUZyYW1lLmVuZCA9IHRoaXMubWF4VGltZTtcclxuICAgIH1cclxuICAgIGNvbnN0IG5ld0VkaXRvckVsZW1lbnQgPSB7XHJcbiAgICAgIC4uLmVkaXRvckVsZW1lbnQsXHJcbiAgICAgIHRpbWVGcmFtZToge1xyXG4gICAgICAgIC4uLmVkaXRvckVsZW1lbnQudGltZUZyYW1lLFxyXG4gICAgICAgIC4uLnRpbWVGcmFtZSxcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVWaWRlb0VsZW1lbnRzKCk7XHJcbiAgICB0aGlzLnVwZGF0ZUF1ZGlvRWxlbWVudHMoKTtcclxuICAgIHRoaXMudXBkYXRlRWRpdG9yRWxlbWVudChuZXdFZGl0b3JFbGVtZW50KTtcclxuICAgIHRoaXMucmVmcmVzaEFuaW1hdGlvbnMoKTtcclxuICB9XHJcblxyXG5cclxuICBhZGRFZGl0b3JFbGVtZW50KGVkaXRvckVsZW1lbnQ6IEVkaXRvckVsZW1lbnQpIHtcclxuICAgIHRoaXMuc2V0RWRpdG9yRWxlbWVudHMoWy4uLnRoaXMuZWRpdG9yRWxlbWVudHMsIGVkaXRvckVsZW1lbnRdKTtcclxuICAgIHRoaXMucmVmcmVzaEVsZW1lbnRzKCk7XHJcbiAgICB0aGlzLnNldFNlbGVjdGVkRWxlbWVudCh0aGlzLmVkaXRvckVsZW1lbnRzW3RoaXMuZWRpdG9yRWxlbWVudHMubGVuZ3RoIC0gMV0pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRWRpdG9yRWxlbWVudChpZDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnNldEVkaXRvckVsZW1lbnRzKHRoaXMuZWRpdG9yRWxlbWVudHMuZmlsdGVyKFxyXG4gICAgICAoZWRpdG9yRWxlbWVudCkgPT4gZWRpdG9yRWxlbWVudC5pZCAhPT0gaWRcclxuICAgICkpO1xyXG4gICAgdGhpcy5yZWZyZXNoRWxlbWVudHMoKTtcclxuICB9XHJcblxyXG4gIHNldE1heFRpbWUobWF4VGltZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLm1heFRpbWUgPSBtYXhUaW1lO1xyXG4gIH1cclxuXHJcblxyXG4gIHNldFBsYXlpbmcocGxheWluZzogYm9vbGVhbikge1xyXG4gICAgdGhpcy5wbGF5aW5nID0gcGxheWluZztcclxuICAgIHRoaXMudXBkYXRlVmlkZW9FbGVtZW50cygpO1xyXG4gICAgdGhpcy51cGRhdGVBdWRpb0VsZW1lbnRzKCk7XHJcbiAgICBpZiAocGxheWluZykge1xyXG4gICAgICB0aGlzLnN0YXJ0ZWRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgdGhpcy5zdGFydGVkVGltZVBsYXkgPSB0aGlzLmN1cnJlbnRUaW1lSW5Nc1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucGxheUZyYW1lcygpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXJ0ZWRUaW1lID0gMDtcclxuICBzdGFydGVkVGltZVBsYXkgPSAwO1xyXG5cclxuICBwbGF5RnJhbWVzKCkge1xyXG4gICAgaWYgKCF0aGlzLnBsYXlpbmcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSBEYXRlLm5vdygpIC0gdGhpcy5zdGFydGVkVGltZTtcclxuICAgIGNvbnN0IG5ld1RpbWUgPSB0aGlzLnN0YXJ0ZWRUaW1lUGxheSArIGVsYXBzZWRUaW1lO1xyXG4gICAgdGhpcy51cGRhdGVUaW1lVG8obmV3VGltZSk7XHJcbiAgICBpZiAobmV3VGltZSA+IHRoaXMubWF4VGltZSkge1xyXG4gICAgICB0aGlzLmN1cnJlbnRLZXlGcmFtZSA9IDA7XHJcbiAgICAgIHRoaXMuc2V0UGxheWluZyhmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucGxheUZyYW1lcygpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgdXBkYXRlVGltZVRvKG5ld1RpbWU6IG51bWJlcikge1xyXG4gICAgdGhpcy5zZXRDdXJyZW50VGltZUluTXMobmV3VGltZSk7XHJcbiAgICB0aGlzLmFuaW1hdGlvblRpbWVMaW5lLnNlZWsobmV3VGltZSk7XHJcbiAgICBpZiAodGhpcy5jYW52YXMpIHtcclxuICAgICAgdGhpcy5jYW52YXMuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICB9XHJcbiAgICB0aGlzLmVkaXRvckVsZW1lbnRzLmZvckVhY2goXHJcbiAgICAgIGUgPT4ge1xyXG4gICAgICAgIGlmICghZS5mYWJyaWNPYmplY3QpIHJldHVybjtcclxuICAgICAgICBjb25zdCBpc0luc2lkZSA9IGUudGltZUZyYW1lLnN0YXJ0IDw9IG5ld1RpbWUgJiYgbmV3VGltZSA8PSBlLnRpbWVGcmFtZS5lbmQ7XHJcbiAgICAgICAgZS5mYWJyaWNPYmplY3QudmlzaWJsZSA9IGlzSW5zaWRlO1xyXG4gICAgICB9XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZWVrKHNlZWs6IG51bWJlcikge1xyXG4gICAgaWYgKHRoaXMucGxheWluZykge1xyXG4gICAgICB0aGlzLnNldFBsYXlpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVUaW1lVG8oc2Vlayk7XHJcbiAgICB0aGlzLnVwZGF0ZVZpZGVvRWxlbWVudHMoKTtcclxuICAgIHRoaXMudXBkYXRlQXVkaW9FbGVtZW50cygpO1xyXG4gIH1cclxuXHJcbiAgYWRkVmlkZW8oaW5kZXg6IG51bWJlcikge1xyXG4gICAgY29uc3QgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHZpZGVvLSR7aW5kZXh9YClcclxuICAgIGlmICghaXNIdG1sVmlkZW9FbGVtZW50KHZpZGVvRWxlbWVudCkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdmlkZW9EdXJhdGlvbk1zID0gdmlkZW9FbGVtZW50LmR1cmF0aW9uICogMTAwMDtcclxuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gdmlkZW9FbGVtZW50LnZpZGVvV2lkdGggLyB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQ7XHJcbiAgICBjb25zdCBpZCA9IGdldFVpZCgpO1xyXG4gICAgdGhpcy5hZGRFZGl0b3JFbGVtZW50KFxyXG4gICAgICB7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZTogYE1lZGlhKHZpZGVvKSAke2luZGV4ICsgMX1gLFxyXG4gICAgICAgIHR5cGU6IFwidmlkZW9cIixcclxuICAgICAgICBwbGFjZW1lbnQ6IHtcclxuICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgd2lkdGg6IDEwMCAqIGFzcGVjdFJhdGlvLFxyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAsXHJcbiAgICAgICAgICByb3RhdGlvbjogMCxcclxuICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRpbWVGcmFtZToge1xyXG4gICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICBlbmQ6IHZpZGVvRHVyYXRpb25NcyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICAgIGVsZW1lbnRJZDogYHZpZGVvLSR7aWR9YCxcclxuICAgICAgICAgIHNyYzogdmlkZW9FbGVtZW50LnNyYyxcclxuICAgICAgICAgIGVmZmVjdDoge1xyXG4gICAgICAgICAgICB0eXBlOiBcIm5vbmVcIixcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFkZEltYWdlKGluZGV4OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbWFnZS0ke2luZGV4fWApXHJcbiAgICBpZiAoIWlzSHRtbEltYWdlRWxlbWVudChpbWFnZUVsZW1lbnQpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gaW1hZ2VFbGVtZW50Lm5hdHVyYWxXaWR0aCAvIGltYWdlRWxlbWVudC5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgY29uc3QgaWQgPSBnZXRVaWQoKTtcclxuICAgIHRoaXMuYWRkRWRpdG9yRWxlbWVudChcclxuICAgICAge1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWU6IGBNZWRpYShpbWFnZSkgJHtpbmRleCArIDF9YCxcclxuICAgICAgICB0eXBlOiBcImltYWdlXCIsXHJcbiAgICAgICAgcGxhY2VtZW50OiB7XHJcbiAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgeTogMCxcclxuICAgICAgICAgIHdpZHRoOiAxMDAgKiBhc3BlY3RSYXRpbyxcclxuICAgICAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICAgICAgcm90YXRpb246IDAsXHJcbiAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICBzY2FsZVk6IDEsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aW1lRnJhbWU6IHtcclxuICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgZW5kOiB0aGlzLm1heFRpbWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICBlbGVtZW50SWQ6IGBpbWFnZS0ke2lkfWAsXHJcbiAgICAgICAgICBzcmM6IGltYWdlRWxlbWVudC5zcmMsXHJcbiAgICAgICAgICBlZmZlY3Q6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJub25lXCIsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhZGRBdWRpbyhpbmRleDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBhdWRpb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYXVkaW8tJHtpbmRleH1gKVxyXG4gICAgaWYgKCFpc0h0bWxBdWRpb0VsZW1lbnQoYXVkaW9FbGVtZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBhdWRpb0R1cmF0aW9uTXMgPSBhdWRpb0VsZW1lbnQuZHVyYXRpb24gKiAxMDAwO1xyXG4gICAgY29uc3QgaWQgPSBnZXRVaWQoKTtcclxuICAgIHRoaXMuYWRkRWRpdG9yRWxlbWVudChcclxuICAgICAge1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWU6IGBNZWRpYShhdWRpbykgJHtpbmRleCArIDF9YCxcclxuICAgICAgICB0eXBlOiBcImF1ZGlvXCIsXHJcbiAgICAgICAgcGxhY2VtZW50OiB7XHJcbiAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgeTogMCxcclxuICAgICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCxcclxuICAgICAgICAgIHJvdGF0aW9uOiAwLFxyXG4gICAgICAgICAgc2NhbGVYOiAxLFxyXG4gICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGltZUZyYW1lOiB7XHJcbiAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgIGVuZDogYXVkaW9EdXJhdGlvbk1zLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgICAgZWxlbWVudElkOiBgYXVkaW8tJHtpZH1gLFxyXG4gICAgICAgICAgc3JjOiBhdWRpb0VsZW1lbnQuc3JjLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gIH1cclxuICBhZGRUZXh0KG9wdGlvbnM6IHtcclxuICAgIHRleHQ6IHN0cmluZyxcclxuICAgIGZvbnRTaXplOiBudW1iZXIsXHJcbiAgICBmb250V2VpZ2h0OiBudW1iZXIsXHJcbiAgfSkge1xyXG4gICAgY29uc3QgaWQgPSBnZXRVaWQoKTtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5lZGl0b3JFbGVtZW50cy5sZW5ndGg7XHJcbiAgICB0aGlzLmFkZEVkaXRvckVsZW1lbnQoXHJcbiAgICAgIHtcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lOiBgVGV4dCAke2luZGV4ICsgMX1gLFxyXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgIHBsYWNlbWVudDoge1xyXG4gICAgICAgICAgeDogMCxcclxuICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICB3aWR0aDogMTAwLFxyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAsXHJcbiAgICAgICAgICByb3RhdGlvbjogMCxcclxuICAgICAgICAgIHNjYWxlWDogMSxcclxuICAgICAgICAgIHNjYWxlWTogMSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRpbWVGcmFtZToge1xyXG4gICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICBlbmQ6IHRoaXMubWF4VGltZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICAgIHRleHQ6IG9wdGlvbnMudGV4dCxcclxuICAgICAgICAgIGZvbnRTaXplOiBvcHRpb25zLmZvbnRTaXplLFxyXG4gICAgICAgICAgZm9udFdlaWdodDogb3B0aW9ucy5mb250V2VpZ2h0LFxyXG4gICAgICAgICAgc3BsaXR0ZWRUZXh0czogW10sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVWaWRlb0VsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5lZGl0b3JFbGVtZW50cy5maWx0ZXIoXHJcbiAgICAgIChlbGVtZW50KTogZWxlbWVudCBpcyBWaWRlb0VkaXRvckVsZW1lbnQgPT5cclxuICAgICAgICBlbGVtZW50LnR5cGUgPT09IFwidmlkZW9cIlxyXG4gICAgKVxyXG4gICAgICAuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5wcm9wZXJ0aWVzLmVsZW1lbnRJZCk7XHJcbiAgICAgICAgaWYgKGlzSHRtbFZpZGVvRWxlbWVudCh2aWRlbykpIHtcclxuICAgICAgICAgIGNvbnN0IHZpZGVvVGltZSA9ICh0aGlzLmN1cnJlbnRUaW1lSW5NcyAtIGVsZW1lbnQudGltZUZyYW1lLnN0YXJ0KSAvIDEwMDA7XHJcbiAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IHZpZGVvVGltZTtcclxuICAgICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcclxuICAgICAgICAgICAgdmlkZW8ucGxheSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgfVxyXG4gIHVwZGF0ZUF1ZGlvRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLmVkaXRvckVsZW1lbnRzLmZpbHRlcihcclxuICAgICAgKGVsZW1lbnQpOiBlbGVtZW50IGlzIEF1ZGlvRWRpdG9yRWxlbWVudCA9PlxyXG4gICAgICAgIGVsZW1lbnQudHlwZSA9PT0gXCJhdWRpb1wiXHJcbiAgICApXHJcbiAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LnByb3BlcnRpZXMuZWxlbWVudElkKTtcclxuICAgICAgICBpZiAoaXNIdG1sQXVkaW9FbGVtZW50KGF1ZGlvKSkge1xyXG4gICAgICAgICAgY29uc3QgYXVkaW9UaW1lID0gKHRoaXMuY3VycmVudFRpbWVJbk1zIC0gZWxlbWVudC50aW1lRnJhbWUuc3RhcnQpIC8gMTAwMDtcclxuICAgICAgICAgIGF1ZGlvLmN1cnJlbnRUaW1lID0gYXVkaW9UaW1lO1xyXG4gICAgICAgICAgaWYgKHRoaXMucGxheWluZykge1xyXG4gICAgICAgICAgICBhdWRpby5wbGF5KCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhdWRpby5wYXVzZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICB9XHJcbiAgLy8gc2F2ZUNhbnZhc1RvVmlkZW8oKSB7XHJcbiAgLy8gICBjb25zdCB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtcclxuICAvLyAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIC8vICAgY29uc3Qgc3RyZWFtID0gY2FudmFzLmNhcHR1cmVTdHJlYW0oKTtcclxuICAvLyAgIHZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTtcclxuICAvLyAgIHZpZGVvLnBsYXkoKTtcclxuICAvLyAgIGNvbnN0IG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pO1xyXG4gIC8vICAgY29uc3QgY2h1bmtzOiBCbG9iW10gPSBbXTtcclxuICAvLyAgIG1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gZnVuY3Rpb24gKGUpIHtcclxuICAvLyAgICAgY29uc29sZS5sb2coXCJkYXRhIGF2YWlsYWJsZVwiKTtcclxuICAvLyAgICAgY29uc29sZS5sb2coZS5kYXRhKTtcclxuICAvLyAgICAgY2h1bmtzLnB1c2goZS5kYXRhKTtcclxuICAvLyAgIH07XHJcbiAgLy8gICBtZWRpYVJlY29yZGVyLm9uc3RvcCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgLy8gICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihjaHVua3MsIHsgdHlwZTogXCJ2aWRlby93ZWJtXCIgfSk7XHJcbiAgLy8gICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgLy8gICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAvLyAgICAgYS5ocmVmID0gdXJsO1xyXG4gIC8vICAgICBhLmRvd25sb2FkID0gXCJ2aWRlby53ZWJtXCI7XHJcbiAgLy8gICAgIGEuY2xpY2soKTtcclxuICAvLyAgIH07XHJcbiAgLy8gICBtZWRpYVJlY29yZGVyLnN0YXJ0KCk7XHJcbiAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAvLyAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7XHJcbiAgLy8gICB9LCB0aGlzLm1heFRpbWUpO1xyXG5cclxuICAvLyB9XHJcblxyXG4gIHNldFZpZGVvRm9ybWF0KGZvcm1hdDogJ21wNCcgfCAnd2VibScpIHtcclxuICAgIHRoaXMuc2VsZWN0ZWRWaWRlb0Zvcm1hdCA9IGZvcm1hdDtcclxuICB9XHJcblxyXG4gIHNhdmVDYW52YXNUb1ZpZGVvV2l0aEF1ZGlvKCkge1xyXG4gICAgdGhpcy5zYXZlQ2FudmFzVG9WaWRlb1dpdGhBdWRpb1dlYm1NcDQoKTtcclxuICB9XHJcblxyXG4gIHNhdmVDYW52YXNUb1ZpZGVvV2l0aEF1ZGlvV2VibU1wNCgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdtb2RpZmllZCcpXHJcbiAgICBsZXQgbXA0ID0gdGhpcy5zZWxlY3RlZFZpZGVvRm9ybWF0ID09PSAnbXA0J1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBjb25zdCBzdHJlYW0gPSBjYW52YXMuY2FwdHVyZVN0cmVhbSgzMCk7XHJcbiAgICBjb25zdCBhdWRpb0VsZW1lbnRzID0gdGhpcy5lZGl0b3JFbGVtZW50cy5maWx0ZXIoaXNFZGl0b3JBdWRpb0VsZW1lbnQpXHJcbiAgICBjb25zdCBhdWRpb1N0cmVhbXM6IE1lZGlhU3RyZWFtW10gPSBbXTtcclxuICAgIGF1ZGlvRWxlbWVudHMuZm9yRWFjaCgoYXVkaW8pID0+IHtcclxuICAgICAgY29uc3QgYXVkaW9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXVkaW8ucHJvcGVydGllcy5lbGVtZW50SWQpIGFzIEhUTUxBdWRpb0VsZW1lbnQ7XHJcbiAgICAgIGxldCBjdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIGxldCBzb3VyY2VOb2RlID0gY3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShhdWRpb0VsZW1lbnQpO1xyXG4gICAgICBsZXQgZGVzdCA9IGN0eC5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCk7XHJcbiAgICAgIHNvdXJjZU5vZGUuY29ubmVjdChkZXN0KTtcclxuICAgICAgc291cmNlTm9kZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7XHJcbiAgICAgIGF1ZGlvU3RyZWFtcy5wdXNoKGRlc3Quc3RyZWFtKTtcclxuICAgIH0pO1xyXG4gICAgYXVkaW9TdHJlYW1zLmZvckVhY2goKGF1ZGlvU3RyZWFtKSA9PiB7XHJcbiAgICAgIHN0cmVhbS5hZGRUcmFjayhhdWRpb1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XHJcbiAgICB2aWRlby5zcmNPYmplY3QgPSBzdHJlYW07XHJcbiAgICB2aWRlby5oZWlnaHQgPSA1MDA7XHJcbiAgICB2aWRlby53aWR0aCA9IDgwMDtcclxuICAgIC8vIHZpZGVvLmNvbnRyb2xzID0gdHJ1ZTtcclxuICAgIC8vIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodmlkZW8pO1xyXG4gICAgdmlkZW8ucGxheSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjb25zdCBtZWRpYVJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIoc3RyZWFtKTtcclxuICAgICAgY29uc3QgY2h1bmtzOiBCbG9iW10gPSBbXTtcclxuICAgICAgbWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNodW5rcy5wdXNoKGUuZGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJkYXRhIGF2YWlsYWJsZVwiKTtcclxuXHJcbiAgICAgIH07XHJcbiAgICAgIG1lZGlhUmVjb3JkZXIub25zdG9wID0gYXN5bmMgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoY2h1bmtzLCB7IHR5cGU6IFwidmlkZW8vd2VibVwiIH0pO1xyXG5cclxuICAgICAgICBpZiAobXA0KSB7XHJcbiAgICAgICAgICAvLyBsZXRzIHVzZSBmZm1wZWcgdG8gY29udmVydCB3ZWJtIHRvIG1wNFxyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGF3YWl0IChibG9iKS5hcnJheUJ1ZmZlcigpKTtcclxuICAgICAgICAgIGNvbnN0IGZmbXBlZyA9IG5ldyBGRm1wZWcoKTtcclxuICAgICAgICAgIGNvbnN0IGJhc2VVUkwgPSBcImh0dHBzOi8vdW5wa2cuY29tL0BmZm1wZWcvY29yZUAwLjEyLjIvZGlzdC91bWRcIlxyXG4gICAgICAgICAgYXdhaXQgZmZtcGVnLmxvYWQoe1xyXG4gICAgICAgICAgICBjb3JlVVJMOiBhd2FpdCB0b0Jsb2JVUkwoYCR7YmFzZVVSTH0vZmZtcGVnLWNvcmUuanNgLCAndGV4dC9qYXZhc2NyaXB0JyksXHJcbiAgICAgICAgICAgIHdhc21VUkw6IGF3YWl0IHRvQmxvYlVSTChgJHtiYXNlVVJMfS9mZm1wZWctY29yZS53YXNtYCwgJ2FwcGxpY2F0aW9uL3dhc20nKSxcclxuICAgICAgICAgICAgLy8gd29ya2VyVVJMOiBhd2FpdCB0b0Jsb2JVUkwoYCR7YmFzZVVSTH0vZmZtcGVnLWNvcmUud29ya2VyLmpzYCwgJ3RleHQvamF2YXNjcmlwdCcpLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBhd2FpdCBmZm1wZWcud3JpdGVGaWxlKCd2aWRlby53ZWJtJywgZGF0YSk7XHJcbiAgICAgICAgICBhd2FpdCBmZm1wZWcuZXhlYyhbXCIteVwiLCBcIi1pXCIsIFwidmlkZW8ud2VibVwiLCBcIi1jXCIsIFwiY29weVwiLCBcInZpZGVvLm1wNFwiXSk7XHJcbiAgICAgICAgICAvLyBhd2FpdCBmZm1wZWcuZXhlYyhbXCIteVwiLCBcIi1pXCIsIFwidmlkZW8ud2VibVwiLCBcIi1jOnZcIiwgXCJsaWJ4MjY0XCIsIFwidmlkZW8ubXA0XCJdKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCBmZm1wZWcucmVhZEZpbGUoJ3ZpZGVvLm1wNCcpO1xyXG4gICAgICAgICAgY29uc3Qgb3V0cHV0QmxvYiA9IG5ldyBCbG9iKFtvdXRwdXRdLCB7IHR5cGU6IFwidmlkZW8vbXA0XCIgfSk7XHJcbiAgICAgICAgICBjb25zdCBvdXRwdXRVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG91dHB1dEJsb2IpO1xyXG4gICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgICAgYS5kb3dubG9hZCA9IFwidmlkZW8ubXA0XCI7XHJcbiAgICAgICAgICBhLmhyZWYgPSBvdXRwdXRVcmw7XHJcbiAgICAgICAgICBhLmNsaWNrKCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgICAgYS5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgYS5kb3dubG9hZCA9IFwidmlkZW8ud2VibVwiO1xyXG4gICAgICAgICAgYS5jbGljaygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgbWVkaWFSZWNvcmRlci5zdGFydCgpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBtZWRpYVJlY29yZGVyLnN0b3AoKTtcclxuICAgICAgfSwgdGhpcy5tYXhUaW1lKTtcclxuICAgICAgdmlkZW8ucmVtb3ZlKCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcmVmcmVzaEVsZW1lbnRzKCkge1xyXG4gICAgY29uc3Qgc3RvcmUgPSB0aGlzO1xyXG4gICAgaWYgKCFzdG9yZS5jYW52YXMpIHJldHVybjtcclxuICAgIGNvbnN0IGNhbnZhcyA9IHN0b3JlLmNhbnZhcztcclxuICAgIHN0b3JlLmNhbnZhcy5yZW1vdmUoLi4uc3RvcmUuY2FudmFzLmdldE9iamVjdHMoKSk7XHJcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgc3RvcmUuZWRpdG9yRWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBzdG9yZS5lZGl0b3JFbGVtZW50c1tpbmRleF07XHJcbiAgICAgIHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBcInZpZGVvXCI6IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZWxlbWVudGlkXCIsIGVsZW1lbnQucHJvcGVydGllcy5lbGVtZW50SWQpO1xyXG4gICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQucHJvcGVydGllcy5lbGVtZW50SWQpID09IG51bGwpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgY29uc3QgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgICAgICAgIGVsZW1lbnQucHJvcGVydGllcy5lbGVtZW50SWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoIWlzSHRtbFZpZGVvRWxlbWVudCh2aWRlb0VsZW1lbnQpKSBjb250aW51ZTtcclxuICAgICAgICAgIC8vIGNvbnN0IGZpbHRlcnMgPSBbXTtcclxuICAgICAgICAgIC8vIGlmIChlbGVtZW50LnByb3BlcnRpZXMuZWZmZWN0Py50eXBlID09PSBcImJsYWNrQW5kV2hpdGVcIikge1xyXG4gICAgICAgICAgLy8gICBmaWx0ZXJzLnB1c2gobmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZSgpKTtcclxuICAgICAgICAgIC8vIH1cclxuICAgICAgICAgIGNvbnN0IHZpZGVvT2JqZWN0ID0gbmV3IGZhYnJpYy5Db3ZlclZpZGVvKHZpZGVvRWxlbWVudCwge1xyXG4gICAgICAgICAgICBuYW1lOiBlbGVtZW50LmlkLFxyXG4gICAgICAgICAgICBsZWZ0OiBlbGVtZW50LnBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICB0b3A6IGVsZW1lbnQucGxhY2VtZW50LnksXHJcbiAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50LnBsYWNlbWVudC53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBlbGVtZW50LnBsYWNlbWVudC5oZWlnaHQsXHJcbiAgICAgICAgICAgIHNjYWxlWDogZWxlbWVudC5wbGFjZW1lbnQuc2NhbGVYLFxyXG4gICAgICAgICAgICBzY2FsZVk6IGVsZW1lbnQucGxhY2VtZW50LnNjYWxlWSxcclxuICAgICAgICAgICAgYW5nbGU6IGVsZW1lbnQucGxhY2VtZW50LnJvdGF0aW9uLFxyXG4gICAgICAgICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgbG9ja1VuaVNjYWxpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIC8vIGZpbHRlcnM6IGZpbHRlcnMsXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY3VzdG9tRmlsdGVyOiBlbGVtZW50LnByb3BlcnRpZXMuZWZmZWN0LnR5cGUsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50LmZhYnJpY09iamVjdCA9IHZpZGVvT2JqZWN0O1xyXG4gICAgICAgICAgZWxlbWVudC5wcm9wZXJ0aWVzLmltYWdlT2JqZWN0ID0gdmlkZW9PYmplY3Q7XHJcbiAgICAgICAgICB2aWRlb0VsZW1lbnQud2lkdGggPSAxMDA7XHJcbiAgICAgICAgICB2aWRlb0VsZW1lbnQuaGVpZ2h0ID1cclxuICAgICAgICAgICAgKHZpZGVvRWxlbWVudC52aWRlb0hlaWdodCAqIDEwMCkgLyB2aWRlb0VsZW1lbnQudmlkZW9XaWR0aDtcclxuICAgICAgICAgIGNhbnZhcy5hZGQodmlkZW9PYmplY3QpO1xyXG4gICAgICAgICAgY2FudmFzLm9uKFwib2JqZWN0Om1vZGlmaWVkXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZS50YXJnZXQpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gdmlkZW9PYmplY3QpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgcGxhY2VtZW50ID0gZWxlbWVudC5wbGFjZW1lbnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BsYWNlbWVudDogUGxhY2VtZW50ID0ge1xyXG4gICAgICAgICAgICAgIC4uLnBsYWNlbWVudCxcclxuICAgICAgICAgICAgICB4OiB0YXJnZXQubGVmdCA/PyBwbGFjZW1lbnQueCxcclxuICAgICAgICAgICAgICB5OiB0YXJnZXQudG9wID8/IHBsYWNlbWVudC55LFxyXG4gICAgICAgICAgICAgIHJvdGF0aW9uOiB0YXJnZXQuYW5nbGUgPz8gcGxhY2VtZW50LnJvdGF0aW9uLFxyXG4gICAgICAgICAgICAgIHdpZHRoOlxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LndpZHRoICYmIHRhcmdldC5zY2FsZVhcclxuICAgICAgICAgICAgICAgICAgPyB0YXJnZXQud2lkdGggKiB0YXJnZXQuc2NhbGVYXHJcbiAgICAgICAgICAgICAgICAgIDogcGxhY2VtZW50LndpZHRoLFxyXG4gICAgICAgICAgICAgIGhlaWdodDpcclxuICAgICAgICAgICAgICAgIHRhcmdldC5oZWlnaHQgJiYgdGFyZ2V0LnNjYWxlWVxyXG4gICAgICAgICAgICAgICAgICA/IHRhcmdldC5oZWlnaHQgKiB0YXJnZXQuc2NhbGVZXHJcbiAgICAgICAgICAgICAgICAgIDogcGxhY2VtZW50LmhlaWdodCxcclxuICAgICAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICAgICAgc2NhbGVZOiAxLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0ge1xyXG4gICAgICAgICAgICAgIC4uLmVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiBuZXdQbGFjZW1lbnQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN0b3JlLnVwZGF0ZUVkaXRvckVsZW1lbnQobmV3RWxlbWVudCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xyXG4gICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQucHJvcGVydGllcy5lbGVtZW50SWQpID09IG51bGwpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgICAgICAgIGVsZW1lbnQucHJvcGVydGllcy5lbGVtZW50SWRcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBpZiAoIWlzSHRtbEltYWdlRWxlbWVudChpbWFnZUVsZW1lbnQpKSBjb250aW51ZTtcclxuICAgICAgICAgIC8vIGNvbnN0IGZpbHRlcnMgPSBbXTtcclxuICAgICAgICAgIC8vIGlmIChlbGVtZW50LnByb3BlcnRpZXMuZWZmZWN0Py50eXBlID09PSBcImJsYWNrQW5kV2hpdGVcIikge1xyXG4gICAgICAgICAgLy8gICBmaWx0ZXJzLnB1c2gobmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZSgpKTtcclxuICAgICAgICAgIC8vIH1cclxuICAgICAgICAgIGNvbnN0IGltYWdlT2JqZWN0ID0gbmV3IGZhYnJpYy5Db3ZlckltYWdlKGltYWdlRWxlbWVudCwge1xyXG4gICAgICAgICAgICBuYW1lOiBlbGVtZW50LmlkLFxyXG4gICAgICAgICAgICBsZWZ0OiBlbGVtZW50LnBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICB0b3A6IGVsZW1lbnQucGxhY2VtZW50LnksXHJcbiAgICAgICAgICAgIGFuZ2xlOiBlbGVtZW50LnBsYWNlbWVudC5yb3RhdGlvbixcclxuICAgICAgICAgICAgb2JqZWN0Q2FjaGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGxvY2tVbmlTY2FsaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBmaWx0ZXJzXHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY3VzdG9tRmlsdGVyOiBlbGVtZW50LnByb3BlcnRpZXMuZWZmZWN0LnR5cGUsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vIGltYWdlT2JqZWN0LmFwcGx5RmlsdGVycygpO1xyXG4gICAgICAgICAgZWxlbWVudC5mYWJyaWNPYmplY3QgPSBpbWFnZU9iamVjdDtcclxuICAgICAgICAgIGVsZW1lbnQucHJvcGVydGllcy5pbWFnZU9iamVjdCA9IGltYWdlT2JqZWN0O1xyXG4gICAgICAgICAgY29uc3QgaW1hZ2UgPSB7XHJcbiAgICAgICAgICAgIHc6IGltYWdlRWxlbWVudC5uYXR1cmFsV2lkdGgsXHJcbiAgICAgICAgICAgIGg6IGltYWdlRWxlbWVudC5uYXR1cmFsSGVpZ2h0LFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBpbWFnZU9iamVjdC53aWR0aCA9IGltYWdlLnc7XHJcbiAgICAgICAgICBpbWFnZU9iamVjdC5oZWlnaHQgPSBpbWFnZS5oO1xyXG4gICAgICAgICAgaW1hZ2VFbGVtZW50LndpZHRoID0gaW1hZ2UudztcclxuICAgICAgICAgIGltYWdlRWxlbWVudC5oZWlnaHQgPSBpbWFnZS5oO1xyXG4gICAgICAgICAgaW1hZ2VPYmplY3Quc2NhbGVUb0hlaWdodChpbWFnZS53KTtcclxuICAgICAgICAgIGltYWdlT2JqZWN0LnNjYWxlVG9XaWR0aChpbWFnZS5oKTtcclxuICAgICAgICAgIGNvbnN0IHRvU2NhbGUgPSB7XHJcbiAgICAgICAgICAgIHg6IGVsZW1lbnQucGxhY2VtZW50LndpZHRoIC8gaW1hZ2UudyxcclxuICAgICAgICAgICAgeTogZWxlbWVudC5wbGFjZW1lbnQuaGVpZ2h0IC8gaW1hZ2UuaCxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBpbWFnZU9iamVjdC5zY2FsZVggPSB0b1NjYWxlLnggKiBlbGVtZW50LnBsYWNlbWVudC5zY2FsZVg7XHJcbiAgICAgICAgICBpbWFnZU9iamVjdC5zY2FsZVkgPSB0b1NjYWxlLnkgKiBlbGVtZW50LnBsYWNlbWVudC5zY2FsZVk7XHJcbiAgICAgICAgICBjYW52YXMuYWRkKGltYWdlT2JqZWN0KTtcclxuICAgICAgICAgIGNhbnZhcy5vbihcIm9iamVjdDptb2RpZmllZFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIWUudGFyZ2V0KSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ICE9IGltYWdlT2JqZWN0KSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYWNlbWVudCA9IGVsZW1lbnQucGxhY2VtZW50O1xyXG4gICAgICAgICAgICBsZXQgZmlhbmxTY2FsZSA9IDE7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuc2NhbGVYICYmIHRhcmdldC5zY2FsZVggPiAwKSB7XHJcbiAgICAgICAgICAgICAgZmlhbmxTY2FsZSA9IHRhcmdldC5zY2FsZVggLyB0b1NjYWxlLng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbmV3UGxhY2VtZW50OiBQbGFjZW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgLi4ucGxhY2VtZW50LFxyXG4gICAgICAgICAgICAgIHg6IHRhcmdldC5sZWZ0ID8/IHBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICAgIHk6IHRhcmdldC50b3AgPz8gcGxhY2VtZW50LnksXHJcbiAgICAgICAgICAgICAgcm90YXRpb246IHRhcmdldC5hbmdsZSA/PyBwbGFjZW1lbnQucm90YXRpb24sXHJcbiAgICAgICAgICAgICAgc2NhbGVYOiBmaWFubFNjYWxlLFxyXG4gICAgICAgICAgICAgIHNjYWxlWTogZmlhbmxTY2FsZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IHtcclxuICAgICAgICAgICAgICAuLi5lbGVtZW50LFxyXG4gICAgICAgICAgICAgIHBsYWNlbWVudDogbmV3UGxhY2VtZW50LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzdG9yZS51cGRhdGVFZGl0b3JFbGVtZW50KG5ld0VsZW1lbnQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FzZSBcImF1ZGlvXCI6IHtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXNlIFwidGV4dFwiOiB7XHJcbiAgICAgICAgICBjb25zdCB0ZXh0T2JqZWN0ID0gbmV3IGZhYnJpYy5UZXh0Ym94KGVsZW1lbnQucHJvcGVydGllcy50ZXh0LCB7XHJcbiAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQuaWQsXHJcbiAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnQucGxhY2VtZW50LngsXHJcbiAgICAgICAgICAgIHRvcDogZWxlbWVudC5wbGFjZW1lbnQueSxcclxuICAgICAgICAgICAgc2NhbGVYOiBlbGVtZW50LnBsYWNlbWVudC5zY2FsZVgsXHJcbiAgICAgICAgICAgIHNjYWxlWTogZWxlbWVudC5wbGFjZW1lbnQuc2NhbGVZLFxyXG4gICAgICAgICAgICB3aWR0aDogZWxlbWVudC5wbGFjZW1lbnQud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5wbGFjZW1lbnQuaGVpZ2h0LFxyXG4gICAgICAgICAgICBhbmdsZTogZWxlbWVudC5wbGFjZW1lbnQucm90YXRpb24sXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBlbGVtZW50LnByb3BlcnRpZXMuZm9udFNpemUsXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IGVsZW1lbnQucHJvcGVydGllcy5mb250V2VpZ2h0LFxyXG4gICAgICAgICAgICBvYmplY3RDYWNoaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgbG9ja1VuaVNjYWxpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGZpbGw6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBlbGVtZW50LmZhYnJpY09iamVjdCA9IHRleHRPYmplY3Q7XHJcbiAgICAgICAgICBjYW52YXMuYWRkKHRleHRPYmplY3QpO1xyXG4gICAgICAgICAgY2FudmFzLm9uKFwib2JqZWN0Om1vZGlmaWVkXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZS50YXJnZXQpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gdGV4dE9iamVjdCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDtcclxuICAgICAgICAgICAgY29uc3QgbmV3UGxhY2VtZW50OiBQbGFjZW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgLi4ucGxhY2VtZW50LFxyXG4gICAgICAgICAgICAgIHg6IHRhcmdldC5sZWZ0ID8/IHBsYWNlbWVudC54LFxyXG4gICAgICAgICAgICAgIHk6IHRhcmdldC50b3AgPz8gcGxhY2VtZW50LnksXHJcbiAgICAgICAgICAgICAgcm90YXRpb246IHRhcmdldC5hbmdsZSA/PyBwbGFjZW1lbnQucm90YXRpb24sXHJcbiAgICAgICAgICAgICAgd2lkdGg6IHRhcmdldC53aWR0aCA/PyBwbGFjZW1lbnQud2lkdGgsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiB0YXJnZXQuaGVpZ2h0ID8/IHBsYWNlbWVudC5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgc2NhbGVYOiB0YXJnZXQuc2NhbGVYID8/IHBsYWNlbWVudC5zY2FsZVgsXHJcbiAgICAgICAgICAgICAgc2NhbGVZOiB0YXJnZXQuc2NhbGVZID8/IHBsYWNlbWVudC5zY2FsZVksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgLi4uZWxlbWVudCxcclxuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG5ld1BsYWNlbWVudCxcclxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi5lbGVtZW50LnByb3BlcnRpZXMsXHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiB0YXJnZXQ/LnRleHQsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc3RvcmUudXBkYXRlRWRpdG9yRWxlbWVudChuZXdFbGVtZW50KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGVsZW1lbnQuZmFicmljT2JqZWN0KSB7XHJcbiAgICAgICAgZWxlbWVudC5mYWJyaWNPYmplY3Qub24oXCJzZWxlY3RlZFwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgc3RvcmUuc2V0U2VsZWN0ZWRFbGVtZW50KGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZWxlY3RlZEVkaXRvckVsZW1lbnQgPSBzdG9yZS5zZWxlY3RlZEVsZW1lbnQ7XHJcbiAgICBpZiAoc2VsZWN0ZWRFZGl0b3JFbGVtZW50ICYmIHNlbGVjdGVkRWRpdG9yRWxlbWVudC5mYWJyaWNPYmplY3QpIHtcclxuICAgICAgY2FudmFzLnNldEFjdGl2ZU9iamVjdChzZWxlY3RlZEVkaXRvckVsZW1lbnQuZmFicmljT2JqZWN0KTtcclxuICAgIH1cclxuICAgIHRoaXMucmVmcmVzaEFuaW1hdGlvbnMoKTtcclxuICAgIHRoaXMudXBkYXRlVGltZVRvKHRoaXMuY3VycmVudFRpbWVJbk1zKTtcclxuICAgIHN0b3JlLmNhbnZhcy5yZW5kZXJBbGwoKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRWRpdG9yQXVkaW9FbGVtZW50KFxyXG4gIGVsZW1lbnQ6IEVkaXRvckVsZW1lbnRcclxuKTogZWxlbWVudCBpcyBBdWRpb0VkaXRvckVsZW1lbnQge1xyXG4gIHJldHVybiBlbGVtZW50LnR5cGUgPT09IFwiYXVkaW9cIjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaXNFZGl0b3JWaWRlb0VsZW1lbnQoXHJcbiAgZWxlbWVudDogRWRpdG9yRWxlbWVudFxyXG4pOiBlbGVtZW50IGlzIFZpZGVvRWRpdG9yRWxlbWVudCB7XHJcbiAgcmV0dXJuIGVsZW1lbnQudHlwZSA9PT0gXCJ2aWRlb1wiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFZGl0b3JJbWFnZUVsZW1lbnQoXHJcbiAgZWxlbWVudDogRWRpdG9yRWxlbWVudFxyXG4pOiBlbGVtZW50IGlzIEltYWdlRWRpdG9yRWxlbWVudCB7XHJcbiAgcmV0dXJuIGVsZW1lbnQudHlwZSA9PT0gXCJpbWFnZVwiO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0VGV4dE9iamVjdHNQYXJ0aXRpb25lZEJ5Q2hhcmFjdGVycyh0ZXh0T2JqZWN0OiBmYWJyaWMuVGV4dCwgZWxlbWVudDogVGV4dEVkaXRvckVsZW1lbnQpOiBmYWJyaWMuVGV4dFtdIHtcclxuICBsZXQgY29weUNoYXJzT2JqZWN0czogZmFicmljLlRleHRbXSA9IFtdO1xyXG4gIC8vIHJlcGxhY2UgYWxsIGxpbmUgZW5kaW5ncyB3aXRoIGJsYW5rXHJcbiAgY29uc3QgY2hhcmFjdGVycyA9ICh0ZXh0T2JqZWN0LnRleHQgPz8gXCJcIikuc3BsaXQoJycpLmZpbHRlcigobSkgPT4gbSAhPT0gJ1xcbicpO1xyXG4gIGNvbnN0IGNoYXJPYmplY3RzID0gdGV4dE9iamVjdC5fX2NoYXJCb3VuZHM7XHJcbiAgaWYgKCFjaGFyT2JqZWN0cykgcmV0dXJuIFtdO1xyXG4gIGNvbnN0IGNoYXJPYmplY3RGaXhlZCA9IGNoYXJPYmplY3RzLm1hcCgobSwgaW5kZXgpID0+IG0uc2xpY2UoMCwgbS5sZW5ndGggLSAxKS5tYXAobSA9PiAoeyBtLCBpbmRleCB9KSkpLmZsYXQoKTtcclxuICBjb25zdCBsaW5lSGVpZ2h0ID0gdGV4dE9iamVjdC5nZXRIZWlnaHRPZkxpbmUoMCk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoIWNoYXJPYmplY3RGaXhlZFtpXSkgY29udGludWU7XHJcbiAgICBjb25zdCB7IG06IGNoYXJPYmplY3QsIGluZGV4OiBsaW5lSW5kZXggfSA9IGNoYXJPYmplY3RGaXhlZFtpXTtcclxuICAgIGNvbnN0IGNoYXIgPSBjaGFyYWN0ZXJzW2ldO1xyXG4gICAgY29uc3Qgc2NhbGVYID0gdGV4dE9iamVjdC5zY2FsZVggPz8gMTtcclxuICAgIGNvbnN0IHNjYWxlWSA9IHRleHRPYmplY3Quc2NhbGVZID8/IDE7XHJcbiAgICBjb25zdCBjaGFyVGV4dE9iamVjdCA9IG5ldyBmYWJyaWMuVGV4dChjaGFyLCB7XHJcbiAgICAgIGxlZnQ6IGNoYXJPYmplY3QubGVmdCAqIHNjYWxlWCArIChlbGVtZW50LnBsYWNlbWVudC54KSxcclxuICAgICAgc2NhbGVYOiBzY2FsZVgsXHJcbiAgICAgIHNjYWxlWTogc2NhbGVZLFxyXG4gICAgICB0b3A6IGxpbmVJbmRleCAqIGxpbmVIZWlnaHQgKiBzY2FsZVkgKyAoZWxlbWVudC5wbGFjZW1lbnQueSksXHJcbiAgICAgIGZvbnRTaXplOiB0ZXh0T2JqZWN0LmZvbnRTaXplLFxyXG4gICAgICBmb250V2VpZ2h0OiB0ZXh0T2JqZWN0LmZvbnRXZWlnaHQsXHJcbiAgICAgIGZpbGw6ICcjZmZmJyxcclxuICAgIH0pO1xyXG4gICAgY29weUNoYXJzT2JqZWN0cy5wdXNoKGNoYXJUZXh0T2JqZWN0KTtcclxuICB9XHJcbiAgcmV0dXJuIGNvcHlDaGFyc09iamVjdHM7XHJcbn0iXSwibmFtZXMiOlsibWFrZUF1dG9PYnNlcnZhYmxlIiwiZmFicmljIiwiZ2V0VWlkIiwiaXNIdG1sQXVkaW9FbGVtZW50IiwiaXNIdG1sSW1hZ2VFbGVtZW50IiwiaXNIdG1sVmlkZW9FbGVtZW50IiwiYW5pbWUiLCJGYWJyaWNVaXRscyIsIkZGbXBlZyIsInRvQmxvYlVSTCIsIlN0b3JlIiwiY3VycmVudFRpbWVJbk1zIiwiY3VycmVudEtleUZyYW1lIiwiZnBzIiwic2V0Q3VycmVudFRpbWVJbk1zIiwidGltZSIsIk1hdGgiLCJmbG9vciIsInNldFNlbGVjdGVkTWVudU9wdGlvbiIsInNlbGVjdGVkTWVudU9wdGlvbiIsInNldENhbnZhcyIsImNhbnZhcyIsImJhY2tncm91bmRDb2xvciIsInNldEJhY2tncm91bmRDb2xvciIsInNldFRleHRDb2xvciIsIlRleHRDb2xvciIsImVkaXRvckVsZW1lbnRzIiwidXBkYXRlRWZmZWN0IiwiaWQiLCJlZmZlY3QiLCJpbmRleCIsImZpbmRJbmRleCIsImVsZW1lbnQiLCJpc0VkaXRvclZpZGVvRWxlbWVudCIsImlzRWRpdG9ySW1hZ2VFbGVtZW50IiwicHJvcGVydGllcyIsInJlZnJlc2hFbGVtZW50cyIsInNldFZpZGVvcyIsInZpZGVvcyIsImFkZFZpZGVvUmVzb3VyY2UiLCJ2aWRlbyIsImFkZEF1ZGlvUmVzb3VyY2UiLCJhdWRpbyIsImF1ZGlvcyIsImFkZEltYWdlUmVzb3VyY2UiLCJpbWFnZSIsImltYWdlcyIsImFkZEFuaW1hdGlvbiIsImFuaW1hdGlvbiIsImFuaW1hdGlvbnMiLCJyZWZyZXNoQW5pbWF0aW9ucyIsInVwZGF0ZUFuaW1hdGlvbiIsImEiLCJyZW1vdmUiLCJhbmltYXRpb25UaW1lTGluZSIsInRpbWVsaW5lIiwiZHVyYXRpb24iLCJtYXhUaW1lIiwiYXV0b3BsYXkiLCJpIiwibGVuZ3RoIiwiZWRpdG9yRWxlbWVudCIsImZpbmQiLCJ0YXJnZXRJZCIsImZhYnJpY09iamVjdCIsImNsaXBQYXRoIiwidW5kZWZpbmVkIiwidHlwZSIsImFkZCIsIm9wYWNpdHkiLCJ0YXJnZXRzIiwiZWFzaW5nIiwidGltZUZyYW1lIiwic3RhcnQiLCJlbmQiLCJkaXJlY3Rpb24iLCJ0YXJnZXRQb3NpdGlvbiIsImxlZnQiLCJwbGFjZW1lbnQiLCJ4IiwidG9wIiwieSIsInN0YXJ0UG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsInVzZUNsaXBQYXRoIiwiY2xpcFJlY3RhbmdsZSIsImdldENsaXBNYXNrUmVjdCIsInNldCIsInRleHRUeXBlIiwic3BsaXR0ZWRUZXh0cyIsImdldFRleHRPYmplY3RzUGFydGl0aW9uZWRCeUNoYXJhY3RlcnMiLCJmb3JFYWNoIiwidGV4dE9iamVjdCIsImRlbGF5Iiwic3BsaXR0ZWRUZXh0Iiwib2Zmc2V0IiwiaXRzU2xpZGVJbkFuaW1hdGlvbiIsIml0c1NsaWRlT3V0QW5pbWF0aW9uIiwidGltZUVuZE9mU2xpZGVJbiIsInRpbWVTdGFydE9mU2xpZGVPdXQiLCJlYXNlRmFjdG9yIiwic3VpdGFibGVUaW1lRm9ySGVhcnRiZWF0IiwidXBTY2FsZSIsImN1cnJlbnRTY2FsZVgiLCJzY2FsZVgiLCJjdXJyZW50U2NhbGVZIiwic2NhbGVZIiwiZmluYWxTY2FsZVgiLCJmaW5hbFNjYWxlWSIsInRvdGFsSGVhcnRiZWF0cyIsImtleWZyYW1lcyIsInB1c2giLCJsb29wIiwicmVtb3ZlQW5pbWF0aW9uIiwiZmlsdGVyIiwic2V0U2VsZWN0ZWRFbGVtZW50Iiwic2VsZWN0ZWRFbGVtZW50Iiwic2V0QWN0aXZlT2JqZWN0IiwiZGlzY2FyZEFjdGl2ZU9iamVjdCIsInVwZGF0ZVNlbGVjdGVkRWxlbWVudCIsInNldEVkaXRvckVsZW1lbnRzIiwidXBkYXRlRWRpdG9yRWxlbWVudCIsIm1hcCIsInVwZGF0ZUVkaXRvckVsZW1lbnRUaW1lRnJhbWUiLCJuZXdFZGl0b3JFbGVtZW50IiwidXBkYXRlVmlkZW9FbGVtZW50cyIsInVwZGF0ZUF1ZGlvRWxlbWVudHMiLCJhZGRFZGl0b3JFbGVtZW50IiwicmVtb3ZlRWRpdG9yRWxlbWVudCIsInNldE1heFRpbWUiLCJzZXRQbGF5aW5nIiwicGxheWluZyIsInN0YXJ0ZWRUaW1lIiwiRGF0ZSIsIm5vdyIsInN0YXJ0ZWRUaW1lUGxheSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBsYXlGcmFtZXMiLCJlbGFwc2VkVGltZSIsIm5ld1RpbWUiLCJ1cGRhdGVUaW1lVG8iLCJzZWVrIiwiZSIsImlzSW5zaWRlIiwidmlzaWJsZSIsImhhbmRsZVNlZWsiLCJhZGRWaWRlbyIsInZpZGVvRWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ2aWRlb0R1cmF0aW9uTXMiLCJhc3BlY3RSYXRpbyIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsIm5hbWUiLCJyb3RhdGlvbiIsImVsZW1lbnRJZCIsInNyYyIsImFkZEltYWdlIiwiaW1hZ2VFbGVtZW50IiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImFkZEF1ZGlvIiwiYXVkaW9FbGVtZW50IiwiYXVkaW9EdXJhdGlvbk1zIiwiYWRkVGV4dCIsIm9wdGlvbnMiLCJ0ZXh0IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidmlkZW9UaW1lIiwiY3VycmVudFRpbWUiLCJwbGF5IiwicGF1c2UiLCJhdWRpb1RpbWUiLCJzZXRWaWRlb0Zvcm1hdCIsImZvcm1hdCIsInNlbGVjdGVkVmlkZW9Gb3JtYXQiLCJzYXZlQ2FudmFzVG9WaWRlb1dpdGhBdWRpbyIsInNhdmVDYW52YXNUb1ZpZGVvV2l0aEF1ZGlvV2VibU1wNCIsImNvbnNvbGUiLCJsb2ciLCJtcDQiLCJzdHJlYW0iLCJjYXB0dXJlU3RyZWFtIiwiYXVkaW9FbGVtZW50cyIsImlzRWRpdG9yQXVkaW9FbGVtZW50IiwiYXVkaW9TdHJlYW1zIiwiY3R4IiwiQXVkaW9Db250ZXh0Iiwic291cmNlTm9kZSIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImRlc3QiLCJjcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiYXVkaW9TdHJlYW0iLCJhZGRUcmFjayIsImdldEF1ZGlvVHJhY2tzIiwiY3JlYXRlRWxlbWVudCIsInNyY09iamVjdCIsInRoZW4iLCJtZWRpYVJlY29yZGVyIiwiTWVkaWFSZWNvcmRlciIsImNodW5rcyIsIm9uZGF0YWF2YWlsYWJsZSIsImRhdGEiLCJvbnN0b3AiLCJibG9iIiwiQmxvYiIsIlVpbnQ4QXJyYXkiLCJhcnJheUJ1ZmZlciIsImZmbXBlZyIsImJhc2VVUkwiLCJsb2FkIiwiY29yZVVSTCIsIndhc21VUkwiLCJ3cml0ZUZpbGUiLCJleGVjIiwib3V0cHV0IiwicmVhZEZpbGUiLCJvdXRwdXRCbG9iIiwib3V0cHV0VXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJocmVmIiwiY2xpY2siLCJ1cmwiLCJzZXRUaW1lb3V0Iiwic3RvcCIsInN0b3JlIiwiZ2V0T2JqZWN0cyIsInZpZGVvT2JqZWN0IiwiQ292ZXJWaWRlbyIsImFuZ2xlIiwib2JqZWN0Q2FjaGluZyIsInNlbGVjdGFibGUiLCJsb2NrVW5pU2NhbGluZyIsImN1c3RvbUZpbHRlciIsImltYWdlT2JqZWN0Iiwib24iLCJ0YXJnZXQiLCJuZXdQbGFjZW1lbnQiLCJuZXdFbGVtZW50IiwiQ292ZXJJbWFnZSIsInciLCJoIiwic2NhbGVUb0hlaWdodCIsInNjYWxlVG9XaWR0aCIsInRvU2NhbGUiLCJmaWFubFNjYWxlIiwiVGV4dGJveCIsImZpbGwiLCJFcnJvciIsInNlbGVjdGVkRWRpdG9yRWxlbWVudCIsInJlbmRlckFsbCIsImNvbnN0cnVjdG9yIiwicG9zc2libGVWaWRlb0Zvcm1hdHMiLCJjb3B5Q2hhcnNPYmplY3RzIiwiY2hhcmFjdGVycyIsInNwbGl0IiwibSIsImNoYXJPYmplY3RzIiwiX19jaGFyQm91bmRzIiwiY2hhck9iamVjdEZpeGVkIiwic2xpY2UiLCJmbGF0IiwibGluZUhlaWdodCIsImdldEhlaWdodE9mTGluZSIsImNoYXJPYmplY3QiLCJsaW5lSW5kZXgiLCJjaGFyIiwiY2hhclRleHRPYmplY3QiLCJUZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-client)/./src/store/Store.ts\n"));

/***/ })

});